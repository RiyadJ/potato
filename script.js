!function() {
    var t = function(t) {
        var n = {
            exports: {}
        };
        return t.call(n.exports, n, n.exports),
        n.exports
    }
      , d = function(t) {
        return t && t.__esModule ? t : {
            "default": t
        }
    }
      , v = t(function(t) {
        var n = {}.toString;
        t.exports = function(t) {
            return n.call(t).slice(8, -1)
        }
    })
      , T = t(function(t) {
        var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
        "number" == typeof __g && (__g = n)
    })
      , o = t(function(t) {
        var n = "__core-js_shared__"
          , e = T[n] || (T[n] = {});
        t.exports = function(t) {
            return e[t] || (e[t] = {})
        }
    })
      , l = t(function(t) {
        var n = 0
          , e = Math.random();
        t.exports = function(t) {
            return "Symbol(".concat(t === undefined ? "" : t, ")_", (++n + e).toString(36))
        }
    })
      , j = t(function(t) {
        var n = o("wks")
          , e = T.Symbol
          , r = "function" == typeof e;
        (t.exports = function(t) {
            return n[t] || (n[t] = r && e[t] || (r ? e : l)("Symbol." + t))
        }
        ).store = n
    })
      , F = t(function(t) {
        var o = j("toStringTag")
          , i = "Arguments" == v(function() {
            return arguments
        }())
          , u = function(t, n) {
            try {
                return t[n]
            } catch (e) {}
        };
        t.exports = function(t) {
            var n, e, r;
            return t === undefined ? "Undefined" : null === t ? "Null" : "string" == typeof (e = u(n = Object(t), o)) ? e : i ? v(n) : "Object" == (r = v(n)) && "function" == typeof n.callee ? "Arguments" : r
        }
    })
      , k = t(function(t) {
        t.exports = function(t) {
            return "object" == typeof t ? null !== t : "function" == typeof t
        }
    })
      , h = t(function(t) {
        t.exports = function(t) {
            if (!k(t))
                throw TypeError(t + " is not an object!");
            return t
        }
    })
      , m = t(function(t) {
        t.exports = function(t) {
            try {
                return !!t()
            } catch (n) {
                return !0
            }
        }
    })
      , p = t(function(t) {
        t.exports = !m(function() {
            return 7 != Object.defineProperty({}, "a", {
                get: function() {
                    return 7
                }
            }).a
        })
    })
      , b = t(function(t) {
        var n = T.document
          , e = k(n) && k(n.createElement);
        t.exports = function(t) {
            return e ? n.createElement(t) : {}
        }
    })
      , u = t(function(t) {
        t.exports = !p && !m(function() {
            return 7 != Object.defineProperty(b("div"), "a", {
                get: function() {
                    return 7
                }
            }).a
        })
    })
      , c = t(function(t) {
        t.exports = function(t, n) {
            if (!k(t))
                return t;
            var e, r;
            if (n && "function" == typeof (e = t.toString) && !k(r = e.call(t)))
                return r;
            if ("function" == typeof (e = t.valueOf) && !k(r = e.call(t)))
                return r;
            if (!n && "function" == typeof (e = t.toString) && !k(r = e.call(t)))
                return r;
            throw TypeError("Can't convert object to primitive value")
        }
    })
      , y = t(function(t, n) {
        var o = Object.defineProperty;
        n.f = p ? Object.defineProperty : function i(t, n, e) {
            if (h(t),
            n = c(n, !0),
            h(e),
            u)
                try {
                    return o(t, n, e)
                } catch (r) {}
            if ("get"in e || "set"in e)
                throw TypeError("Accessors not supported!");
            return "value"in e && (t[n] = e.value),
            t
        }
    })
      , i = t(function(t) {
        t.exports = function(t, n) {
            return {
                enumerable: !(1 & t),
                configurable: !(2 & t),
                writable: !(4 & t),
                value: n
            }
        }
    })
      , E = t(function(t) {
        t.exports = p ? function(t, n, e) {
            return y.f(t, n, i(1, e))
        }
        : function(t, n, e) {
            return t[n] = e,
            t
        }
    })
      , O = t(function(t) {
        var e = {}.hasOwnProperty;
        t.exports = function(t, n) {
            return e.call(t, n)
        }
    })
      , B = t(function(t) {
        var n = t.exports = {
            version: "2.5.1"
        };
        "number" == typeof __e && (__e = n)
    })
      , L = t(function(t) {
        var i = l("src")
          , n = "toString"
          , e = Function[n]
          , u = ("" + e).split(n);
        B.inspectSource = function(t) {
            return e.call(t)
        }
        ,
        (t.exports = function(t, n, e, r) {
            var o = "function" == typeof e;
            o && (O(e, "name") || E(e, "name", n)),
            t[n] !== e && (o && (O(e, i) || E(e, i, t[n] ? "" + t[n] : u.join(String(n)))),
            t === T ? t[n] = e : r ? t[n] ? t[n] = e : E(t, n, e) : (delete t[n],
            E(t, n, e)))
        }
        )(Function.prototype, n, function r() {
            return "function" == typeof this && this[i] || e.call(this)
        })
    })
      , s = (t(function() {
        "use strict";
        var t = {};
        t[j("toStringTag")] = "z",
        t + "" != "[object z]" && L(Object.prototype, "toString", function n() {
            return "[object " + F(this) + "]"
        }, !0)
    }),
    t(function(t) {
        var n = Math.ceil
          , e = Math.floor;
        t.exports = function(t) {
            return isNaN(t = +t) ? 0 : (0 < t ? e : n)(t)
        }
    }))
      , f = t(function(t) {
        t.exports = function(t) {
            if (t == undefined)
                throw TypeError("Can't call method on  " + t);
            return t
        }
    })
      , n = t(function(t) {
        t.exports = function(c) {
            return function(t, n) {
                var e, r, o = String(f(t)), i = s(n), u = o.length;
                return i < 0 || u <= i ? c ? "" : undefined : (e = o.charCodeAt(i)) < 55296 || 56319 < e || i + 1 === u || (r = o.charCodeAt(i + 1)) < 56320 || 57343 < r ? c ? o.charAt(i) : e : c ? o.slice(i, i + 2) : r - 56320 + (e - 55296 << 10) + 65536
            }
        }
    })
      , M = t(function(t) {
        t.exports = !1
    })
      , C = t(function(t) {
        t.exports = function(t) {
            if ("function" != typeof t)
                throw TypeError(t + " is not a function!");
            return t
        }
    })
      , I = t(function(t) {
        t.exports = function(r, o, t) {
            if (C(r),
            o === undefined)
                return r;
            switch (t) {
            case 1:
                return function(t) {
                    return r.call(o, t)
                }
                ;
            case 2:
                return function(t, n) {
                    return r.call(o, t, n)
                }
                ;
            case 3:
                return function(t, n, e) {
                    return r.call(o, t, n, e)
                }
            }
            return function() {
                return r.apply(o, arguments)
            }
        }
    })
      , R = t(function(t) {
        var y = "prototype"
          , v = function(t, n, e) {
            var r, o, i, u, c = t & v.F, s = t & v.G, f = t & v.S, a = t & v.P, l = t & v.B, d = s ? T : f ? T[n] || (T[n] = {}) : (T[n] || {})[y], p = s ? B : B[n] || (B[n] = {}), h = p[y] || (p[y] = {});
            for (r in s && (e = n),
            e)
                i = ((o = !c && d && d[r] !== undefined) ? d : e)[r],
                u = l && o ? I(i, T) : a && "function" == typeof i ? I(Function.call, i) : i,
                d && L(d, r, i, t & v.U),
                p[r] != i && E(p, r, u),
                a && h[r] != i && (h[r] = i)
        };
        T.core = B,
        v.F = 1,
        v.G = 2,
        v.S = 4,
        v.P = 8,
        v.B = 16,
        v.W = 32,
        v.U = 64,
        v.R = 128,
        t.exports = v
    })
      , D = t(function(t) {
        t.exports = {}
    })
      , _ = t(function(t) {
        t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
            return "String" == v(t) ? t.split("") : Object(t)
        }
    })
      , a = t(function(t) {
        t.exports = function(t) {
            return _(f(t))
        }
    })
      , w = t(function(t) {
        var n = Math.min;
        t.exports = function(t) {
            return 0 < t ? n(s(t), 9007199254740991) : 0
        }
    })
      , x = t(function(t) {
        var e = Math.max
          , r = Math.min;
        t.exports = function(t, n) {
            return (t = s(t)) < 0 ? e(t + n, 0) : r(t, n)
        }
    })
      , g = t(function(t) {
        t.exports = function(c) {
            return function(t, n, e) {
                var r, o = a(t), i = w(o.length), u = x(e, i);
                if (c && n != n) {
                    for (; u < i; )
                        if ((r = o[u++]) != r)
                            return !0
                } else
                    for (; u < i; u++)
                        if ((c || u in o) && o[u] === n)
                            return c || u || 0;
                return !c && -1
            }
        }
    })
      , A = t(function(t) {
        var n = o("keys");
        t.exports = function(t) {
            return n[t] || (n[t] = l(t))
        }
    })
      , e = t(function(t) {
        var u = g(!1)
          , c = A("IE_PROTO");
        t.exports = function(t, n) {
            var e, r = a(t), o = 0, i = [];
            for (e in r)
                e != c && O(r, e) && i.push(e);
            for (; n.length > o; )
                O(r, e = n[o++]) && (~u(i, e) || i.push(e));
            return i
        }
    })
      , S = t(function(t) {
        t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
    })
      , P = t(function(t) {
        t.exports = Object.keys || function n(t) {
            return e(t, S)
        }
    })
      , U = t(function(t) {
        t.exports = p ? Object.defineProperties : function u(t, n) {
            h(t);
            for (var e, r = P(n), o = r.length, i = 0; i < o; )
                y.f(t, e = r[i++], n[e]);
            return t
        }
    })
      , N = t(function(t) {
        var n = T.document;
        t.exports = n && n.documentElement
    })
      , G = t(function(t) {
        var r = A("IE_PROTO")
          , o = function() {}
          , i = "prototype"
          , u = function() {
            var t, n = b("iframe"), e = S.length, r = "<", o = ">";
            for (n.style.display = "none",
            N.appendChild(n),
            n.src = "javascript:",
            (t = n.contentWindow.document).open(),
            t.write(r + "script" + o + "document.F=Object" + r + "/script" + o),
            t.close(),
            u = t.F; e--; )
                delete u[i][S[e]];
            return u()
        };
        t.exports = Object.create || function c(t, n) {
            var e;
            return null !== t ? (o[i] = h(t),
            e = new o,
            o[i] = null,
            e[r] = t) : e = u(),
            n === undefined ? e : U(e, n)
        }
    })
      , H = t(function(t) {
        var r = y.f
          , o = j("toStringTag");
        t.exports = function(t, n, e) {
            t && !O(t = e ? t : t.prototype, o) && r(t, o, {
                configurable: !0,
                value: n
            })
        }
    })
      , q = t(function(t) {
        "use strict";
        var r = {};
        E(r, j("iterator"), function() {
            return this
        }),
        t.exports = function(t, n, e) {
            t.prototype = G(r, {
                next: i(1, e)
            }),
            H(t, n + " Iterator")
        }
    })
      , z = t(function(t) {
        t.exports = function(t) {
            return Object(f(t))
        }
    })
      , V = t(function(t) {
        var n = A("IE_PROTO")
          , e = Object.prototype;
        t.exports = Object.getPrototypeOf || function(t) {
            return t = z(t),
            O(t, n) ? t[n] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? e : null
        }
    })
      , W = t(function(t) {
        "use strict";
        var w = j("iterator")
          , x = !([].keys && "next"in [].keys())
          , g = "@@iterator"
          , A = "keys"
          , S = "values"
          , P = function() {
            return this
        };
        t.exports = function(t, n, o, e, r, i, u) {
            q(o, n, e);
            var c, s, f, a = function(t) {
                if (!x && t in h)
                    return h[t];
                switch (t) {
                case A:
                    return function n() {
                        return new o(this,t)
                    }
                    ;
                case S:
                    return function e() {
                        return new o(this,t)
                    }
                }
                return function r() {
                    return new o(this,t)
                }
            }, l = n + " Iterator", d = r == S, p = !1, h = t.prototype, y = h[w] || h[g] || r && h[r], v = y || a(r), m = r ? d ? a("entries") : v : undefined, b = "Array" == n && h.entries || y;
            if (b && (f = V(b.call(new t))) !== Object.prototype && f.next && (H(f, l, !0),
            M || O(f, w) || E(f, w, P)),
            d && y && y.name !== S && (p = !0,
            v = function _() {
                return y.call(this)
            }
            ),
            M && !u || !x && !p && h[w] || E(h, w, v),
            D[n] = v,
            D[l] = P,
            r)
                if (c = {
                    values: d ? v : a(S),
                    keys: i ? v : a(A),
                    entries: m
                },
                u)
                    for (s in c)
                        s in h || L(h, s, c[s]);
                else
                    R(R.P + R.F * (x || p), n, c);
            return c
        }
    })
      , K = (t(function() {
        "use strict";
        var r = n(!0);
        W(String, "String", function(t) {
            this._t = String(t),
            this._i = 0
        }, function() {
            var t, n = this._t, e = this._i;
            return e >= n.length ? {
                value: undefined,
                done: !0
            } : (t = r(n, e),
            this._i += t.length,
            {
                value: t,
                done: !1
            })
        })
    }),
    t(function(t) {
        var n = j("unscopables")
          , e = Array.prototype;
        e[n] == undefined && E(e, n, {}),
        t.exports = function(t) {
            e[n][t] = !0
        }
    }))
      , r = t(function(t) {
        t.exports = function(t, n) {
            return {
                value: n,
                done: !!t
            }
        }
    })
      , J = t(function(t) {
        "use strict";
        t.exports = W(Array, "Array", function(t, n) {
            this._t = a(t),
            this._i = 0,
            this._k = n
        }, function() {
            var t = this._t
              , n = this._k
              , e = this._i++;
            return !t || e >= t.length ? (this._t = undefined,
            r(1)) : r(0, "keys" == n ? e : "values" == n ? t[e] : [e, t[e]])
        }, "values"),
        D.Arguments = D.Array,
        K("keys"),
        K("values"),
        K("entries")
    })
      , X = (t(function() {
        for (var t = j("iterator"), n = j("toStringTag"), e = D.Array, r = {
            CSSRuleList: !0,
            CSSStyleDeclaration: !1,
            CSSValueList: !1,
            ClientRectList: !1,
            DOMRectList: !1,
            DOMStringList: !1,
            DOMTokenList: !0,
            DataTransferItemList: !1,
            FileList: !1,
            HTMLAllCollection: !1,
            HTMLCollection: !1,
            HTMLFormElement: !1,
            HTMLSelectElement: !1,
            MediaList: !0,
            MimeTypeArray: !1,
            NamedNodeMap: !1,
            NodeList: !0,
            PaintRequestList: !1,
            Plugin: !1,
            PluginArray: !1,
            SVGLengthList: !1,
            SVGNumberList: !1,
            SVGPathSegList: !1,
            SVGPointList: !1,
            SVGStringList: !1,
            SVGTransformList: !1,
            SourceBufferList: !1,
            StyleSheetList: !0,
            TextTrackCueList: !1,
            TextTrackList: !1,
            TouchList: !1
        }, o = P(r), i = 0; i < o.length; i++) {
            var u, c = o[i], s = r[c], f = T[c], a = f && f.prototype;
            if (a && (a[t] || E(a, t, e),
            a[n] || E(a, n, c),
            D[c] = e,
            s))
                for (u in J)
                    a[u] || L(a, u, J[u], !0)
        }
    }),
    t(function(t) {
        t.exports = function(t, n, e, r) {
            if (!(t instanceof n) || r !== undefined && r in t)
                throw TypeError(e + ": incorrect invocation!");
            return t
        }
    }))
      , Y = t(function(t) {
        t.exports = function(t, n, e, r) {
            try {
                return r ? n(h(e)[0], e[1]) : n(e)
            } catch (i) {
                var o = t["return"];
                throw o !== undefined && h(o.call(t)),
                i
            }
        }
    })
      , $ = t(function(t) {
        var n = j("iterator")
          , e = Array.prototype;
        t.exports = function(t) {
            return t !== undefined && (D.Array === t || e[n] === t)
        }
    })
      , Q = t(function(t) {
        var n = j("iterator");
        t.exports = B.getIteratorMethod = function(t) {
            if (t != undefined)
                return t[n] || t["@@iterator"] || D[F(t)]
        }
    })
      , Z = t(function(t, n) {
        var d = {}
          , p = {};
        (n = t.exports = function(t, n, e, r, o) {
            var i, u, c, s, f = o ? function() {
                return t
            }
            : Q(t), a = I(e, r, n ? 2 : 1), l = 0;
            if ("function" != typeof f)
                throw TypeError(t + " is not iterable!");
            if ($(f)) {
                for (i = w(t.length); l < i; l++)
                    if ((s = n ? a(h(u = t[l])[0], u[1]) : a(t[l])) === d || s === p)
                        return s
            } else
                for (c = f.call(t); !(u = c.next()).done; )
                    if ((s = Y(c, a, u.value, n)) === d || s === p)
                        return s
        }
        ).BREAK = d,
        n.RETURN = p
    })
      , tt = t(function(t) {
        var o = j("species");
        t.exports = function(t, n) {
            var e, r = h(t).constructor;
            return r === undefined || (e = h(r)[o]) == undefined ? n : C(e)
        }
    })
      , nt = t(function(t) {
        t.exports = function(t, n, e) {
            var r = e === undefined;
            switch (n.length) {
            case 0:
                return r ? t() : t.call(e);
            case 1:
                return r ? t(n[0]) : t.call(e, n[0]);
            case 2:
                return r ? t(n[0], n[1]) : t.call(e, n[0], n[1]);
            case 3:
                return r ? t(n[0], n[1], n[2]) : t.call(e, n[0], n[1], n[2]);
            case 4:
                return r ? t(n[0], n[1], n[2], n[3]) : t.call(e, n[0], n[1], n[2], n[3])
            }
            return t.apply(e, n)
        }
    })
      , et = t(function(t) {
        var r, n, e, o = T.process, i = T.setImmediate, u = T.clearImmediate, c = T.MessageChannel, s = T.Dispatch, f = 0, a = {}, l = "onreadystatechange", d = function() {
            var t = +this;
            if (a.hasOwnProperty(t)) {
                var n = a[t];
                delete a[t],
                n()
            }
        }, p = function(t) {
            d.call(t.data)
        };
        i && u || (i = function h(t) {
            for (var n = [], e = 1; arguments.length > e; )
                n.push(arguments[e++]);
            return a[++f] = function() {
                nt("function" == typeof t ? t : Function(t), n)
            }
            ,
            r(f),
            f
        }
        ,
        u = function y(t) {
            delete a[t]
        }
        ,
        "process" == v(o) ? r = function(t) {
            o.nextTick(I(d, t, 1))
        }
        : s && s.now ? r = function(t) {
            s.now(I(d, t, 1))
        }
        : c ? (e = (n = new c).port2,
        n.port1.onmessage = p,
        r = I(e.postMessage, e, 1)) : T.addEventListener && "function" == typeof postMessage && !T.importScripts ? (r = function(t) {
            T.postMessage(t + "", "*")
        }
        ,
        T.addEventListener("message", p, !1)) : r = l in b("script") ? function(t) {
            N.appendChild(b("script"))[l] = function() {
                N.removeChild(this),
                d.call(t)
            }
        }
        : function(t) {
            setTimeout(I(d, t, 1), 0)
        }
        ),
        t.exports = {
            set: i,
            clear: u
        }
    })
      , rt = t(function(t) {
        var c = et.set
          , s = T.MutationObserver || T.WebKitMutationObserver
          , f = T.process
          , a = T.Promise
          , l = "process" == v(f);
        t.exports = function() {
            var r, o, i, t = function() {
                var t, n;
                for (l && (t = f.domain) && t.exit(); r; ) {
                    n = r.fn,
                    r = r.next;
                    try {
                        n()
                    } catch (e) {
                        throw r ? i() : o = undefined,
                        e
                    }
                }
                o = undefined,
                t && t.enter()
            };
            if (l)
                i = function() {
                    f.nextTick(t)
                }
                ;
            else if (s) {
                var n = !0
                  , e = document.createTextNode("");
                new s(t).observe(e, {
                    characterData: !0
                }),
                i = function() {
                    e.data = n = !n
                }
            } else if (a && a.resolve) {
                var u = a.resolve();
                i = function() {
                    u.then(t)
                }
            } else
                i = function() {
                    c.call(T, t)
                }
                ;
            return function(t) {
                var n = {
                    fn: t,
                    next: undefined
                };
                o && (o.next = n),
                r || (r = n,
                i()),
                o = n
            }
        }
    })
      , ot = t(function(t) {
        "use strict";
        function n(t) {
            var e, r;
            this.promise = new t(function(t, n) {
                if (e !== undefined || r !== undefined)
                    throw TypeError("Bad Promise constructor");
                e = t,
                r = n
            }
            ),
            this.resolve = C(e),
            this.reject = C(r)
        }
        t.exports.f = function(t) {
            return new n(t)
        }
    })
      , it = t(function(t) {
        t.exports = function(t) {
            try {
                return {
                    e: !1,
                    v: t()
                }
            } catch (n) {
                return {
                    e: !0,
                    v: n
                }
            }
        }
    })
      , ut = t(function(t) {
        t.exports = function(t, n) {
            if (h(t),
            k(n) && n.constructor === t)
                return n;
            var e = ot.f(t);
            return (0,
            e.resolve)(n),
            e.promise
        }
    })
      , ct = t(function(t) {
        t.exports = function(t, n, e) {
            for (var r in n)
                L(t, r, n[r], e);
            return t
        }
    })
      , st = t(function(t) {
        "use strict";
        var e = j("species");
        t.exports = function(t) {
            var n = T[t];
            p && n && !n[e] && y.f(n, e, {
                configurable: !0,
                get: function() {
                    return this
                }
            })
        }
    })
      , ft = t(function(t) {
        var i = j("iterator")
          , u = !1;
        try {
            var n = [7][i]();
            n["return"] = function() {
                u = !0
            }
            ,
            Array.from(n, function() {
                throw 2
            })
        } catch (c) {}
        t.exports = function(t, n) {
            if (!n && !u)
                return !1;
            var e = !1;
            try {
                var r = [7]
                  , o = r[i]();
                o.next = function() {
                    return {
                        done: e = !0
                    }
                }
                ,
                r[i] = function() {
                    return o
                }
                ,
                t(r)
            } catch (c) {}
            return e
        }
    })
      , at = (t(function() {
        "use strict";
        var e, n, r, o, t = et.set, i = rt(), u = "Promise", l = T.TypeError, c = T.process, s = T[u], f = "process" == F(c), a = function() {}, d = n = ot.f, p = !!function() {
            try {
                var t = s.resolve(1)
                  , n = (t.constructor = {})[j("species")] = function(t) {
                    t(a, a)
                }
                ;
                return (f || "function" == typeof PromiseRejectionEvent) && t.then(a)instanceof n
            } catch (e) {}
        }(), h = function(t) {
            var n;
            return !(!k(t) || "function" != typeof (n = t.then)) && n
        }, y = function(a, e) {
            if (!a._n) {
                a._n = !0;
                var r = a._c;
                i(function() {
                    for (var s = a._v, f = 1 == a._s, t = 0, n = function(t) {
                        var n, e, r = f ? t.ok : t.fail, o = t.resolve, i = t.reject, u = t.domain;
                        try {
                            r ? (f || (2 == a._h && b(a),
                            a._h = 1),
                            !0 === r ? n = s : (u && u.enter(),
                            n = r(s),
                            u && u.exit()),
                            n === t.promise ? i(l("Promise-chain cycle")) : (e = h(n)) ? e.call(n, o, i) : o(n)) : i(s)
                        } catch (c) {
                            i(c)
                        }
                    }; r.length > t; )
                        n(r[t++]);
                    a._c = [],
                    a._n = !1,
                    e && !a._h && v(a)
                })
            }
        }, v = function(i) {
            t.call(T, function() {
                var t, n, e, r = i._v, o = m(i);
                if (o && (t = it(function() {
                    f ? c.emit("unhandledRejection", r, i) : (n = T.onunhandledrejection) ? n({
                        promise: i,
                        reason: r
                    }) : (e = T.console) && e.error && e.error("Unhandled promise rejection", r)
                }),
                i._h = f || m(i) ? 2 : 1),
                i._a = undefined,
                o && t.e)
                    throw t.v
            })
        }, m = function(t) {
            if (1 == t._h)
                return !1;
            for (var n, e = t._a || t._c, r = 0; e.length > r; )
                if ((n = e[r++]).fail || !m(n.promise))
                    return !1;
            return !0
        }, b = function(n) {
            t.call(T, function() {
                var t;
                f ? c.emit("rejectionHandled", n) : (t = T.onrejectionhandled) && t({
                    promise: n,
                    reason: n._v
                })
            })
        }, _ = function(t) {
            var n = this;
            n._d || (n._d = !0,
            (n = n._w || n)._v = t,
            n._s = 2,
            n._a || (n._a = n._c.slice()),
            y(n, !0))
        }, w = function(e) {
            var r, o = this;
            if (!o._d) {
                o._d = !0,
                o = o._w || o;
                try {
                    if (o === e)
                        throw l("Promise can't be resolved itself");
                    (r = h(e)) ? i(function() {
                        var t = {
                            _w: o,
                            _d: !1
                        };
                        try {
                            r.call(e, I(w, t, 1), I(_, t, 1))
                        } catch (n) {
                            _.call(t, n)
                        }
                    }) : (o._v = e,
                    o._s = 1,
                    y(o, !1))
                } catch (t) {
                    _.call({
                        _w: o,
                        _d: !1
                    }, t)
                }
            }
        };
        p || (s = function x(t) {
            X(this, s, u, "_h"),
            C(t),
            e.call(this);
            try {
                t(I(w, this, 1), I(_, this, 1))
            } catch (n) {
                _.call(this, n)
            }
        }
        ,
        (e = function g() {
            this._c = [],
            this._a = undefined,
            this._s = 0,
            this._d = !1,
            this._v = undefined,
            this._h = 0,
            this._n = !1
        }
        ).prototype = ct(s.prototype, {
            then: function A(t, n) {
                var e = d(tt(this, s));
                return e.ok = "function" != typeof t || t,
                e.fail = "function" == typeof n && n,
                e.domain = f ? c.domain : undefined,
                this._c.push(e),
                this._a && this._a.push(e),
                this._s && y(this, !1),
                e.promise
            },
            "catch": function(t) {
                return this.then(undefined, t)
            }
        }),
        r = function() {
            var t = new e;
            this.promise = t,
            this.resolve = I(w, t, 1),
            this.reject = I(_, t, 1)
        }
        ,
        ot.f = d = function(t) {
            return t === s || t === o ? new r(t) : n(t)
        }
        ),
        R(R.G + R.W + R.F * !p, {
            Promise: s
        }),
        H(s, u),
        st(u),
        o = B[u],
        R(R.S + R.F * !p, u, {
            reject: function S(t) {
                var n = d(this);
                return (0,
                n.reject)(t),
                n.promise
            }
        }),
        R(R.S + R.F * (M || !p), u, {
            resolve: function P(t) {
                return ut(M && this === o ? s : this, t)
            }
        }),
        R(R.S + R.F * !(p && ft(function(t) {
            s.all(t)["catch"](a)
        })), u, {
            all: function E(t) {
                var u = this
                  , n = d(u)
                  , c = n.resolve
                  , s = n.reject
                  , e = it(function() {
                    var r = []
                      , o = 0
                      , i = 1;
                    Z(t, !1, function(t) {
                        var n = o++
                          , e = !1;
                        r.push(undefined),
                        i++,
                        u.resolve(t).then(function(t) {
                            e || (e = !0,
                            r[n] = t,
                            --i || c(r))
                        }, s)
                    }),
                    --i || c(r)
                });
                return e.e && s(e.v),
                n.promise
            },
            race: function O(t) {
                var n = this
                  , e = d(n)
                  , r = e.reject
                  , o = it(function() {
                    Z(t, !1, function(t) {
                        n.resolve(t).then(e.resolve, r)
                    })
                });
                return o.e && r(o.v),
                e.promise
            }
        })
    }),
    t(function(t) {
        t.exports = B.Promise
    }),
    t(function(t) {
        t.exports = Array.isArray || function n(t) {
            return "Array" == v(t)
        }
    }))
      , lt = (t(function() {
        R(R.S, "Array", {
            isArray: at
        })
    }),
    t(function(t) {
        "use strict";
        t.exports = function(t, n, e) {
            n in t ? y.f(t, n, i(0, e)) : t[n] = e
        }
    }))
      , dt = (t(function() {
        "use strict";
        R(R.S + R.F * !ft(function(t) {
            Array.from(t)
        }), "Array", {
            from: function h(t, n, e) {
                var r, o, i, u, c = z(t), s = "function" == typeof this ? this : Array, f = arguments.length, a = 1 < f ? n : undefined, l = a !== undefined, d = 0, p = Q(c);
                if (l && (a = I(a, 2 < f ? e : undefined, 2)),
                p == undefined || s == Array && $(p))
                    for (o = new s(r = w(c.length)); d < r; d++)
                        lt(o, d, l ? a(c[d], d) : c[d]);
                else
                    for (u = p.call(c),
                    o = new s; !(i = u.next()).done; d++)
                        lt(o, d, l ? Y(u, a, [i.value, d], !0) : i.value);
                return o.length = d,
                o
            }
        })
    }),
    t(function() {
        "use strict";
        R(R.S + R.F * m(function() {
            function t() {}
            return !(Array.of.call(t)instanceof t)
        }), "Array", {
            of: function r() {
                for (var t = 0, n = arguments.length, e = new ("function" == typeof this ? this : Array)(n); t < n; )
                    lt(e, t, arguments[t++]);
                return e.length = n,
                e
            }
        })
    }),
    t(function(t) {
        "use strict";
        t.exports = function(t, n) {
            return !!t && m(function() {
                n ? t.call(null, function() {}, 1) : t.call(null)
            })
        }
    }))
      , pt = (t(function() {
        "use strict";
        var n = [].join;
        R(R.P + R.F * (_ != Object || !dt(n)), "Array", {
            join: function e(t) {
                return n.call(a(this), t === undefined ? "," : t)
            }
        })
    }),
    t(function() {
        "use strict";
        var f = [].slice;
        R(R.P + R.F * m(function() {
            N && f.call(N)
        }), "Array", {
            slice: function a(t, n) {
                var e = w(this.length)
                  , r = v(this);
                if (n = n === undefined ? e : n,
                "Array" == r)
                    return f.call(this, t, n);
                for (var o = x(t, e), i = x(n, e), u = w(i - o), c = Array(u), s = 0; s < u; s++)
                    c[s] = "String" == r ? this.charAt(o + s) : this[o + s];
                return c
            }
        })
    }),
    t(function() {
        "use strict";
        var n = [].sort
          , t = [1, 2, 3];
        R(R.P + R.F * (m(function() {
            t.sort(undefined)
        }) || !m(function() {
            t.sort(null)
        }) || !dt(n)), "Array", {
            sort: function e(t) {
                return t === undefined ? n.call(z(this)) : n.call(z(this), C(t))
            }
        })
    }),
    t(function(t) {
        var e = j("species");
        t.exports = function(t) {
            var n;
            return at(t) && ("function" != typeof (n = t.constructor) || n !== Array && !at(n.prototype) || (n = undefined),
            k(n) && null === (n = n[e]) && (n = undefined)),
            n === undefined ? Array : n
        }
    }))
      , ht = t(function(t) {
        t.exports = function(t, n) {
            return new (pt(t))(n)
        }
    })
      , yt = t(function(t) {
        t.exports = function(l, t) {
            var d = 1 == l
              , p = 2 == l
              , h = 3 == l
              , y = 4 == l
              , v = 6 == l
              , m = 5 == l || v
              , b = t || ht;
            return function(t, n, e) {
                for (var r, o, i = z(t), u = _(i), c = I(n, e, 3), s = w(u.length), f = 0, a = d ? b(t, s) : p ? b(t, 0) : undefined; f < s; f++)
                    if ((m || f in u) && (o = c(r = u[f], f, i),
                    l))
                        if (d)
                            a[f] = o;
                        else if (o)
                            switch (l) {
                            case 3:
                                return !0;
                            case 5:
                                return r;
                            case 6:
                                return f;
                            case 2:
                                a.push(r)
                            }
                        else if (y)
                            return !1;
                return v ? -1 : h || y ? y : a
            }
        }
    })
      , vt = (t(function() {
        "use strict";
        var e = yt(0)
          , t = dt([].forEach, !0);
        R(R.P + R.F * !t, "Array", {
            forEach: function r(t, n) {
                return e(this, t, n)
            }
        })
    }),
    t(function() {
        "use strict";
        var e = yt(1);
        R(R.P + R.F * !dt([].map, !0), "Array", {
            map: function r(t, n) {
                return e(this, t, n)
            }
        })
    }),
    t(function() {
        "use strict";
        var e = yt(2);
        R(R.P + R.F * !dt([].filter, !0), "Array", {
            filter: function r(t, n) {
                return e(this, t, n)
            }
        })
    }),
    t(function() {
        "use strict";
        var e = yt(3);
        R(R.P + R.F * !dt([].some, !0), "Array", {
            some: function r(t, n) {
                return e(this, t, n)
            }
        })
    }),
    t(function() {
        "use strict";
        var e = yt(4);
        R(R.P + R.F * !dt([].every, !0), "Array", {
            every: function r(t, n) {
                return e(this, t, n)
            }
        })
    }),
    t(function(t) {
        t.exports = function(t, n, e, r, o) {
            C(n);
            var i = z(t)
              , u = _(i)
              , c = w(i.length)
              , s = o ? c - 1 : 0
              , f = o ? -1 : 1;
            if (e < 2)
                for (; ; ) {
                    if (s in u) {
                        r = u[s],
                        s += f;
                        break
                    }
                    if (s += f,
                    o ? s < 0 : c <= s)
                        throw TypeError("Reduce of empty array with no initial value")
                }
            for (; o ? 0 <= s : s < c; s += f)
                s in u && (r = n(r, u[s], s, i));
            return r
        }
    }))
      , mt = (t(function() {
        "use strict";
        R(R.P + R.F * !dt([].reduce, !0), "Array", {
            reduce: function e(t, n) {
                return vt(this, t, arguments.length, n, !1)
            }
        })
    }),
    t(function() {
        "use strict";
        R(R.P + R.F * !dt([].reduceRight, !0), "Array", {
            reduceRight: function e(t, n) {
                return vt(this, t, arguments.length, n, !0)
            }
        })
    }),
    t(function() {
        "use strict";
        var e = g(!1)
          , r = [].indexOf
          , o = !!r && 1 / [1].indexOf(1, -0) < 0;
        R(R.P + R.F * (o || !dt(r)), "Array", {
            indexOf: function i(t, n) {
                return o ? r.apply(this, arguments) || 0 : e(this, t, n)
            }
        })
    }),
    t(function() {
        "use strict";
        var i = [].lastIndexOf
          , u = !!i && 1 / [1].lastIndexOf(1, -0) < 0;
        R(R.P + R.F * (u || !dt(i)), "Array", {
            lastIndexOf: function c(t, n) {
                if (u)
                    return i.apply(this, arguments) || 0;
                var e = a(this)
                  , r = w(e.length)
                  , o = r - 1;
                for (1 < arguments.length && (o = Math.min(o, s(n))),
                o < 0 && (o = r + o); 0 <= o; o--)
                    if (o in e && e[o] === t)
                        return o || 0;
                return -1
            }
        })
    }),
    t(function(t) {
        "use strict";
        t.exports = [].copyWithin || function a(t, n, e) {
            var r = z(this)
              , o = w(r.length)
              , i = x(t, o)
              , u = x(n, o)
              , c = 2 < arguments.length ? e : undefined
              , s = Math.min((c === undefined ? o : x(c, o)) - u, o - i)
              , f = 1;
            for (u < i && i < u + s && (f = -1,
            u += s - 1,
            i += s - 1); 0 < s--; )
                u in r ? r[i] = r[u] : delete r[i],
                i += f,
                u += f;
            return r
        }
    }))
      , bt = (t(function() {
        R(R.P, "Array", {
            copyWithin: mt
        }),
        K("copyWithin")
    }),
    t(function(t) {
        "use strict";
        t.exports = function f(t, n, e) {
            for (var r = z(this), o = w(r.length), i = arguments.length, u = x(1 < i ? n : undefined, o), c = 2 < i ? e : undefined, s = c === undefined ? o : x(c, o); u < s; )
                r[u++] = t;
            return r
        }
    }))
      , _t = (t(function() {
        R(R.P, "Array", {
            fill: bt
        }),
        K("fill")
    }),
    t(function() {
        "use strict";
        var e = yt(5)
          , t = "find"
          , n = !0;
        t in [] && Array(1)[t](function() {
            n = !1
        }),
        R(R.P + R.F * n, "Array", {
            find: function r(t, n) {
                return e(this, t, 1 < arguments.length ? n : undefined)
            }
        }),
        K(t)
    }),
    t(function() {
        "use strict";
        var e = yt(6)
          , t = "findIndex"
          , n = !0;
        t in [] && Array(1)[t](function() {
            n = !1
        }),
        R(R.P + R.F * n, "Array", {
            findIndex: function r(t, n) {
                return e(this, t, 1 < arguments.length ? n : undefined)
            }
        }),
        K(t)
    }),
    t(function() {
        st("Array")
    }),
    t(function(t) {
        t.exports = B.Array
    }),
    t(function(t) {
        var e = l("meta")
          , n = y.f
          , r = 0
          , o = Object.isExtensible || function() {
            return !0
        }
          , i = !m(function() {
            return o(Object.preventExtensions({}))
        })
          , u = function(t) {
            n(t, e, {
                value: {
                    i: "O" + ++r,
                    w: {}
                }
            })
        }
          , c = function(t, n) {
            if (!k(t))
                return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
            if (!O(t, e)) {
                if (!o(t))
                    return "F";
                if (!n)
                    return "E";
                u(t)
            }
            return t[e].i
        }
          , s = function(t, n) {
            if (!O(t, e)) {
                if (!o(t))
                    return !0;
                if (!n)
                    return !1;
                u(t)
            }
            return t[e].w
        }
          , f = function(t) {
            return i && a.NEED && o(t) && !O(t, e) && u(t),
            t
        }
          , a = t.exports = {
            KEY: e,
            NEED: !1,
            fastKey: c,
            getWeak: s,
            onFreeze: f
        }
    }))
      , wt = t(function(t) {
        t.exports = function(t, n) {
            if (!k(t) || t._t !== n)
                throw TypeError("Incompatible receiver, " + n + " required!");
            return t
        }
    })
      , xt = t(function(t) {
        "use strict";
        var s = y.f
          , u = _t.fastKey
          , f = p ? "_s" : "size"
          , a = function(t, n) {
            var e, r = u(n);
            if ("F" !== r)
                return t._i[r];
            for (e = t._f; e; e = e.n)
                if (e.k == n)
                    return e
        };
        t.exports = {
            getConstructor: function(t, i, e, r) {
                var o = t(function(t, n) {
                    X(t, o, i, "_i"),
                    t._t = i,
                    t._i = G(null),
                    t._f = undefined,
                    t._l = undefined,
                    t[f] = 0,
                    n != undefined && Z(n, e, t[r], t)
                });
                return ct(o.prototype, {
                    clear: function u() {
                        for (var t = wt(this, i), n = t._i, e = t._f; e; e = e.n)
                            e.r = !0,
                            e.p && (e.p = e.p.n = undefined),
                            delete n[e.i];
                        t._f = t._l = undefined,
                        t[f] = 0
                    },
                    "delete": function(t) {
                        var n = wt(this, i)
                          , e = a(n, t);
                        if (e) {
                            var r = e.n
                              , o = e.p;
                            delete n._i[e.i],
                            e.r = !0,
                            o && (o.n = r),
                            r && (r.p = o),
                            n._f == e && (n._f = r),
                            n._l == e && (n._l = o),
                            n[f]--
                        }
                        return !!e
                    },
                    forEach: function c(t, n) {
                        wt(this, i);
                        for (var e, r = I(t, 1 < arguments.length ? n : undefined, 3); e = e ? e.n : this._f; )
                            for (r(e.v, e.k, this); e && e.r; )
                                e = e.p
                    },
                    has: function n(t) {
                        return !!a(wt(this, i), t)
                    }
                }),
                p && s(o.prototype, "size", {
                    get: function() {
                        return wt(this, i)[f]
                    }
                }),
                o
            },
            def: function(t, n, e) {
                var r, o, i = a(t, n);
                return i ? i.v = e : (t._l = i = {
                    i: o = u(n, !0),
                    k: n,
                    v: e,
                    p: r = t._l,
                    n: undefined,
                    r: !1
                },
                t._f || (t._f = i),
                r && (r.n = i),
                t[f]++,
                "F" !== o && (t._i[o] = i)),
                t
            },
            getEntry: a,
            setStrong: function(t, e, n) {
                W(t, e, function(t, n) {
                    this._t = wt(t, e),
                    this._k = n,
                    this._l = undefined
                }, function() {
                    for (var t = this, n = t._k, e = t._l; e && e.r; )
                        e = e.p;
                    return t._t && (t._l = e = e ? e.n : t._t._f) ? r(0, "keys" == n ? e.k : "values" == n ? e.v : [e.k, e.v]) : (t._t = undefined,
                    r(1))
                }, n ? "entries" : "values", !n, !0),
                st(e)
            }
        }
    })
      , gt = t(function(t, n) {
        n.f = {}.propertyIsEnumerable
    })
      , At = t(function(t, n) {
        var r = Object.getOwnPropertyDescriptor;
        n.f = p ? r : function o(t, n) {
            if (t = a(t),
            n = c(n, !0),
            u)
                try {
                    return r(t, n)
                } catch (e) {}
            if (O(t, n))
                return i(!gt.f.call(t, n), t[n])
        }
    })
      , St = t(function(t) {
        var i = function(t, n) {
            if (h(t),
            !k(n) && null !== n)
                throw TypeError(n + ": can't set as prototype!")
        };
        t.exports = {
            set: Object.setPrototypeOf || ("__proto__"in {} ? function(t, e, r) {
                try {
                    (r = I(Function.call, At.f(Object.prototype, "__proto__").set, 2))(t, []),
                    e = !(t instanceof Array)
                } catch (n) {
                    e = !0
                }
                return function o(t, n) {
                    return i(t, n),
                    e ? t.__proto__ = n : r(t, n),
                    t
                }
            }({}, !1) : undefined),
            check: i
        }
    })
      , Pt = t(function(t) {
        var i = St.set;
        t.exports = function(t, n, e) {
            var r, o = n.constructor;
            return o !== e && "function" == typeof o && (r = o.prototype) !== e.prototype && k(r) && i && i(t, r),
            t
        }
    })
      , Et = t(function(t) {
        "use strict";
        t.exports = function(r, t, n, e, o, u) {
            var i = T[r]
              , c = i
              , s = o ? "set" : "add"
              , f = c && c.prototype
              , a = {}
              , l = function(t) {
                var e = f[t];
                L(f, t, "delete" == t ? function(t) {
                    return !(u && !k(t)) && e.call(this, 0 === t ? 0 : t)
                }
                : "has" == t ? function n(t) {
                    return !(u && !k(t)) && e.call(this, 0 === t ? 0 : t)
                }
                : "get" == t ? function r(t) {
                    return u && !k(t) ? undefined : e.call(this, 0 === t ? 0 : t)
                }
                : "add" == t ? function o(t) {
                    return e.call(this, 0 === t ? 0 : t),
                    this
                }
                : function i(t, n) {
                    return e.call(this, 0 === t ? 0 : t, n),
                    this
                }
                )
            };
            if ("function" == typeof c && (u || f.forEach && !m(function() {
                (new c).entries().next()
            }))) {
                var d = new c
                  , p = d[s](u ? {} : -0, 1) != d
                  , h = m(function() {
                    d.has(1)
                })
                  , y = ft(function(t) {
                    new c(t)
                })
                  , v = !u && m(function() {
                    for (var t = new c, n = 5; n--; )
                        t[s](n, n);
                    return !t.has(-0)
                });
                y || (((c = t(function(t, n) {
                    X(t, c, r);
                    var e = Pt(new i, t, c);
                    return n != undefined && Z(n, o, e[s], e),
                    e
                })).prototype = f).constructor = c),
                (h || v) && (l("delete"),
                l("has"),
                o && l("get")),
                (v || p) && l(s),
                u && f.clear && delete f.clear
            } else
                c = e.getConstructor(t, r, o, s),
                ct(c.prototype, n),
                _t.NEED = !0;
            return H(c, r),
            a[r] = c,
            R(R.G + R.W + R.F * (c != i), a),
            u || e.setStrong(c, r, o),
            c
        }
    });
    t(function(t) {
        "use strict";
        var n = "Set";
        t.exports = Et(n, function(n) {
            return function e(t) {
                return n(this, 0 < arguments.length ? t : undefined)
            }
        }, {
            add: function e(t) {
                return xt.def(wt(this, n), t = 0 === t ? 0 : t, t)
            }
        }, xt)
    }),
    t(function(t) {
        t.exports = B.Set
    });
    !function(t) {
        "use strict";
        function r(t) {
            if ("string" != typeof t && (t = String(t)),
            /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))
                throw new TypeError("Invalid character in header field name");
            return t.toLowerCase()
        }
        function o(t) {
            return "string" != typeof t && (t = String(t)),
            t
        }
        function i(n) {
            var t = {
                next: function() {
                    var t = n.shift();
                    return {
                        done: t === undefined,
                        value: t
                    }
                }
            };
            return m.iterable && (t[Symbol.iterator] = function() {
                return t
            }
            ),
            t
        }
        function u(n) {
            this.map = {},
            n instanceof u ? n.forEach(function(t, n) {
                this.append(n, t)
            }, this) : Array.isArray(n) ? n.forEach(function(t) {
                this.append(t[0], t[1])
            }, this) : n && Object.getOwnPropertyNames(n).forEach(function(t) {
                this.append(t, n[t])
            }, this)
        }
        function n(t) {
            if (t.bodyUsed)
                return Promise.reject(new TypeError("Already read"));
            t.bodyUsed = !0
        }
        function c(e) {
            return new Promise(function(t, n) {
                e.onload = function() {
                    t(e.result)
                }
                ,
                e.onerror = function() {
                    n(e.error)
                }
            }
            )
        }
        function e(t) {
            var n = new FileReader
              , e = c(n);
            return n.readAsArrayBuffer(t),
            e
        }
        function s(t) {
            var n = new FileReader
              , e = c(n);
            return n.readAsText(t),
            e
        }
        function f(t) {
            for (var n = new Uint8Array(t), e = new Array(n.length), r = 0; r < n.length; r++)
                e[r] = String.fromCharCode(n[r]);
            return e.join("")
        }
        function a(t) {
            if (t.slice)
                return t.slice(0);
            var n = new Uint8Array(t.byteLength);
            return n.set(new Uint8Array(t)),
            n.buffer
        }
        function l() {
            return this.bodyUsed = !1,
            this._initBody = function(t) {
                if (this._bodyInit = t)
                    if ("string" == typeof t)
                        this._bodyText = t;
                    else if (m.blob && Blob.prototype.isPrototypeOf(t))
                        this._bodyBlob = t;
                    else if (m.formData && FormData.prototype.isPrototypeOf(t))
                        this._bodyFormData = t;
                    else if (m.searchParams && URLSearchParams.prototype.isPrototypeOf(t))
                        this._bodyText = t.toString();
                    else if (m.arrayBuffer && m.blob && _(t))
                        this._bodyArrayBuffer = a(t.buffer),
                        this._bodyInit = new Blob([this._bodyArrayBuffer]);
                    else {
                        if (!m.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(t) && !w(t))
                            throw new Error("unsupported BodyInit type");
                        this._bodyArrayBuffer = a(t)
                    }
                else
                    this._bodyText = "";
                this.headers.get("content-type") || ("string" == typeof t ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : m.searchParams && URLSearchParams.prototype.isPrototypeOf(t) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
            }
            ,
            m.blob && (this.blob = function() {
                var t = n(this);
                if (t)
                    return t;
                if (this._bodyBlob)
                    return Promise.resolve(this._bodyBlob);
                if (this._bodyArrayBuffer)
                    return Promise.resolve(new Blob([this._bodyArrayBuffer]));
                if (this._bodyFormData)
                    throw new Error("could not read FormData body as blob");
                return Promise.resolve(new Blob([this._bodyText]))
            }
            ,
            this.arrayBuffer = function() {
                return this._bodyArrayBuffer ? n(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(e)
            }
            ),
            this.text = function() {
                var t = n(this);
                if (t)
                    return t;
                if (this._bodyBlob)
                    return s(this._bodyBlob);
                if (this._bodyArrayBuffer)
                    return Promise.resolve(f(this._bodyArrayBuffer));
                if (this._bodyFormData)
                    throw new Error("could not read FormData body as text");
                return Promise.resolve(this._bodyText)
            }
            ,
            m.formData && (this.formData = function() {
                return this.text().then(h)
            }
            ),
            this.json = function() {
                return this.text().then(JSON.parse)
            }
            ,
            this
        }
        function d(t) {
            var n = t.toUpperCase();
            return -1 < x.indexOf(n) ? n : t
        }
        function p(t, n) {
            var e = (n = n || {}).body;
            if (t instanceof p) {
                if (t.bodyUsed)
                    throw new TypeError("Already read");
                this.url = t.url,
                this.credentials = t.credentials,
                n.headers || (this.headers = new u(t.headers)),
                this.method = t.method,
                this.mode = t.mode,
                e || null == t._bodyInit || (e = t._bodyInit,
                t.bodyUsed = !0)
            } else
                this.url = String(t);
            if (this.credentials = n.credentials || this.credentials || "omit",
            !n.headers && this.headers || (this.headers = new u(n.headers)),
            this.method = d(n.method || this.method || "GET"),
            this.mode = n.mode || this.mode || null,
            this.referrer = null,
            ("GET" === this.method || "HEAD" === this.method) && e)
                throw new TypeError("Body not allowed for GET or HEAD requests");
            this._initBody(e)
        }
        function h(t) {
            var o = new FormData;
            return t.trim().split("&").forEach(function(t) {
                if (t) {
                    var n = t.split("=")
                      , e = n.shift().replace(/\+/g, " ")
                      , r = n.join("=").replace(/\+/g, " ");
                    o.append(decodeURIComponent(e), decodeURIComponent(r))
                }
            }),
            o
        }
        function y(t) {
            var o = new u;
            return t.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(t) {
                var n = t.split(":")
                  , e = n.shift().trim();
                if (e) {
                    var r = n.join(":").trim();
                    o.append(e, r)
                }
            }),
            o
        }
        function v(t, n) {
            n || (n = {}),
            this.type = "default",
            this.status = n.status === undefined ? 200 : n.status,
            this.ok = 200 <= this.status && this.status < 300,
            this.statusText = "statusText"in n ? n.statusText : "OK",
            this.headers = new u(n.headers),
            this.url = n.url || "",
            this._initBody(t)
        }
        if (!t.fetch) {
            var m = {
                searchParams: "URLSearchParams"in t,
                iterable: "Symbol"in t && "iterator"in Symbol,
                blob: "FileReader"in t && "Blob"in t && function() {
                    try {
                        return new Blob,
                        !0
                    } catch (t) {
                        return !1
                    }
                }(),
                formData: "FormData"in t,
                arrayBuffer: "ArrayBuffer"in t
            };
            if (m.arrayBuffer)
                var b = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
                  , _ = function(t) {
                    return t && DataView.prototype.isPrototypeOf(t)
                }
                  , w = ArrayBuffer.isView || function(t) {
                    return t && -1 < b.indexOf(Object.prototype.toString.call(t))
                }
                ;
            u.prototype.append = function(t, n) {
                t = r(t),
                n = o(n);
                var e = this.map[t];
                this.map[t] = e ? e + "," + n : n
            }
            ,
            u.prototype["delete"] = function(t) {
                delete this.map[r(t)]
            }
            ,
            u.prototype.get = function(t) {
                return t = r(t),
                this.has(t) ? this.map[t] : null
            }
            ,
            u.prototype.has = function(t) {
                return this.map.hasOwnProperty(r(t))
            }
            ,
            u.prototype.set = function(t, n) {
                this.map[r(t)] = o(n)
            }
            ,
            u.prototype.forEach = function(t, n) {
                for (var e in this.map)
                    this.map.hasOwnProperty(e) && t.call(n, this.map[e], e, this)
            }
            ,
            u.prototype.keys = function() {
                var e = [];
                return this.forEach(function(t, n) {
                    e.push(n)
                }),
                i(e)
            }
            ,
            u.prototype.values = function() {
                var n = [];
                return this.forEach(function(t) {
                    n.push(t)
                }),
                i(n)
            }
            ,
            u.prototype.entries = function() {
                var e = [];
                return this.forEach(function(t, n) {
                    e.push([n, t])
                }),
                i(e)
            }
            ,
            m.iterable && (u.prototype[Symbol.iterator] = u.prototype.entries);
            var x = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
            p.prototype.clone = function() {
                return new p(this,{
                    body: this._bodyInit
                })
            }
            ,
            l.call(p.prototype),
            l.call(v.prototype),
            v.prototype.clone = function() {
                return new v(this._bodyInit,{
                    status: this.status,
                    statusText: this.statusText,
                    headers: new u(this.headers),
                    url: this.url
                })
            }
            ,
            v.error = function() {
                var t = new v(null,{
                    status: 0,
                    statusText: ""
                });
                return t.type = "error",
                t
            }
            ;
            var g = [301, 302, 303, 307, 308];
            v.redirect = function(t, n) {
                if (-1 === g.indexOf(n))
                    throw new RangeError("Invalid status code");
                return new v(null,{
                    status: n,
                    headers: {
                        location: t
                    }
                })
            }
            ,
            t.Headers = u,
            t.Request = p,
            t.Response = v,
            t.fetch = function(o, i) {
                return new Promise(function(e, t) {
                    var n = new p(o,i)
                      , r = new XMLHttpRequest;
                    r.onload = function() {
                        var t = {
                            status: r.status,
                            statusText: r.statusText,
                            headers: y(r.getAllResponseHeaders() || "")
                        };
                        t.url = "responseURL"in r ? r.responseURL : t.headers.get("X-Request-URL");
                        var n = "response"in r ? r.response : r.responseText;
                        e(new v(n,t))
                    }
                    ,
                    r.onerror = function() {
                        t(new TypeError("Network request failed"))
                    }
                    ,
                    r.ontimeout = function() {
                        t(new TypeError("Network request failed"))
                    }
                    ,
                    r.open(n.method, n.url, !0),
                    "include" === n.credentials ? r.withCredentials = !0 : "omit" === n.credentials && (r.withCredentials = !1),
                    "responseType"in r && m.blob && (r.responseType = "blob"),
                    n.headers.forEach(function(t, n) {
                        r.setRequestHeader(n, t)
                    }),
                    r.send("undefined" == typeof n._bodyInit ? null : n._bodyInit)
                }
                )
            }
            ,
            t.fetch.polyfill = !0
        }
    }("undefined" != typeof self ? self : this);
    var Ot = t(function(t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", {
            value: !0
        });
        var e = {
            track: function r() {
                var t;
                "undefined" != typeof ShopifyAnalytics && ShopifyAnalytics.lib && (t = ShopifyAnalytics.lib).track.apply(t, arguments)
            }
        };
        n["default"] = e
    })
      , Tt = t(function(t, n) {
        "use strict";
        function e(t) {
            o(),
            r(t, "smart-payment-buttons")
        }
        function r(t, n) {
            var e = "shopify-features__" + n
              , r = e + "--disabled"
              , o = e + "--enabled"
              , i = t.className.split(/\s+/);
            t.className = i.filter(function(t) {
                return Boolean(t)
            }).filter(function(t) {
                return t !== r
            }).filter(function(t) {
                return t !== o
            }).concat([o]).join(" ")
        }
        function o() {
            var t = "shopify-dynamic-checkout";
            if (null === document.getElementById(t)) {
                var n = document.createElement("style");
                n.id = t,
                n.innerHTML = i,
                document.head.appendChild(n)
            }
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }),
        n["default"] = e,
        n.toggleFeatureCssClasses = r,
        n.appendDynamicCheckoutProductCss = o;
        var i = "\n.shopify-payment-button__button--hidden {\n  visibility: hidden;\n}\n\n.shopify-payment-button__button {\n  border-radius: 4px;\n  border: none;\n  box-shadow: 0 0 0 0 transparent;\n  color: white;\n  cursor: pointer;\n  display: block;\n  font-size: 1em;\n  font-weight: 500;\n  line-height: 1;\n  text-align: center;\n  width: 100%;\n  transition: background 0.2s ease-in-out;\n}\n\n.shopify-payment-button__button[disabled] {\n  opacity: 0.6;\n  cursor: default;\n}\n\n.shopify-payment-button__button--unbranded {\n  background-color: #1990c6;\n  padding: 1em 2em;\n}\n\n.shopify-payment-button__button--unbranded:hover:not([disabled]) {\n  background-color: #136f99;\n}\n\n.shopify-payment-button__more-options {\n  background: transparent;\n  border: 0 none;\n  cursor: pointer;\n  display: block;\n  font-size: 1em;\n  margin-top: 1em;\n  text-align: center;\n  width: 100%;\n}\n\n.shopify-payment-button__more-options:hover:not([disabled]) {\n  text-decoration: underline;\n}\n\n.shopify-payment-button__more-options[disabled] {\n  opacity: 0.6;\n  cursor: default;\n}\n\n.shopify-payment-button__button--branded {\n  display: flex;\n  flex-direction: column;\n  min-height: 44px;\n  position: relative;\n  z-index: 1;\n}\n\n.shopify-payment-button__button--branded .shopify-cleanslate {\n  flex: 1 !important;\n  display: flex !important;\n  flex-direction: column !important;\n}\n"
    })
      , jt = t(function(t, n) {
        "use strict";
        function e(n, e) {
            return r().then(function(t) {
                t ? o(n, e) : u(n, e)
            })
        }
        function r() {
            function r() {
                return document.querySelector("[data-shopify=payment-button]")
            }
            return new Promise(function(e) {
                r() ? e(!0) : window.Shopify.designMode ? new MutationObserver(function(t, n) {
                    r() && (e(!0),
                    n.disconnect())
                }
                ).observe(document.body, {
                    childList: !0,
                    subtree: !0
                }) : e(!1)
            }
            )
        }
        function o(t, n) {
            (0,
            a["default"])(t);
            var e = i(t, n);
            return c("[SPB] Script appended"),
            e
        }
        function i(t, n) {
            var e = t.parentNode
              , r = e.createElement("script");
            return r.src = n.smart_payment_buttons_url,
            r.dataset.sourceAttribute = "shopify.dynamic_checkout.product.init",
            e.head.appendChild(r),
            r
        }
        function u(n, e) {
            "undefined" == typeof window.Shopify.PaymentButton && (window.Shopify.PaymentButton = {
                init: function r() {
                    var t = o(n, e);
                    t.onload = function() {
                        s()
                    }
                    ,
                    t.onerror = function() {
                        console.error("Error loading Dynamic Checkout bundle")
                    }
                    ,
                    window.Shopify.PaymentButton.init = function() {}
                }
            })
        }
        function c(t) {
            l && performance.mark(t)
        }
        function s() {
            var t = "polyfilled_dynamic_checkout"
              , n = window.Shopify && window.Shopify.theme && window.Shopify.theme.name
              , e = window.location.href;
            f["default"].track(t, {
                theme: n,
                url: e
            })
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }),
        n["default"] = e;
        var f = d(Ot)
          , a = d(Tt)
          , l = "undefined" != typeof performance && "function" == typeof performance.mark
    })
      , Ft = t(function(t, n) {
        "use strict";
        function e(t, n) {
            return r().then(function() {
                o(t, n)
            })
        }
        function r() {
            function r() {
                return document.getElementById("dynamic-checkout-cart")
            }
            return new Promise(function(e) {
                r() ? (window.Shopify.CartType = "cart_page",
                e()) : new MutationObserver(function(t, n) {
                    r() && (window.Shopify.CartType = "cart_ajax",
                    e(),
                    n.disconnect())
                }
                ).observe(document.body, {
                    childList: !0,
                    subtree: !0
                })
            }
            )
        }
        function o(t, n) {
            var e = t.parentNode
              , r = e.createElement("script");
            return r.src = n.dynamic_checkout_cart_url,
            r.dataset.sourceAttribute = "shopify.dynamic_checkout.cart.init",
            e.head.appendChild(r),
            r
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }),
        n["default"] = e
    })
      , kt = t(function(t, n) {
        "use strict";
        function e(t) {
            var n = r(t);
            n && ((0,
            o["default"])(t, n),
            (0,
            i["default"])(t, n))
        }
        function r(t) {
            try {
                return JSON.parse(t.querySelector(u).textContent)
            } catch (n) {
                return null
            }
        }
        Object.defineProperty(n, "__esModule", {
            value: !0
        }),
        n["default"] = e;
        var o = d(jt)
          , i = d(Ft)
          , u = "#shopify-features"
    });
    t(function() {
        "use strict";
        (0,
        d(kt)["default"])(document.documentElement)
    })
}("undefined" != typeof global ? global : "undefined" != typeof window && window);

!function() {
    var e = function(e) {
        var t = {
            exports: {}
        };
        return e.call(t.exports, t, t.exports),
        t.exports
    }
      , s = function() {
        function r(e, t) {
            var r = []
              , n = !0
              , o = !1
              , a = undefined;
            try {
                for (var i, u = e[Symbol.iterator](); !(n = (i = u.next()).done) && (r.push(i.value),
                !t || r.length !== t); n = !0)
                    ;
            } catch (s) {
                o = !0,
                a = s
            } finally {
                try {
                    !n && u["return"] && u["return"]()
                } finally {
                    if (o)
                        throw a
                }
            }
            return r
        }
        return function(e, t) {
            if (Array.isArray(e))
                return e;
            if (Symbol.iterator in Object(e))
                return r(e, t);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }()
      , c = function(e) {
        return e && e.__esModule ? e : {
            "default": e
        }
    }
      , n = function(e) {
        if (Array.isArray(e)) {
            for (var t = 0, r = Array(e.length); t < e.length; t++)
                r[t] = e[t];
            return r
        }
        return Array.from(e)
    }
      , u = e(function(e, t) {
        "use strict";
        function r(e) {
            "loading" !== document.readyState ? e() : document.addEventListener ? document.addEventListener("DOMContentLoaded", e) : document.attachEvent("onreadystatechange", function() {
                "loading" !== document.readyState && e()
            })
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r
    })
      , y = e(function(e, t) {
        "use strict";
        function r(e) {
            return new Error('The feature { name: "' + e.name + '", version: "' + e.version + '"} does not exist')
        }
        function n(e) {
            return new Error("Could not create registry entry " + e)
        }
        function o() {
            return new Error("Cannot register a feature with the same selector twice")
        }
        function a(e) {
            return new Error("Features should be an Array. Received: " + JSON.stringify(e))
        }
        function i(e) {
            return new Error('Features should be defined as `{ name: "name", version: "version" }`. Received: ' + JSON.stringify(e))
        }
        function u(e, t) {
            return new Error(e + " has already been loaded at version " + t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.featureNotFound = r,
        t.couldNotCreateEntry = n,
        t.couldNotAddToQuerySelectors = o,
        t.invalidFeaturesArray = a,
        t.invalidFeature = i,
        t.alreadyLoaded = u
    })
      , v = e(function(e, t) {
        "use strict";
        function r() {
            if (a)
                return a;
            var e = document.getElementById("shopify-features");
            if (e)
                try {
                    a = JSON.parse(e.textContent)
                } catch (t) {}
            else
                a = {};
            return a
        }
        function n() {
            var e = r();
            if (e)
                try {
                    return e.betas.reduce(function(e, t) {
                        return e[t] = !0,
                        e
                    }, {})
                } catch (t) {}
            return {}
        }
        function o() {
            return r().locale || "en"
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.getBetas = n,
        t.getLocale = o;
        var a = void 0
    })
      , f = e(function(e, t) {
        "use strict";
        function r() {}
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r
    })
      , a = e(function(e, t) {
        "use strict";
        function r() {
            function e(e, t) {
                u[e] = u[e] || [];
                for (var r = u[e], n = 0; n < r.length; n++) {
                    var o = r[n]
                      , a = o.name
                      , i = o.version;
                    if (t.name === a) {
                        if (t.version !== i)
                            throw (0,
                            y.couldNotAddToQuerySelectors)(e);
                        return
                    }
                }
                r.push(t)
            }
            function t() {
                return Object.keys(u).reduce(function(e, t) {
                    if (!document.querySelector(t))
                        return e;
                    var r = u[t];
                    return delete u[t],
                    e.concat(r)
                }, [])
            }
            var u = {};
            return {
                add: e,
                getFeatures: t
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r
    })
      , p = e(function(e, t) {
        "use strict";
        function r(e) {
            var t = e.name
              , r = e.baseName
              , n = e.version
              , o = e.betaFlag
              , a = e.fileName
              , i = e.legacy
              , u = e.localized
              , s = e.autoLoadSelector
              , l = e.props
              , d = l === undefined ? {} : l
              , c = t + "@" + n;
            if (f[c])
                throw (0,
                y.couldNotCreateEntry)(c);
            s && (Array.isArray(s) ? s : [s]).forEach(function(e) {
                g.lookup.add(e, {
                    name: t,
                    version: n
                })
            });
            f[c] = {
                props: d,
                betaFlag: o,
                scriptId: c,
                name: t,
                baseName: r,
                version: n,
                locale: (0,
                v.getLocale)(),
                localized: u,
                legacy: i,
                fileName: a
            }
        }
        function n() {
            l = {}
        }
        function o(e) {
            window.Shopify.modules ? (e.legacy = !1,
            e.props = {
                type: "module"
            },
            r(e)) : e.hasLegacy && (e.legacy = !0,
            e.props = {
                nomodule: ""
            },
            r(e))
        }
        function a(e) {
            var t = e.name + "@" + e.version
              , r = f[t];
            if (!r)
                throw (0,
                y.featureNotFound)(e);
            var n = r.name
              , o = r.baseName
              , a = r.version
              , i = r.localized && r.locale
              , u = r.legacy
              , s = r.fileName;
            if (l[n] && l[n] !== a)
                throw (0,
                y.alreadyLoaded)(t, l[n]);
            return l[n] = a,
            r.src = (0,
            d.urlForFeature)({
                name: n,
                baseName: o,
                version: a,
                legacy: u,
                locale: i,
                fileName: s
            }),
            r
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.reset = n,
        t.register = o,
        t.getEntry = a;
        var f = {}
          , l = {}
    })
      , h = e(function(e, t) {
        "use strict";
        function r() {
            o = null
        }
        function n(e) {
            return o ? o[e] : (o = (0,
            v.getBetas)(),
            n(e))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.resetBetas = r,
        t["default"] = n;
        var o = null
    })
      , m = e(function(e, t) {
        "use strict";
        function l(e) {
            return -1 < c.indexOf(e)
        }
        function d(e) {
            return -1 < f.indexOf(e)
        }
        function r(e, t) {
            function r() {
                c.push(s),
                a(),
                t(null, s)
            }
            function n() {
                f.push(s),
                a(),
                t(new Error("load error: " + i))
            }
            function o() {
                s.addEventListener("load", r),
                s.addEventListener("error", n)
            }
            function a() {
                s.removeEventListener("load", r),
                s.removeEventListener("error", n)
            }
            var i = e.src
              , u = e.props
              , s = document.querySelector('script[src="' + i + '"]');
            s && l(s) ? r() : s && d(s) ? n() : s ? o() : (s = document.createElement("script"),
            Object.keys(u).forEach(function(e) {
                s.setAttribute(e, u[e])
            }),
            null === s.getAttribute("defer") && s.setAttribute("defer", ""),
            s.src = i,
            s.crossorigin = "anonymous",
            o(),
            document.head.appendChild(s))
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r;
        var c = []
          , f = []
    })
      , i = e(function(e, t) {
        "use strict";
        function o(e, u, s) {
            return e.reduce(function(e, t) {
                var r = t.onLoad || d["default"];
                try {
                    var n = (0,
                    p.getEntry)(t)
                      , o = n.betaFlag
                      , a = !o || (0,
                    l["default"])(o);
                    if (s && !a)
                        throw (0,
                        y.featureNotFound)(t);
                    a && e.push([n, t])
                } catch (i) {
                    r(i),
                    u.push(i)
                }
                return e
            }, [])
        }
        function a(e, o, a) {
            var i = e.length;
            0 !== i ? e.forEach(function(e) {
                var t = s(e, 2)
                  , r = t[0]
                  , n = t[1];
                (0,
                u["default"])(r, function(e, t) {
                    var r = n.onLoad || d["default"];
                    e && (r(e),
                    o.push(e)),
                    t && r(null),
                    0 === --i && a(o)
                })
            }) : a(o)
        }
        function r(e, t, r) {
            var n = [];
            a(o(e, n, t), n, function(e) {
                var t = 0 === e.length ? null : e;
                r(t)
            })
        }
        function n(e, t) {
            r(e, !0, t)
        }
        function i(e, t) {
            r(e, !1, t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.loadMultiple = r,
        t.loadMultipleErrorIfNotInBeta = n,
        t.loadMultipleSilentIfNotInBeta = i;
        var l = c(h)
          , d = c(f)
          , u = c(m)
    })
      , g = e(function(e, t) {
        "use strict";
        function r(e) {
            var t = e || n["default"];
            (0,
            i.loadMultipleSilentIfNotInBeta)(o.getFeatures(), t)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.lookup = undefined,
        t["default"] = r;
        var n = c(f)
          , o = (0,
        c(a)["default"])();
        t.lookup = o
    })
      , d = e(function(e, t) {
        "use strict";
        function r(e) {
            var t = e.name
              , r = e.version
              , n = e.legacy
              , o = e.baseName
              , a = o === undefined ? null : o
              , i = e.locale
              , u = i === undefined ? null : i
              , s = e.fileName
              , l = a || t
              , d = (s === undefined ? null : s) || l;
            return n && (d += "-legacy"),
            u && (d = d + "." + u),
            "shop-js" == t && window.Shopify.spinShopJsUrl ? "https://" + window.Shopify.spinShopJsUrl + "/" + d + ".js" : "https://" + (window.Shopify && window.Shopify.cdnHost || "cdn.shopify.com") + "/shopifycloud/" + l + "/v" + r + "/" + d + ".js"
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.urlForFeature = r
    })
      , l = e(function(e, t) {
        "use strict";
        function r(e) {
            if (!e || "string" != typeof e.name || "string" != typeof e.version)
                throw (0,
                y.invalidFeature)(e)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r
    })
      , w = e(function(e, t) {
        "use strict";
        function r(e, t) {
            var r = t || o["default"];
            if (Array.isArray(e))
                return e.forEach(n["default"]),
                void (0,
                i.loadMultipleErrorIfNotInBeta)(e, r);
            throw (0,
            y.invalidFeaturesArray)(e)
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r;
        var n = c(l)
          , o = c(f)
    })
      , b = e(function(e, t) {
        "use strict";
        function r(n) {
            var e = null;
            return {
                get isObserving() {
                    return Boolean(e)
                },
                enable: function t() {
                    this.isObserving || (e = new MutationObserver(function(e) {
                        for (var t = !1, r = 0; r < e.length; r++)
                            if (e[r].addedNodes.length) {
                                t = !0;
                                break
                            }
                        t && n()
                    }
                    )).observe(document.body, {
                        childList: !0,
                        subtree: !0
                    })
                },
                disable: function r() {
                    this.isObserving && (e.disconnect(),
                    e = null)
                }
            }
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r
    })
      , L = e(function(e, t) {
        "use strict";
        function r(e, t) {
            var r = window.Shopify[e] && window.Shopify[e].q;
            r && Array.isArray(r) && r.forEach(function(e) {
                t.apply(undefined, n(e))
            }),
            window.Shopify[e] = t
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t["default"] = r
    });
    e(function(e, t) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.resetRegistry = t.resetBetas = t.register = undefined;
        var r = c(u)
          , n = c(w)
          , o = c(g)
          , a = c(b)
          , i = c(L);
        t.register = p.register,
        t.resetBetas = h.resetBetas,
        t.resetRegistry = p.reset,
        window.Shopify = window.Shopify || {},
        (0,
        p.register)({
            name: "model-viewer",
            version: "0.6",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="0.6"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "0.7",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="0.7"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "0.8",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="0.8"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "1.2",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="1.2"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "1.7",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="1.7"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "1.9",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="1.9"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "1.10",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="1.10"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "1.11",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="1.11"]'
        }),
        (0,
        p.register)({
            name: "model-viewer",
            version: "1.12",
            hasLegacy: !0,
            autoLoadSelector: 'model-viewer[data-shopify-feature="1.12"]'
        }),
        (0,
        p.register)({
            name: "shop-js",
            version: "1.0",
            hasLegacy: !1,
            localized: !1,
            fileName: "client",
            autoLoadSelector: ["shopify-payment-terms", "shop-login-button"]
        }),
        (0,
        p.register)({
            name: "model-viewer-ui",
            version: "1.0",
            hasLegacy: !0,
            localized: !0
        }),
        (0,
        p.register)({
            name: "shopify-xr",
            version: "1.0",
            baseName: "shopify-xr-js",
            fileName: "shopify-xr",
            localized: !0
        }),
        (0,
        p.register)({
            name: "video-ui",
            baseName: "shopify-plyr",
            version: "1.0",
            hasLegacy: !0,
            localized: !0
        }),
        (0,
        p.register)({
            name: "video-ui",
            baseName: "shopify-plyr",
            version: "1.1",
            hasLegacy: !0,
            localized: !0
        }),
        (0,
        p.register)({
            name: "video-ui",
            baseName: "plyr",
            version: "2.0",
            hasLegacy: !0,
            localized: !0,
            fileName: "shopify-plyr"
        }),
        (0,
        p.register)({
            name: "media-analytics",
            version: "0.1",
            hasLegacy: !0,
            fileName: "analytics",
            betaFlag: "rich-media-storefront-analytics",
            autoLoadSelector: ["video", "model-viewer", 'a[rel="ar"]', 'a[href*="package=com.google.ar.core;action=android.intent.action.VIEW;"]', "[data-shopify-xr]", 'iframe[src^="https://www.youtube.com/embed/"]', 'iframe[src^="https://player.vimeo.com/video/"]']
        }),
        (0,
        p.register)({
            name: "consent-tracking-api",
            version: "0.1",
            hasLegacy: !0
        }),
        (0,
        r["default"])(function() {
            function e() {
                (0,
                o["default"])(function(e) {
                    if (e)
                        throw e[0]
                })
            }
            (0,
            i["default"])("loadFeatures", n["default"]),
            (0,
            i["default"])("autoloadFeatures", o["default"]),
            e(),
            (0,
            a["default"])(e).enable()
        })
    })
}("undefined" != typeof global ? global : "undefined" != typeof window && window);

!function(t) {
    function e(i) {
        if (n[i])
            return n[i].exports;
        var o = n[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return t[i].call(o.exports, o, o.exports, e),
        o.l = !0,
        o.exports
    }
    var n = {};
    e.m = t,
    e.c = n,
    e.i = function(t) {
        return t
    }
    ,
    e.d = function(t, n, i) {
        e.o(t, n) || Object.defineProperty(t, n, {
            configurable: !1,
            enumerable: !0,
            get: i
        })
    }
    ,
    e.n = function(t) {
        var n = t && t.__esModule ? function() {
            return t.default
        }
        : function() {
            return t
        }
        ;
        return e.d(n, "a", n),
        n
    }
    ,
    e.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    ,
    e.p = "",
    e(e.s = 209)
}([function(t, e, n) {
    "use strict";
    e.__esModule = !0,
    e.default = function(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
}
, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(212)
      , o = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(i);
    e.default = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                (0,
                o.default)(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
}
, function(t, e, n) {
    function i(t, e) {
        return (s(t) ? o : a)(t, r(e, 3))
    }
    var o = n(90)
      , r = n(32)
      , a = n(297)
      , s = n(13);
    t.exports = i
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.BoldCheckoutQueueEventHandler = e.BoldCartPropTemplate = e.ShopifyHelper = e.JSHelper = e.DOMHelper = e.BoldHelpers = e.BoldCartDoctor = e.BoldEventQueuer = e.BoldLightbox = e.BoldEventEmitter = void 0;
    var o = n(69)
      , r = i(o)
      , a = n(176)
      , s = i(a)
      , u = n(174)
      , l = i(u)
      , c = n(171)
      , d = i(c)
      , p = n(175)
      , f = i(p)
      , h = n(48)
      , v = i(h)
      , m = n(21)
      , y = i(m)
      , _ = n(49)
      , g = i(_)
      , b = n(172)
      , w = i(b)
      , O = n(173)
      , k = i(O);
    e.BoldEventEmitter = r.default,
    e.BoldLightbox = s.default,
    e.BoldEventQueuer = l.default,
    e.BoldCartDoctor = d.default,
    e.BoldHelpers = f.default,
    e.DOMHelper = v.default,
    e.JSHelper = y.default,
    e.ShopifyHelper = g.default,
    e.BoldCartPropTemplate = w.default,
    e.BoldCheckoutQueueEventHandler = k.default
}
, function(t, e, n) {
    t.exports = {
        default: n(226),
        __esModule: !0
    }
}
, function(t, e) {
    var n = t.exports = {
        version: "2.6.12"
    };
    "number" == typeof __e && (__e = n)
}
, function(t, e, n) {
    t.exports = {
        default: n(223),
        __esModule: !0
    }
}
, function(t, e, n) {
    function i(t, e) {
        return (s(t) ? o : r)(t, a(e, 3))
    }
    var o = n(137)
      , r = n(283)
      , a = n(32)
      , s = n(13);
    t.exports = i
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(112)
      , d = i(c)
      , p = n(195)
      , f = i(p)
      , h = n(7)
      , v = i(h)
      , m = n(163)
      , y = i(m)
      , _ = n(2)
      , g = i(_)
      , b = n(50)
      , w = i(b)
      , O = n(3)
      , k = function() {
        function t(e, n) {
            (0,
            s.default)(this, t),
            this.optionSet = n,
            this.app = n.app,
            this.optionProduct = this.optionSet.optionProduct,
            this.settings = this.app.settings,
            this.ee = this.optionProduct.ee,
            this.id = e.id,
            this.type = e.type,
            this.minitype = e.minitype,
            this.publicName = e.public_name,
            this.internalName = e.internal_name,
            this.className = this.getUniqueClassname(),
            this.isRequired = e.required,
            this.maxSize = e.max_size,
            this.isPricedOption = !1,
            this.helpText = e.additional_info,
            this.optionValues = this.generateOptionValues(e.options_values),
            this.conditions = this.generateConditions(e.conditions),
            this.fields = {},
            this.requiredMessage = "" === this.settings.frontend.required_message ? "This option is required." : this.settings.frontend.required_message.replace(/{\s*option\s*}/gi, this.publicName),
            this.optionData = e,
            this.preselectsApplied = !1,
            this.minimumTimeForLogicToRun = 1e3,
            this.timesToTriggerLogic = 100,
            this.continueConditionalLogic = !0,
            this.triggerLogicCount = 0,
            this.logicChangedTimingBefore = 0,
            this.logicChangedTimingAfter = 0,
            this.initializeOption()
        }
        return (0,
        l.default)(t, [{
            key: "createInput",
            value: function() {}
        }, {
            key: "initializeOption",
            value: function() {
                var t = this;
                this.handlePublicNames(),
                this.initializeTemplate(),
                this.bindEvents(),
                this.evaluateConditions(),
                this.ee.on("option_changed", function(e) {
                    var n = (0,
                    y.default)((0,
                    g.default)(t.conditions, function(t) {
                        return t.optionChanged(e)
                    }));
                    r.default.all(n).then(function(e) {
                        (0,
                        v.default)(e, function(t) {
                            return "render" == t.status
                        }).length > 0 && t.shouldProcessConditions() && t.evaluateConditions()
                    })
                }),
                this.app.ee.on("template_changed_" + this.getUniqueClassname(), this.refreshTemplate, this),
                this.app.ee.on("template_changed_" + this.type, this.refreshTemplate, this),
                this.app.ee.on("template_changed_" + this.getGeneralTemplateType(), this.refreshTemplate, this),
                this.ee.on("option_receive_value_" + this.getUniqueClassname(), function(e) {
                    return t.receiveValue(e.data.value)
                }, this),
                this.ee.emit("option_created", {
                    option_key: this.getUniqueClassname(),
                    option: this
                }),
                this.app.ee.on("refresh_options", this.refreshInput, this),
                this.app.ee.on("refresh_options_" + this.type, this.refreshInput, this)
            }
        }, {
            key: "shouldProcessConditions",
            value: function() {
                if (this.continueConditionalLogic && (0 === this.triggerLogicCount && (this.logicChangedTimingBefore = performance.now()),
                ++this.triggerLogicCount === this.timesToTriggerLogic)) {
                    this.logicChangedTimingAfter = performance.now();
                    this.logicChangedTimingAfter - this.logicChangedTimingBefore < this.minimumTimeForLogicToRun && (this.continueConditionalLogic = !1,
                    console.log("Preventing conditional logic infinite loop, Disabling logic.")),
                    this.triggerLogicCount = 0
                }
                return this.continueConditionalLogic
            }
        }, {
            key: "initializeTemplate",
            value: function() {
                this.fields.optionTitle = this.getPublicName(),
                this.fields.optionType = this.type,
                this.fields.uniqueClassname = this.getUniqueClassname(),
                this.fields.internalName = this.internalName,
                "" !== this.helpText && "off" !== this.settings.frontend.tooltip_display_mode && ("hover" === this.settings.frontend.tooltip_display_mode ? this.fields.toolTip = this.helpText : this.fields.helpText = this.helpText),
                this.fields.optionElement = this.createInput(),
                this.settings.display.max_length_text_display && this.maxSize > 0 && (this.fields.maxSizeDiv = this.createMaxSizeDiv()),
                this.DOM = new w.default(this.getTemplateType(),this.fields,this.optionSet.DOM.element)
            }
        }, {
            key: "refreshTemplate",
            value: function() {
                this.DOM.templateType = this.getTemplateType(),
                this.DOM.refreshTemplate(),
                this.DOM.visible ? this.bindEvents() : (this.DOM.show(),
                this.bindEvents(),
                this.DOM.hide())
            }
        }, {
            key: "refreshInput",
            value: function() {
                var t = this.getValueArray();
                this.fields.optionElement = this.createInput(),
                this.refreshTemplate(),
                void 0 !== this.objQty && "undefined" !== this.objQty.removeAllQuantityOption && this.objQty.removeAllQuantityOption(this),
                this.receiveValue(t)
            }
        }, {
            key: "getTemplateType",
            value: function() {
                return void 0 !== window.BOLD.options.templates[this.getUniqueClassname()] ? this.getUniqueClassname() : void 0 !== window.BOLD.options.templates[this.type] ? this.type : this.getGeneralTemplateType()
            }
        }, {
            key: "getGeneralTemplateType",
            value: function() {
                switch (this.type) {
                case "checkboxmulti":
                case "radio":
                case "textboxmulti":
                    return "multi";
                default:
                    return "single"
                }
            }
        }, {
            key: "onDomChange",
            value: function(t) {
                this.optionSet.lastInputChanged = t.target,
                this.optionChanged("user")
            }
        }, {
            key: "optionChanged",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "condition";
                this.emitChanged(this.getValue(), t)
            }
        }, {
            key: "emitChanged",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "condition";
                this.ee.emit("option_changed", {
                    option_key: this.getUniqueClassname(),
                    option: this,
                    value: t,
                    source: e,
                    source_input: this.optionSet.lastInputChanged,
                    is_priced_option: this.isPricedOption
                })
            }
        }, {
            key: "bindEvents",
            value: function() {
                var t = this;
                (0,
                g.default)(this.getInputs(), function(e) {
                    return e.addEventListener("change", t.onDomChange.bind(t), !1)
                })
            }
        }, {
            key: "getInputs",
            value: function() {
                return this.DOM.element.getElementsByClassName(this.getUniqueClassname())
            }
        }, {
            key: "getValue",
            value: function() {
                var t = this.getInputs()[0];
                return void 0 !== t ? t.value : ""
            }
        }, {
            key: "getValueArray",
            value: function() {
                var t = this.getValue();
                return "" !== t ? [t] : []
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                var e = this.getInputs()[0];
                void 0 !== e && (e.value = t,
                this.optionSet.lastInputChanged = e,
                this.optionChanged("received_value"))
            }
        }, {
            key: "generateOptionValues",
            value: function(t) {
                var e = this;
                return t.map(function(t) {
                    return new d.default(t,e)
                })
            }
        }, {
            key: "generateConditions",
            value: function(t) {
                return t.map(function(t) {
                    return new f.default(t)
                })
            }
        }, {
            key: "getUniqueClassname",
            value: function() {
                return this.minitype + "_" + this.id + "_" + this.optionSet.id
            }
        }, {
            key: "getUniqueClassnameHelper",
            value: function() {
                return this.minitype + "_" + this.id + "_" + this.optionSet.id + "_helper"
            }
        }, {
            key: "getPublicName",
            value: function() {
                var t = this.publicName.replace(/\*\*([\w ]+)\*\*/gi, "<strong>$1</strong>")
                  , e = void 0 === this.settings.required_option_marker ? "*" : this.settings.required_option_marker;
                return this.isRequired ? t + e : t
            }
        }, {
            key: "createMaxSizeDiv",
            value: function() {}
        }, {
            key: "validateOption",
            value: function() {
                return new r.default(function(t, e) {
                    t("valid")
                }
                )
            }
        }, {
            key: "evaluateConditions",
            value: function() {
                var t = this;
                if (this.conditions.length > 0 && "Premium" === this.app.settings.plan) {
                    var e = (0,
                    y.default)((0,
                    g.default)(this.conditions, function(t) {
                        return t.evaluateRules()
                    }));
                    r.default.all(e).then(function(e) {
                        t.handleConditions(e)
                    })
                }
            }
        }, {
            key: "handleConditions",
            value: function(t) {
                var e = this;
                this.loadInitialState(t);
                var n = (0,
                v.default)(t, function(t) {
                    return 1 == t.is_met
                });
                n.length > 0 && (0,
                g.default)(n, function(t) {
                    "SHOW" == t.action ? (e.show(),
                    e.DOM.element.closest("form").classList.contains("bold_options_edit_in_cart") || e.preselectsApplied || ((0,
                    g.default)(e.optionSet.preselections, function(t) {
                        t.option === e && t.option.receiveValue(t.value)
                    }),
                    e.preselectsApplied = !0)) : "HIDE" == t.action && e.hide()
                })
            }
        }, {
            key: "loadInitialState",
            value: function(t) {
                var e = t[t.length - 1];
                if (e.is_met)
                    switch (e.action) {
                    case "HIDE":
                        this.hide();
                        break;
                    case "SHOW":
                    default:
                        this.show()
                    }
                else
                    switch (e.action) {
                    case "HIDE":
                        this.show();
                        break;
                    case "SHOW":
                    default:
                        this.hide()
                    }
            }
        }, {
            key: "show",
            value: function() {
                this.DOM.visible || (this.DOM.show(),
                O.DOMHelper.removeClass(this.DOM.element, "bold_option_hidden"),
                this.optionChanged())
            }
        }, {
            key: "hide",
            value: function() {
                this.DOM.visible && (this.DOM.hide(),
                O.DOMHelper.addClass(this.DOM.element, "bold_option_hidden"),
                this.emitChanged(""))
            }
        }, {
            key: "isVisible",
            value: function() {
                return this.DOM.visible
            }
        }, {
            key: "handlePublicNames",
            value: function() {
                if (this.settings.frontend.number_duplicate_names) {
                    for (var t = 1, e = this.publicName; void 0 !== this.optionProduct.optionsPublicName[e]; )
                        e = this.publicName + " " + t,
                        t++;
                    this.publicName = e
                }
                this.optionProduct.optionsPublicName[this.publicName] = !0
            }
        }, {
            key: "reload",
            value: function() {
                this.initializeTemplate(),
                this.bindEvents(),
                this.evaluateConditions(),
                this.optionChanged("template_update")
            }
        }]),
        t
    }();
    e.default = k
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var o = n(214)
      , r = i(o)
      , a = n(211)
      , s = i(a)
      , u = n(116)
      , l = i(u);
    e.default = function(t, e) {
        if ("function" != typeof e && null !== e)
            throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : (0,
            l.default)(e)));
        t.prototype = (0,
        s.default)(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        e && (r.default ? (0,
        r.default)(t, e) : t.__proto__ = e)
    }
}
, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(116)
      , o = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(i);
    e.default = function(t, e) {
        if (!t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" !== (void 0 === e ? "undefined" : (0,
        o.default)(e)) && "function" != typeof e ? t : e
    }
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var o = n(6)
      , r = i(o)
      , a = n(213)
      , s = i(a);
    e.default = function t(e, n, i) {
        null === e && (e = Function.prototype);
        var o = (0,
        s.default)(e, n);
        if (void 0 === o) {
            var a = (0,
            r.default)(e);
            return null === a ? void 0 : t(a, n, i)
        }
        if ("value"in o)
            return o.value;
        var u = o.get;
        if (void 0 !== u)
            return u.call(i)
    }
}
, function(t, e) {
    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
    "number" == typeof __g && (__g = n)
}
, function(t, e) {
    var n = Array.isArray;
    t.exports = n
}
, function(t, e, n) {
    var i = n(80)("wks")
      , o = n(55)
      , r = n(12).Symbol
      , a = "function" == typeof r;
    (t.exports = function(t) {
        return i[t] || (i[t] = a && r[t] || (a ? r : o)("Symbol." + t))
    }
    ).store = i
}
, function(t, e, n) {
    var i = n(23);
    t.exports = function(t) {
        if (!i(t))
            throw TypeError(t + " is not an object!");
        return t
    }
}
, function(t, e, n) {
    var i = n(12)
      , o = n(5)
      , r = n(29)
      , a = n(25)
      , s = n(24)
      , u = function(t, e, n) {
        var l, c, d, p = t & u.F, f = t & u.G, h = t & u.S, v = t & u.P, m = t & u.B, y = t & u.W, _ = f ? o : o[e] || (o[e] = {}), g = _.prototype, b = f ? i : h ? i[e] : (i[e] || {}).prototype;
        f && (n = e);
        for (l in n)
            (c = !p && b && void 0 !== b[l]) && s(_, l) || (d = c ? b[l] : n[l],
            _[l] = f && "function" != typeof b[l] ? n[l] : m && c ? r(d, i) : y && b[l] == d ? function(t) {
                var e = function(e, n, i) {
                    if (this instanceof t) {
                        switch (arguments.length) {
                        case 0:
                            return new t;
                        case 1:
                            return new t(e);
                        case 2:
                            return new t(e,n)
                        }
                        return new t(e,n,i)
                    }
                    return t.apply(this, arguments)
                };
                return e.prototype = t.prototype,
                e
            }(d) : v && "function" == typeof d ? r(Function.call, d) : d,
            v && ((_.virtual || (_.virtual = {}))[l] = d,
            t & u.R && g && !g[l] && a(g, l, d)))
    };
    u.F = 1,
    u.G = 2,
    u.S = 4,
    u.P = 8,
    u.B = 16,
    u.W = 32,
    u.U = 64,
    u.R = 128,
    t.exports = u
}
, function(t, e, n) {
    var i = n(153)
      , o = "object" == typeof self && self && self.Object === Object && self
      , r = i || o || Function("return this")();
    t.exports = r
}
, function(t, e) {
    function n(t) {
        var e = typeof t;
        return null != t && ("object" == e || "function" == e)
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(15)
      , o = n(119)
      , r = n(83)
      , a = Object.defineProperty;
    e.f = n(22) ? Object.defineProperty : function(t, e, n) {
        if (i(t),
        e = r(e, !0),
        i(n),
        o)
            try {
                return a(t, e, n)
            } catch (t) {}
        if ("get"in n || "set"in n)
            throw TypeError("Accessors not supported!");
        return "value"in n && (t[e] = n.value),
        t
    }
}
, function(t, e) {
    function n(t) {
        return null != t && "object" == typeof t
    }
    t.exports = n
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        function i(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
          , a = function() {
            function t(t, e) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(t, i.key, i)
                }
            }
            return function(e, n, i) {
                return n && t(e.prototype, n),
                i && t(e, i),
                e
            }
        }()
          , s = n(375)
          , u = i(s)
          , l = n(165)
          , c = i(l)
          , d = n(2)
          , p = i(d)
          , f = function() {
            function e() {
                o(this, e)
            }
            return a(e, null, [{
                key: "isNaN",
                value: function(t) {
                    switch (void 0 === t ? "undefined" : r(t)) {
                    case "string":
                        return !this.isHex(t);
                    case "undefined":
                    case "null":
                    case "boolean":
                    case "object":
                    case "array":
                        return !0;
                    case "number":
                        return Number.isNaN(t);
                    default:
                        return !1
                    }
                }
            }, {
                key: "isNaan",
                value: function(t) {
                    return "string" == typeof t && ("naan" === t.toLowerCase() || "" === t)
                }
            }, {
                key: "isHex",
                value: function(t) {
                    return /^#[0-9A-F]{6}$/i.test("#" + t.toLowerCase())
                }
            }, {
                key: "cloneObject",
                value: function(t) {
                    return JSON.parse(JSON.stringify(t))
                }
            }, {
                key: "objectToArray",
                value: function(t) {
                    var e = [];
                    for (var n in t)
                        e.push(t[n]);
                    return e
                }
            }, {
                key: "withoutKeys",
                value: function(t, e) {
                    return (!(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]) && (t = this.cloneObject(t)),
                    (0,
                    p.default)(e, function(e) {
                        return delete t[e]
                    }),
                    t
                }
            }, {
                key: "mergeObjects",
                value: function(t, e) {
                    if (null === t)
                        return e;
                    if (null === e)
                        return t;
                    for (prop in e)
                        t[prop] = e[prop];
                    return t
                }
            }, {
                key: "inArray",
                value: function(t, e) {
                    if (!(arguments.length > 2 && void 0 !== arguments[2] && arguments[2]))
                        return -1 !== (0,
                        u.default)(t, e);
                    for (var n = 0; n < t.length; n++)
                        if (-1 !== e.search(new RegExp("^" + t[n].replace("*", ".*") + "$")))
                            return !0;
                    return !1
                }
            }, {
                key: "find",
                value: function(t, e) {
                    var n = (0,
                    u.default)(t, e);
                    return n > -1 && t[n]
                }
            }, {
                key: "get",
                value: function(e) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                      , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                      , o = {
                        method: "get",
                        headers: {
                            Accept: "application/json"
                        }
                    };
                    return n && (o.credentials = "include"),
                    t(e, (0,
                    c.default)(o, i)).then(this.checkStatus).then(this.parseJSON)
                }
            }, {
                key: "fetch",
                value: function(t) {
                    function e(e, n) {
                        return t.apply(this, arguments)
                    }
                    return e.toString = function() {
                        return t.toString()
                    }
                    ,
                    e
                }(function(e, n) {
                    return t(e, n).then(this.checkStatus)
                })
            }, {
                key: "post",
                value: function(e, n) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                      , o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}
                      , r = {
                        method: "post",
                        headers: {
                            Accept: "application/json"
                        },
                        body: JSON.stringify(n),
                        dataType: "json"
                    };
                    return i && (r.credentials = "include"),
                    t(e, (0,
                    c.default)(r, o)).then(this.checkStatus).then(this.parseJSON)
                }
            }, {
                key: "checkStatus",
                value: function(t) {
                    if (t.status >= 200 && t.status < 300)
                        return t;
                    var e = new Error(t.statusText);
                    throw e.response = t,
                    e
                }
            }, {
                key: "parseJSON",
                value: function(t) {
                    return t.json()
                }
            }, {
                key: "loadCSS",
                value: function(t) {
                    var e = document.createElement("link");
                    e.rel = "stylesheet",
                    e.type = "text/css",
                    e.href = t,
                    document.getElementsByTagName("head")[0].appendChild(e)
                }
            }, {
                key: "objectValues",
                value: function(t) {
                    var e = [];
                    for (var n in t)
                        t.hasOwnProperty(n) && e.push(t[n]);
                    return e
                }
            }, {
                key: "type",
                value: function(t) {
                    return Object.prototype.toString.call(t).slice(8, -1).toLowerCase()
                }
            }, {
                key: "time",
                value: function() {
                    return Math.round((new Date).getTime() / 1e3)
                }
            }, {
                key: "objGet",
                value: function(t, e) {
                    return "string" == typeof e && (e = e.split(".")),
                    void 0 !== t && e.length > 0 ? this.objGet(t[e.shift()], e) : t
                }
            }, {
                key: "objSet",
                value: function(t, e, n) {
                    var i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
                    "string" == typeof e && (e = e.split("."));
                    var o = e.shift();
                    e.length > 0 ? (t[o] = void 0 === t[o] ? {} : t[o],
                    this.objSet(t[o], e, n, i)) : t[o] = i ? n : void 0 === t[o] ? n : t[o]
                }
            }, {
                key: "objCall",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
                      , i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : this
                      , o = this.objGet(t, e);
                    if ("function" == typeof o)
                        return o.apply(i, n)
                }
            }, {
                key: "objPush",
                value: function(t, e, n) {
                    var i = this.objGet(t, e);
                    if (void 0 !== i)
                        return i.push(n)
                }
            }, {
                key: "windowGet",
                value: function(t) {
                    return this.objGet(window, t)
                }
            }, {
                key: "windowSet",
                value: function(t, e) {
                    var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                    this.objSet(window, t, e, n)
                }
            }, {
                key: "windowCall",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                      , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : this;
                    return this.objCall(window, t, e, n)
                }
            }, {
                key: "windowPush",
                value: function(t, e) {
                    return this.objPush(window, t, e)
                }
            }, {
                key: "hashString",
                value: function(t) {
                    var e, n, i, o = 0;
                    if (0 === t.length)
                        return o;
                    for (e = 0,
                    i = t.length; e < i; e++)
                        n = t.charCodeAt(e),
                        o = (o << 5) - o + n,
                        o |= 0;
                    return o
                }
            }]),
            e
        }();
        e.default = f
    }
    ).call(e, n(43))
}
, function(t, e, n) {
    t.exports = !n(38)(function() {
        return 7 != Object.defineProperty({}, "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(t, e) {
    t.exports = function(t) {
        return "object" == typeof t ? null !== t : "function" == typeof t
    }
}
, function(t, e) {
    var n = {}.hasOwnProperty;
    t.exports = function(t, e) {
        return n.call(t, e)
    }
}
, function(t, e, n) {
    var i = n(19)
      , o = n(41);
    t.exports = n(22) ? function(t, e, n) {
        return i.f(t, e, o(1, n))
    }
    : function(t, e, n) {
        return t[e] = n,
        t
    }
}
, function(t, e, n) {
    var i = n(236)
      , o = n(71);
    t.exports = function(t) {
        return i(o(t))
    }
}
, function(t, e, n) {
    function i(t, e) {
        var n = r(t, e);
        return o(n) ? n : void 0
    }
    var o = n(292)
      , r = n(327);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return null != t && r(t.length) && !o(t)
    }
    var o = n(103)
      , r = n(104);
    t.exports = i
}
, function(t, e, n) {
    var i = n(52);
    t.exports = function(t, e, n) {
        if (i(t),
        void 0 === e)
            return t;
        switch (n) {
        case 1:
            return function(n) {
                return t.call(e, n)
            }
            ;
        case 2:
            return function(n, i) {
                return t.call(e, n, i)
            }
            ;
        case 3:
            return function(n, i, o) {
                return t.call(e, n, i, o)
            }
        }
        return function() {
            return t.apply(e, arguments)
        }
    }
}
, function(t, e, n) {
    var i = n(17)
      , o = i.Symbol;
    t.exports = o
}
, function(t, e, n) {
    function i(t) {
        return null == t ? void 0 === t ? u : s : l && l in Object(t) ? r(t) : a(t)
    }
    var o = n(30)
      , r = n(326)
      , a = n(353)
      , s = "[object Null]"
      , u = "[object Undefined]"
      , l = o ? o.toStringTag : void 0;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return "function" == typeof t ? t : null == t ? a : "object" == typeof t ? s(t) ? r(t[0], t[1]) : o(t) : u(t)
    }
    var o = n(298)
      , r = n(299)
      , a = n(102)
      , s = n(13)
      , u = n(381);
    t.exports = i
}
, function(t, e, n) {
    var i = n(321)
      , o = n(372)
      , r = i(o);
    t.exports = r
}
, function(t, e, n) {
    function i(t) {
        return a(t) ? o(t) : r(t)
    }
    var o = n(138)
      , r = n(295)
      , a = n(28);
    t.exports = i
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(6)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(10)
      , d = i(c)
      , p = n(11)
      , f = i(p)
      , h = n(9)
      , v = i(h)
      , m = n(8)
      , y = i(m)
      , _ = n(3)
      , g = function(t) {
        function e(t, n) {
            (0,
            s.default)(this, e),
            t.optionData.minitype = "qty";
            var i = (0,
            d.default)(this, (e.__proto__ || (0,
            r.default)(e)).call(this, t.optionData, t.optionSet));
            return i.option = t,
            i.qtyFieldParent = {},
            i.option.ee.on("option_changed", i.addRemoveOptionQtyField, i),
            i.ee.on("option_receive_quantity_" + i.getUniqueClassname(n), i.receiveValue, i),
            i
        }
        return (0,
        v.default)(e, t),
        (0,
        l.default)(e, [{
            key: "addRemoveOptionQtyField",
            value: function(t) {
                t.data.is_priced_option && t.data.option_key == this.option.getUniqueClassname() && ("dropdown" == this.option.type ? this.handleDropdown(t) : this.handleAllOptions(t))
            }
        }, {
            key: "handleAllOptions",
            value: function(t) {
                for (var e = t.data.option.getSelectedValues(), n = [], i = 0; i < e.length; i++) {
                    var o = e[i];
                    n.push(o.id),
                    void 0 !== this.qtyFieldParent[o.id] && "" == this.qtyFieldParent[o.id].innerHTML && (this.qtyFieldParent[o.id].innerHTML = this.createInput(o.id),
                    this.bindEvents(o.id),
                    this.option.optionValues[i].qty = 1)
                }
                for (var r = 0; r < this.optionValues.length; r++) {
                    var a = this.optionValues[r];
                    if (-1 == n.indexOf(a.id)) {
                        var s = this.option.DOM.element.getElementsByClassName(this.getUniqueClassname(a.id))[0];
                        void 0 !== s && (this.qtyFieldParent[a.id] = s.parentNode,
                        this.qtyFieldParent[a.id].innerHTML = "",
                        this.option.optionValues[r].qty = 1)
                    }
                }
            }
        }, {
            key: "handleDropdown",
            value: function(t) {
                var e = t.data.option.getSelectedValues()
                  , n = []
                  , i = this.getUniqueClassname(0);
                if (e.length > 0 && "" != e[0].variantId && ("EDITABLE" == e[0].quantityMode || "EDITABLE_ABSOLUTE" == e[0].quantityMode))
                    this.option.DOM.element.getElementsByClassName(i).length <= 0 ? (this.qtyFieldParent[i].innerHTML = this.createInput(0),
                    this.bindEvents(0),
                    this.option.optionValues.map(function(t) {
                        t.id == e[0].id && (t.qty = 1)
                    })) : _.DOMHelper.data(this.option.DOM.element.getElementsByClassName(i)[0], "option_value_key") != e[0].id && (this.option.DOM.element.getElementsByClassName(i)[0].value = 1),
                    _.DOMHelper.data(this.option.DOM.element.getElementsByClassName(i)[0], "option_value_key", e[0].id),
                    n.push(e[0].id);
                else {
                    var o = this.option.DOM.element.getElementsByClassName(i)[0];
                    void 0 !== o && (this.qtyFieldParent[i] = o.parentNode,
                    this.qtyFieldParent[i].innerHTML = "")
                }
            }
        }, {
            key: "removeAllQuantityOption",
            value: function(t) {
                var e = this.optionValues;
                if ("dropdown" == this.option.type) {
                    var n = t.DOM.element.getElementsByClassName(this.getUniqueClassname(0))[0];
                    void 0 !== n && (this.qtyFieldParent[this.getUniqueClassname(0)] = n.parentNode,
                    this.qtyFieldParent[this.getUniqueClassname(0)].innerHTML = "")
                } else
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        if ("" != o.variantId && ("EDITABLE" == o.quantityMode || "EDITABLE_ABSOLUTE" == o.quantityMode)) {
                            var r = t.DOM.element.getElementsByClassName(this.getUniqueClassname(o.id))[0];
                            void 0 !== r && (this.qtyFieldParent[o.id] = r.parentNode,
                            this.qtyFieldParent[o.id].innerHTML = "")
                        }
                    }
            }
        }, {
            key: "initializeOption",
            value: function() {}
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.option.optionProduct.addToCartHandler.submit())
            }
        }, {
            key: "bindEvents",
            value: function(t) {
                var e = void 0;
                e = this.getUniqueClassname(t);
                var n = this.option.DOM.element.getElementsByClassName(e);
                n.length > 0 && (n[0].addEventListener("change", this.onDomChange.bind(this)),
                n[0].addEventListener("blur", this.onDomBlur.bind(this)),
                n[0].addEventListener("keydown", this.onKeyDown.bind(this)))
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                var e = this.option.DOM.element.getElementsByClassName(t.data.quantity_key)[0];
                void 0 !== e && (e.value = t.data.value,
                e.setAttribute("value", t.data.value),
                this.option.optionSet.lastInputChanged = e,
                this.option.optionChanged("received_quantity"),
                this.onDomChange({
                    target: e
                }))
            }
        }, {
            key: "onDomChange",
            value: function(t) {
                var e = this
                  , n = t.target
                  , i = _.DOMHelper.data(n, "option_value_key");
                this.option.optionValues.map(function(t) {
                    if (t.id == i) {
                        if (t.qty != n.value) {
                            var o = "dropdown" == e.option.type ? e.getUniqueClassname(0) : e.getUniqueClassname(t.id);
                            n.setAttribute("value", n.value),
                            e.option.ee.emit("priced_option_quantity_changed", {
                                option_key: e.option.getUniqueClassname(),
                                option: e,
                                quantity_key: o,
                                value: n.value
                            })
                        }
                        t.qty = n.value
                    }
                }),
                this.option.optionSet.lastInputChanged = n,
                this.option.optionChanged("quantity")
            }
        }, {
            key: "onDomBlur",
            value: function(t) {
                var e = t.target;
                ("" == e.value || e.value <= 0 || isNaN(e.value)) && (e.value = 1,
                this.option.optionSet.lastInputChanged = e,
                this.option.optionChanged("quantity"))
            }
        }, {
            key: "createInput",
            value: function(t) {
                var e = document.createElement("input");
                return e.name = "qty[]",
                e.className = this.getUniqueClassname(t),
                e.type = "number",
                e.min = 1,
                e.placeholder = "Qty",
                _.DOMHelper.data(e, "option_value_key", t),
                e.setAttribute("value", 1),
                e.outerHTML
            }
        }, {
            key: "getUniqueClassname",
            value: function(t) {
                return (0,
                f.default)(e.prototype.__proto__ || (0,
                r.default)(e.prototype), "getUniqueClassname", this).call(this) + "_" + t
            }
        }]),
        e
    }(y.default);
    e.default = g
}
, function(t, e, n) {
    "use strict";
    e.__esModule = !0;
    var i = n(210)
      , o = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(i);
    e.default = function(t) {
        if (Array.isArray(t)) {
            for (var e = 0, n = Array(t.length); e < t.length; e++)
                n[e] = t[e];
            return n
        }
        return (0,
        o.default)(t)
    }
}
, function(t, e) {
    var n = {}.toString;
    t.exports = function(t) {
        return n.call(t).slice(8, -1)
    }
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return !!t()
        } catch (t) {
            return !0
        }
    }
}
, function(t, e) {
    t.exports = {}
}
, function(t, e) {
    t.exports = !0
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            enumerable: !(1 & t),
            configurable: !(2 & t),
            writable: !(4 & t),
            value: e
        }
    }
}
, function(t, e, n) {
    var i = n(71);
    t.exports = function(t) {
        return Object(i(t))
    }
}
, function(t, e, n) {
    (function(e, n) {
        (function() {
            !function(t) {
                "use strict";
                function n(t) {
                    if ("string" != typeof t && (t = String(t)),
                    /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))
                        throw new TypeError("Invalid character in header field name");
                    return t.toLowerCase()
                }
                function i(t) {
                    return "string" != typeof t && (t = String(t)),
                    t
                }
                function o(t) {
                    var e = {
                        next: function() {
                            var e = t.shift();
                            return {
                                done: void 0 === e,
                                value: e
                            }
                        }
                    };
                    return _.iterable && (e[Symbol.iterator] = function() {
                        return e
                    }
                    ),
                    e
                }
                function r(t) {
                    this.map = {},
                    t instanceof r ? t.forEach(function(t, e) {
                        this.append(e, t)
                    }, this) : Array.isArray(t) ? t.forEach(function(t) {
                        this.append(t[0], t[1])
                    }, this) : t && Object.getOwnPropertyNames(t).forEach(function(e) {
                        this.append(e, t[e])
                    }, this)
                }
                function a(t) {
                    if (t.bodyUsed)
                        return e.reject(new TypeError("Already read"));
                    t.bodyUsed = !0
                }
                function s(t) {
                    return new e(function(e, n) {
                        t.onload = function() {
                            e(t.result)
                        }
                        ,
                        t.onerror = function() {
                            n(t.error)
                        }
                    }
                    )
                }
                function u(t) {
                    var e = new FileReader
                      , n = s(e);
                    return e.readAsArrayBuffer(t),
                    n
                }
                function l(t) {
                    var e = new FileReader
                      , n = s(e);
                    return e.readAsText(t),
                    n
                }
                function c(t) {
                    for (var e = new Uint8Array(t), n = new Array(e.length), i = 0; i < e.length; i++)
                        n[i] = String.fromCharCode(e[i]);
                    return n.join("")
                }
                function d(t) {
                    if (t.slice)
                        return t.slice(0);
                    var e = new Uint8Array(t.byteLength);
                    return e.set(new Uint8Array(t)),
                    e.buffer
                }
                function p() {
                    return this.bodyUsed = !1,
                    this._initBody = function(t) {
                        if (this._bodyInit = t,
                        t)
                            if ("string" == typeof t)
                                this._bodyText = t;
                            else if (_.blob && Blob.prototype.isPrototypeOf(t))
                                this._bodyBlob = t;
                            else if (_.formData && FormData.prototype.isPrototypeOf(t))
                                this._bodyFormData = t;
                            else if (_.searchParams && URLSearchParams.prototype.isPrototypeOf(t))
                                this._bodyText = t.toString();
                            else if (_.arrayBuffer && _.blob && b(t))
                                this._bodyArrayBuffer = d(t.buffer),
                                this._bodyInit = new Blob([this._bodyArrayBuffer]);
                            else {
                                if (!_.arrayBuffer || !ArrayBuffer.prototype.isPrototypeOf(t) && !w(t))
                                    throw new Error("unsupported BodyInit type");
                                this._bodyArrayBuffer = d(t)
                            }
                        else
                            this._bodyText = "";
                        this.headers.get("content-type") || ("string" == typeof t ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : _.searchParams && URLSearchParams.prototype.isPrototypeOf(t) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"))
                    }
                    ,
                    _.blob && (this.blob = function() {
                        var t = a(this);
                        if (t)
                            return t;
                        if (this._bodyBlob)
                            return e.resolve(this._bodyBlob);
                        if (this._bodyArrayBuffer)
                            return e.resolve(new Blob([this._bodyArrayBuffer]));
                        if (this._bodyFormData)
                            throw new Error("could not read FormData body as blob");
                        return e.resolve(new Blob([this._bodyText]))
                    }
                    ,
                    this.arrayBuffer = function() {
                        return this._bodyArrayBuffer ? a(this) || e.resolve(this._bodyArrayBuffer) : this.blob().then(u)
                    }
                    ),
                    this.text = function() {
                        var t = a(this);
                        if (t)
                            return t;
                        if (this._bodyBlob)
                            return l(this._bodyBlob);
                        if (this._bodyArrayBuffer)
                            return e.resolve(c(this._bodyArrayBuffer));
                        if (this._bodyFormData)
                            throw new Error("could not read FormData body as text");
                        return e.resolve(this._bodyText)
                    }
                    ,
                    _.formData && (this.formData = function() {
                        return this.text().then(v)
                    }
                    ),
                    this.json = function() {
                        return this.text().then(JSON.parse)
                    }
                    ,
                    this
                }
                function f(t) {
                    var e = t.toUpperCase();
                    return O.indexOf(e) > -1 ? e : t
                }
                function h(t, e) {
                    e = e || {};
                    var n = e.body;
                    if (t instanceof h) {
                        if (t.bodyUsed)
                            throw new TypeError("Already read");
                        this.url = t.url,
                        this.credentials = t.credentials,
                        e.headers || (this.headers = new r(t.headers)),
                        this.method = t.method,
                        this.mode = t.mode,
                        n || null == t._bodyInit || (n = t._bodyInit,
                        t.bodyUsed = !0)
                    } else
                        this.url = String(t);
                    if (this.credentials = e.credentials || this.credentials || "omit",
                    !e.headers && this.headers || (this.headers = new r(e.headers)),
                    this.method = f(e.method || this.method || "GET"),
                    this.mode = e.mode || this.mode || null,
                    this.referrer = null,
                    ("GET" === this.method || "HEAD" === this.method) && n)
                        throw new TypeError("Body not allowed for GET or HEAD requests");
                    this._initBody(n)
                }
                function v(t) {
                    var e = new FormData;
                    return t.trim().split("&").forEach(function(t) {
                        if (t) {
                            var n = t.split("=")
                              , i = n.shift().replace(/\+/g, " ")
                              , o = n.join("=").replace(/\+/g, " ");
                            e.append(decodeURIComponent(i), decodeURIComponent(o))
                        }
                    }),
                    e
                }
                function m(t) {
                    var e = new r;
                    return t.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(t) {
                        var n = t.split(":")
                          , i = n.shift().trim();
                        if (i) {
                            var o = n.join(":").trim();
                            e.append(i, o)
                        }
                    }),
                    e
                }
                function y(t, e) {
                    e || (e = {}),
                    this.type = "default",
                    this.status = void 0 === e.status ? 200 : e.status,
                    this.ok = this.status >= 200 && this.status < 300,
                    this.statusText = "statusText"in e ? e.statusText : "OK",
                    this.headers = new r(e.headers),
                    this.url = e.url || "",
                    this._initBody(t)
                }
                if (!t.fetch) {
                    var _ = {
                        searchParams: "URLSearchParams"in t,
                        iterable: "Symbol"in t && "iterator"in Symbol,
                        blob: "FileReader"in t && "Blob"in t && function() {
                            try {
                                return new Blob,
                                !0
                            } catch (t) {
                                return !1
                            }
                        }(),
                        formData: "FormData"in t,
                        arrayBuffer: "ArrayBuffer"in t
                    };
                    if (_.arrayBuffer)
                        var g = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"]
                          , b = function(t) {
                            return t && DataView.prototype.isPrototypeOf(t)
                        }
                          , w = ArrayBuffer.isView || function(t) {
                            return t && g.indexOf(Object.prototype.toString.call(t)) > -1
                        }
                        ;
                    r.prototype.append = function(t, e) {
                        t = n(t),
                        e = i(e);
                        var o = this.map[t];
                        this.map[t] = o ? o + "," + e : e
                    }
                    ,
                    r.prototype.delete = function(t) {
                        delete this.map[n(t)]
                    }
                    ,
                    r.prototype.get = function(t) {
                        return t = n(t),
                        this.has(t) ? this.map[t] : null
                    }
                    ,
                    r.prototype.has = function(t) {
                        return this.map.hasOwnProperty(n(t))
                    }
                    ,
                    r.prototype.set = function(t, e) {
                        this.map[n(t)] = i(e)
                    }
                    ,
                    r.prototype.forEach = function(t, e) {
                        for (var n in this.map)
                            this.map.hasOwnProperty(n) && t.call(e, this.map[n], n, this)
                    }
                    ,
                    r.prototype.keys = function() {
                        var t = [];
                        return this.forEach(function(e, n) {
                            t.push(n)
                        }),
                        o(t)
                    }
                    ,
                    r.prototype.values = function() {
                        var t = [];
                        return this.forEach(function(e) {
                            t.push(e)
                        }),
                        o(t)
                    }
                    ,
                    r.prototype.entries = function() {
                        var t = [];
                        return this.forEach(function(e, n) {
                            t.push([n, e])
                        }),
                        o(t)
                    }
                    ,
                    _.iterable && (r.prototype[Symbol.iterator] = r.prototype.entries);
                    var O = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
                    h.prototype.clone = function() {
                        return new h(this,{
                            body: this._bodyInit
                        })
                    }
                    ,
                    p.call(h.prototype),
                    p.call(y.prototype),
                    y.prototype.clone = function() {
                        return new y(this._bodyInit,{
                            status: this.status,
                            statusText: this.statusText,
                            headers: new r(this.headers),
                            url: this.url
                        })
                    }
                    ,
                    y.error = function() {
                        var t = new y(null,{
                            status: 0,
                            statusText: ""
                        });
                        return t.type = "error",
                        t
                    }
                    ;
                    var k = [301, 302, 303, 307, 308];
                    y.redirect = function(t, e) {
                        if (-1 === k.indexOf(e))
                            throw new RangeError("Invalid status code");
                        return new y(null,{
                            status: e,
                            headers: {
                                location: t
                            }
                        })
                    }
                    ,
                    t.Headers = r,
                    t.Request = h,
                    t.Response = y,
                    t.fetch = function(t, n) {
                        return new e(function(e, i) {
                            var o = new h(t,n)
                              , r = new XMLHttpRequest;
                            r.onload = function() {
                                var t = {
                                    status: r.status,
                                    statusText: r.statusText,
                                    headers: m(r.getAllResponseHeaders() || "")
                                };
                                t.url = "responseURL"in r ? r.responseURL : t.headers.get("X-Request-URL");
                                var n = "response"in r ? r.response : r.responseText;
                                e(new y(n,t))
                            }
                            ,
                            r.onerror = function() {
                                i(new TypeError("Network request failed"))
                            }
                            ,
                            r.ontimeout = function() {
                                i(new TypeError("Network request failed"))
                            }
                            ,
                            r.open(o.method, o.url, !0),
                            "include" === o.credentials ? r.withCredentials = !0 : "omit" === o.credentials && (r.withCredentials = !1),
                            "responseType"in r && _.blob && (r.responseType = "blob"),
                            o.headers.forEach(function(t, e) {
                                r.setRequestHeader(e, t)
                            }),
                            r.send(void 0 === o._bodyInit ? null : o._bodyInit)
                        }
                        )
                    }
                    ,
                    t.fetch.polyfill = !0
                }
            }("undefined" != typeof self ? self : this),
            t.exports = n.fetch
        }
        ).call(n)
    }
    ).call(e, n(134), n(107))
}
, function(t, e, n) {
    function i(t, e, n, i) {
        var a = !n;
        n || (n = {});
        for (var s = -1, u = e.length; ++s < u; ) {
            var l = e[s]
              , c = i ? i(n[l], t[l], l, n, t) : void 0;
            void 0 === c && (c = t[l]),
            a ? r(n, l, c) : o(n, l, c)
        }
        return n
    }
    var o = n(140)
      , r = n(92);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        if ("string" == typeof t || o(t))
            return t;
        var e = t + "";
        return "0" == e && 1 / t == -r ? "-0" : e
    }
    var o = n(67)
      , r = 1 / 0;
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        return t === e || t !== t && e !== e
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return a(t) ? o(t, !0) : r(t)
    }
    var o = n(138)
      , r = n(296)
      , a = n(28);
    t.exports = i
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , r = n(21)
      , a = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(r)
      , s = function() {
        function t() {
            i(this, t)
        }
        return o(t, null, [{
            key: "getParentElementsByClassName",
            value: function(t) {
                for (var e = [], n = document.getElementsByClassName(t), i = 0; i < n.length; i++)
                    e.push(n[i].parentNode);
                return e
            }
        }, {
            key: "getSiblingElementsByClassName",
            value: function(t) {
                for (var e = [], n = document.getElementsByClassName(t), i = 0; i < n.length; i++) {
                    var o = n[i]
                      , r = o.nextSibling;
                    if ("#text" === r.nodeName)
                        if ("" !== r.textContent.trim()) {
                            var a = document.createElement("span");
                            a.innerHTML = r.textContent.trim(),
                            r.parentNode.insertBefore(a, r),
                            r.parentNode.removeChild(r),
                            r = a
                        } else
                            r = r.nextSibling;
                    e.push(r)
                }
                return e
            }
        }, {
            key: "getSiblingElementsByClassNameAndAttribute",
            value: function(t, e, n) {
                for (var i = [], o = document.querySelectorAll('[class*="' + t + '"][' + e + '="' + n + '"]'), r = 0; r < o.length; r++) {
                    var a = o[r]
                      , s = a.nextSibling;
                    if ("#text" === s.nodeName)
                        if ("" !== s.textContent.trim()) {
                            var u = document.createElement("span");
                            u.innerHTML = s.textContent.trim(),
                            s.parentNode.insertBefore(u, s),
                            s.parentNode.removeChild(s),
                            s = u
                        } else
                            s = s.nextSibling;
                    i.push(s)
                }
                return i
            }
        }, {
            key: "getWrappingElement",
            value: function(t) {
                var e = document.createElement("div");
                return e.innerHTML = t,
                e.firstChild
            }
        }, {
            key: "hasClass",
            value: function(t, e) {
                return t.classList ? t.classList.contains(e) : !!t.className.match(new RegExp("(\\s|^)" + e + "(\\s|$)"))
            }
        }, {
            key: "addClass",
            value: function(t, e) {
                t.classList ? t.classList.add(e) : this.hasClass(e) || (t.className += " " + e)
            }
        }, {
            key: "removeClass",
            value: function(t, e) {
                if (t.classList)
                    t.classList.remove(e);
                else if (this.hasClass(e)) {
                    var n = new RegExp("(\\s|^)" + e + "(\\s|$)");
                    t.className = t.className.replace(n, " ")
                }
            }
        }, {
            key: "hide",
            value: function(t) {
                t.style.display = "none"
            }
        }, {
            key: "empty",
            value: function(t) {
                for (; t.firstChild; )
                    t.removeChild(t.firstChild)
            }
        }, {
            key: "data",
            value: function(t, e, n) {
                return void 0 === n ? this.getData(t, e) : this.setData(t, e, n)
            }
        }, {
            key: "getData",
            value: function(t, e) {
                var n = t.getAttribute("data-" + e);
                if (null !== n) {
                    var i = parseInt(n);
                    return isNaN(i) ? n : i
                }
            }
        }, {
            key: "setData",
            value: function(t, e, n) {
                return void 0 !== t.dataset ? (e = e.replace(/-([a-z])/g, function(t) {
                    return t[1].toUpperCase()
                }),
                t.dataset[e] = n,
                n) : t.setAttribute("data-" + e, n)
            }
        }, {
            key: "removeData",
            value: function(t, e) {
                return void 0 === t.dataset ? t.removeAttribute("data-" + e) : (e = e.replace(/-([a-z])/g, function(t) {
                    return t[1].toUpperCase()
                }),
                void 0 !== t.dataset[e] && delete t.dataset[e],
                null)
            }
        }, {
            key: "createElement",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                  , n = document.createElement(t);
                if (null === e)
                    return n;
                for (var i in e) {
                    var o = e[i];
                    switch (i) {
                    case "innerHTML":
                        n.innerHTML = o;
                        break;
                    case "text":
                        n.appendChild(document.createTextNode(o));
                        break;
                    case "click":
                    case "onClick":
                        n.addEventListener("click", o);
                        break;
                    case "appendChild":
                        n.appendChild(o);
                        break;
                    case "appendChildren":
                        for (var r = 0; r < o.length; r++)
                            n.appendChild(o[r]);
                        break;
                    default:
                        n[i] = o
                    }
                }
                return n
            }
        }, {
            key: "replaceElement",
            value: function(t, e) {
                return t.parentNode.insertBefore(e, t),
                t.parentNode.removeChild(t)
            }
        }, {
            key: "trigger",
            value: function(t, e) {
                if (document.createEventObject) {
                    var n = document.createEventObject();
                    return e.fireEvent("on" + t, n)
                }
                var i = document.createEvent("HTMLEvents");
                return i.initEvent(t, !0, !0),
                !e.dispatchEvent(i)
            }
        }, {
            key: "innerHTML",
            value: function(t, e) {
                if (void 0 !== t) {
                    var n = a.default.type(t);
                    if ("array" === n || "htmlcollection" === n || "nodelist" === n)
                        for (var i = 0; i < t.length; i++)
                            t[i].innerHTML = e;
                    else
                        t.innerHTML = e
                }
            }
        }, {
            key: "stop",
            value: function() {
                "function" == typeof window.stop ? window.stop() : document.execCommand("Stop")
            }
        }, {
            key: "remove",
            value: function(t) {
                var e = t.parentNode;
                return !!e && e.removeChild(t)
            }
        }, {
            key: "reload",
            value: function() {
                window.location.reload()
            }
        }, {
            key: "highlight",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "#F00";
                t.style.border = "2px solid " + e
            }
        }, {
            key: "getSelfOrFirstParentWithClass",
            value: function(t, e) {
                return this.hasClass(t, e) ? t : this.getFirstParentWithClass(t, e)
            }
        }, {
            key: "getFirstParentWithClass",
            value: function(t, e) {
                var n = t.parentElement;
                return !!n && (this.hasClass(n, e) ? n : this.getFirstParentWithClass(n, e))
            }
        }, {
            key: "addCSS",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                  , n = a.default.windowGet("BOLD.common.injected_stylesheet");
                if (void 0 === n) {
                    var i = document.createElement("style");
                    i.appendChild(document.createTextNode("")),
                    document.head.appendChild(i),
                    n = i.sheet,
                    a.default.windowSet("BOLD.common.injected_stylesheet", n)
                }
                n.insertRule(t, e)
            }
        }, {
            key: "removeCSS",
            value: function(t) {
                var e = a.default.windowGet("BOLD.common.injected_stylesheet");
                void 0 !== e && e.deleteRule(t)
            }
        }, {
            key: "removeClickEvent",
            value: function(t) {
                "undefined" != typeof jQuery && (void 0 !== jQuery().unbind && jQuery(t).unbind("click"),
                void 0 !== jQuery().off && jQuery(t).off("click")),
                "function" == typeof t.removeAttribute && t.removeAttribute("onclick"),
                void 0 !== t.onclick && (t.onclick = null)
            }
        }, {
            key: "matches",
            value: function(t, e) {
                return Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function(t) {
                    for (var e = (this.document || this.ownerDocument).querySelectorAll(t), n = e.length; --n >= 0 && e.item(n) !== this; )
                        ;
                    return n > -1
                }
                ),
                t.matches(e)
            }
        }, {
            key: "matchesSelectorInArray",
            value: function(t, e) {
                for (var n = 0; n < e.length; n++)
                    if (this.matches(t, e[n]))
                        return !0;
                return !1
            }
        }, {
            key: "insertAfter",
            value: function(t, e) {
                e.parentNode.insertBefore(t, e.nextSibling)
            }
        }]),
        t
    }();
    e.default = s
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        function i(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var r = function() {
            function t(t, e) {
                var n = []
                  , i = !0
                  , o = !1
                  , r = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value),
                    !e || n.length !== e); i = !0)
                        ;
                } catch (t) {
                    o = !0,
                    r = t
                } finally {
                    try {
                        !i && s.return && s.return()
                    } finally {
                        if (o)
                            throw r
                    }
                }
                return n
            }
            return function(e, n) {
                if (Array.isArray(e))
                    return e;
                if (Symbol.iterator in Object(e))
                    return t(e, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }()
          , a = function() {
            function t(t, e) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(t, i.key, i)
                }
            }
            return function(e, n, i) {
                return n && t(e.prototype, n),
                i && t(e, i),
                e
            }
        }()
          , s = n(33)
          , u = i(s)
          , l = n(21)
          , c = i(l)
          , d = function() {
            function e() {
                o(this, e)
            }
            return a(e, null, [{
                key: "processRawCart",
                value: function(t) {
                    return t
                }
            }, {
                key: "processCartItem",
                value: function(t) {
                    return t
                }
            }, {
                key: "whatPageAmIOn",
                value: function() {
                    if (void 0 !== window.BOLD.common && "string" == typeof window.BOLD.common.template)
                        return window.BOLD.common.template;
                    var t = this.getUrlPath();
                    return "" === t[1] ? "index" : "cart" === t[1] ? "cart" : "orders" !== t[2] && "checkouts" !== t[2] || "thank_you" !== t[t.length - 1] ? void 0 !== t[t.length - 2] && "products" === t[t.length - 2] ? "product" : "other" : "thankyou"
                }
            }, {
                key: "onPage",
                value: function(t) {
                    return this.whatPageAmIOn() === t
                }
            }, {
                key: "getProductId",
                value: function(t) {
                    return void 0 !== window.BOLD.common.Shopify.variants[t] && window.BOLD.common.Shopify.variants[t].product_id
                }
            }, {
                key: "getProductHandleById",
                value: function(t) {
                    return void 0 !== window.BOLD.common.Shopify.variants[t] && window.BOLD.common.Shopify.variants[t].product_handle
                }
            }, {
                key: "getProductIdByHandle",
                value: function(t) {
                    return void 0 !== window.BOLD.common.Shopify.products[t] && window.BOLD.common.Shopify.products[t].id
                }
            }, {
                key: "getShopUrl",
                value: function() {
                    return window.BOLD.common.Shopify.shop.permanent_domain
                }
            }, {
                key: "getUrlPath",
                value: function() {
                    return window.location.pathname.split("/")
                }
            }, {
                key: "getBaseUrl",
                value: function() {
                    return void 0 === window.location.origin ? window.location.href.match(/https?:\/\/[^/]+/gi) : window.location.origin
                }
            }, {
                key: "getProductHandle",
                value: function() {
                    if ("product" === this.whatPageAmIOn()) {
                        var t = this.getUrlPath()
                          , e = t.indexOf("products");
                        if (e > -1 && void 0 !== t[e + 1])
                            return t[e + 1]
                    }
                    return !1
                }
            }, {
                key: "getCurrLocation",
                value: function() {
                    return window.location.pathname
                }
            }, {
                key: "isNoDecimals",
                value: function() {
                    return window.BOLD.common.Shopify.shop.money_format.indexOf("no_decimals") > -1
                }
            }, {
                key: "displayMoney",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                    if (void 0 !== window.Currency) {
                        var n = this.convertCurrencyFormat(t, e)
                          , i = r(n, 2);
                        t = i[0],
                        e = i[1]
                    }
                    return this.formatMoney(t, e)
                }
            }, {
                key: "formatMoney",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                    return null === e && (e = window.BOLD.common.Shopify ? window.BOLD.common.Shopify.shop.money_format : "${{amount}}"),
                    "function" == typeof c.default.windowGet("BOLD.common.Shopify.formatMoney") ? window.BOLD.common.Shopify.formatMoney(t, e) : "function" == typeof c.default.windowGet("Shopify.formatMoney") ? window.Shopify.formatMoney(t, e) : "function" == typeof c.default.windowGet("Currency.formatMoney") ? window.Currency.formatMoney(t, e) : "function" == typeof c.default.windowGet("theme.Currency.formatMoney") ? window.theme.Currency.formatMoney(t, e) : this.rawFormatMoney(t, e)
                }
            }, {
                key: "convertCurrencyFormat",
                value: function(t, e) {
                    var n = c.default.windowGet("Currency.currentCurrency");
                    if ("string" == typeof n) {
                        var i = ""
                          , o = void 0;
                        "function" == typeof c.default.windowGet("Currency.convert") && (i = window.Currency.convert(t, window.BOLD.common.Shopify.shop.currency, n)),
                        void 0 !== window.Currency.money_format ? o = c.default.windowGet("Currency." + window.Currency.format + "." + n) : void 0 !== window.Currency.moneyFormats && (o = c.default.windowGet("Currency.moneyFormats." + n + "." + window.Currency.format)),
                        void 0 !== i && "" !== i && "string" == typeof o && (t = i,
                        e = "<span class=money>" + o + "</span>")
                    }
                    return [t, e]
                }
            }, {
                key: "findForm",
                value: function() {
                    return document.getElementsByName("id").length > 0 ? this.findFormFromChild(document.getElementsByName("id")[0]) : document.getElementsByName("id[]").length > 0 && this.findFormFromChild(document.getElementsByName("id")[0])
                }
            }, {
                key: "getAddProductButtons",
                value: function(t) {
                    var e = t.querySelectorAll("[type=submit],.addtocart");
                    if (0 === e.length) {
                        var n = ["[name=add]", ".addToCart", ".add", ".ADDTOCART", ".AddToCart", ".add_to_cart", ".add-to-cart", ".Add-To-Cart", "#AddToCart"];
                        e = t.querySelectorAll(n.join(","))
                    }
                    return e
                }
            }, {
                key: "findFormFromChild",
                value: function(t) {
                    return null !== t.parentNode && null !== t.parentNode.nodeName && ("FORM" === t.parentNode.nodeName ? t.parentNode : this.findFormFromChild(t.parentNode))
                }
            }, {
                key: "getCart",
                value: function() {
                    var t = "/cart.json";
                    return null !== navigator.userAgent.match(/Trident|MSIE/g) && (t += "?_tmp=" + (new Date).getTime()),
                    c.default.get(t, !0)
                }
            }, {
                key: "getPlatformJsObj",
                value: function() {
                    return window.BOLD.common.Shopify
                }
            }, {
                key: "getCartJsObj",
                value: function() {
                    return e.getPlatformJsObj().cart
                }
            }, {
                key: "getShopJsObj",
                value: function() {
                    return e.getPlatformJsObj().shop
                }
            }, {
                key: "getMoneyFormatJsObj",
                value: function() {
                    return e.getPlatformJsObj().shop.money_format
                }
            }, {
                key: "getVariant",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                      , i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "json";
                    return this.getProduct(t, n, i).then(function(t) {
                        if (void 0 !== t.variants)
                            return (0,
                            u.default)(t.variants, function(t) {
                                return t.id === e
                            });
                        throw new Error("Variant not found.")
                    })
                }
            }, {
                key: "getProduct",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                      , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "json"
                      , i = "json" === n ? "" : n
                      , o = c.default.windowGet("BOLD.common.Shopify.products" + i + "." + t + ".request");
                    return (e || void 0 === o) && (o = c.default.get(this.getBaseUrl() + "/products/" + t + "." + n, !0),
                    c.default.windowSet("BOLD.common.Shopify.products" + i + "." + t + ".request", o)),
                    o.then(function(e) {
                        return void 0 !== e.product ? (e.product.request = o,
                        c.default.windowSet("BOLD.common.Shopify.products" + i + "." + t, e.product),
                        e.product) : (e.request = o,
                        c.default.windowSet("BOLD.common.Shopify.products" + i + "." + t, e),
                        e)
                    })
                }
            }, {
                key: "getVariantJs",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                    return this.getVariant(t, e, n, "js")
                }
            }, {
                key: "getProductJs",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return this.getProduct(t, e, "js")
                }
            }, {
                key: "postCartChange",
                value: function(e, n) {
                    return null !== n && (e.properties = n),
                    t("/cart/change.js", {
                        method: "post",
                        body: JSON.stringify(e),
                        headers: {
                            Accept: "application/json",
                            "Content-Type": "application/json"
                        },
                        credentials: "include"
                    }).then(this.checkStatus).then(c.default.parseJSON)
                }
            }, {
                key: "cartChange",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                      , i = {
                        line: t,
                        quantity: e
                    };
                    return this.postCartChange(i, n)
                }
            }, {
                key: "cartChangeById",
                value: function(t, e) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                      , i = {
                        id: t,
                        quantity: e
                    };
                    return this.postCartChange(i, n)
                }
            }, {
                key: "cartAdd",
                value: function(e, n) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                      , o = {
                        id: e,
                        quantity: n
                    };
                    return null !== i && (o.properties = i),
                    t("/cart/add.js", {
                        method: "post",
                        body: JSON.stringify(o),
                        headers: {
                            Accept: "application/json",
                            "Content-Type": "application/json"
                        },
                        credentials: "include"
                    }).then(this.checkStatus).then(c.default.parseJSON)
                }
            }, {
                key: "cartUpdate",
                value: function(e) {
                    return t("/cart/update.js", {
                        method: "post",
                        body: JSON.stringify({
                            updates: e
                        }),
                        headers: {
                            Accept: "application/json",
                            "Content-Type": "application/json"
                        },
                        credentials: "include"
                    }).then(this.checkStatus).then(c.default.parseJSON)
                }
            }, {
                key: "getCheckoutButtons",
                value: function() {
                    var t = window.location.protocol + "//" + window.location.host + "/checkout"
                      , n = document.querySelectorAll('[name=checkout], [href="' + t + '"], [href="/checkout"], [action*=checkout] [type=submit], [onclick*=checkout], .additional-checkout-button:not(.additional-checkout-button--apple-pay)');
                    return Array.from(n).filter(function(t) {
                        return !e.containsIFrame(t)
                    })
                }
            }, {
                key: "containsIFrame",
                value: function(t) {
                    return t.querySelector("iframe")
                }
            }, {
                key: "rawFormatMoney",
                value: function(t, e) {
                    function n(t, e) {
                        return void 0 === t ? e : t
                    }
                    function i(t, e, i, o) {
                        if (e = n(e, 2),
                        i = n(i, ","),
                        o = n(o, "."),
                        isNaN(t) || null == t)
                            return 0;
                        t = (t / 100).toFixed(e);
                        var r = t.split(".");
                        return r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1" + i) + (r[1] ? o + r[1] : "")
                    }
                    "string" == typeof t && (t = t.replace(".", ""));
                    var o = ""
                      , r = /\{\{\s*(\w+)\s*\}\}/
                      , a = e || "$ {{ amount }}";
                    switch (a.match(r)[1]) {
                    case "amount":
                        o = i(t, 2, ",", ".");
                        break;
                    case "amount_no_decimals":
                        o = i(t, 0, ",", ".");
                        break;
                    case "amount_with_comma_separator":
                        o = i(t, 2, ".", ",");
                        break;
                    case "amount_no_decimals_with_comma_separator":
                        o = i(t, 0, ".", ",");
                        break;
                    case "amount_with_space_separator":
                        o = i(t, 2, " ", ",");
                        break;
                    case "amount_no_decimals_with_space_separator":
                        o = i(t, 0, " ", ",");
                        break;
                    case "amount_with_apostrophe_separator":
                        o = i(t, 2, "'", ".")
                    }
                    return a.replace(r, o)
                }
            }, {
                key: "getMoneyClasses",
                value: function() {
                    return ["money"]
                }
            }]),
            e
        }();
        e.default = d
    }
    ).call(e, n(43))
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0)
      , r = i(o)
      , a = n(1)
      , s = i(a)
      , u = n(106)
      , l = i(u)
      , c = n(2)
      , d = i(c)
      , p = n(3)
      , f = function() {
        function t(e, n, i) {
            var o = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
            (0,
            r.default)(this, t),
            this.templateType = e,
            this.parent = i,
            this.fields = n,
            this.element = this.renderTemplate(),
            this.errorElement = null,
            this.visible = !0,
            this.errorClass = "bold_option_error",
            o && this.append()
        }
        return (0,
        s.default)(t, [{
            key: "getTemplate",
            value: function() {
                return window.BOLD.options.templates[this.templateType]
            }
        }, {
            key: "getErrorTemplate",
            value: function() {
                return window.BOLD.options.templates.option_error
            }
        }, {
            key: "renderTemplate",
            value: function() {
                var t = this.getTemplate();
                l.default.parse(t);
                var e = l.default.render(t, this.fields);
                return p.DOMHelper.getWrappingElement(e)
            }
        }, {
            key: "refreshTemplate",
            value: function() {
                var t = this.renderTemplate();
                this.parent.replaceChild(t, this.element),
                this.element = t,
                this.visible || this.hide()
            }
        }, {
            key: "append",
            value: function() {
                this.parent.appendChild(this.element)
            }
        }, {
            key: "prepend",
            value: function() {
                this.parent.insertBefore(this.element, this.parent.firstChild)
            }
        }, {
            key: "show",
            value: function() {
                var t = this;
                (0,
                d.default)(this.childNodes, function(e) {
                    return t.element.appendChild(e)
                }),
                this.visible = !0
            }
        }, {
            key: "hide",
            value: function() {
                for (this.childNodes = []; this.element.firstChild; )
                    this.childNodes.push(this.element.removeChild(this.element.firstChild));
                this.visible = !1
            }
        }, {
            key: "addErrorClass",
            value: function() {
                p.DOMHelper.addClass(this.element, this.errorClass)
            }
        }, {
            key: "removeErrorClass",
            value: function() {
                p.DOMHelper.removeClass(this.element, this.errorClass)
            }
        }, {
            key: "showError",
            value: function(t) {
                if (this.removeError(),
                "" !== t) {
                    var e = this.getErrorTemplate()
                      , n = {
                        error: t
                    };
                    l.default.parse(e);
                    var i = l.default.render(e, n);
                    this.errorElement = p.DOMHelper.getWrappingElement(i),
                    this.element.appendChild(this.errorElement)
                }
                this.addErrorClass()
            }
        }, {
            key: "setFields",
            value: function(t) {
                this.fields = t
            }
        }, {
            key: "removeError",
            value: function() {
                null !== this.errorElement && (this.element.removeChild(this.errorElement),
                this.errorElement = null),
                this.removeErrorClass()
            }
        }]),
        t
    }();
    e.default = f
}
, function(t, e, n) {
    t.exports = {
        default: n(224),
        __esModule: !0
    }
}
, function(t, e) {
    t.exports = function(t) {
        if ("function" != typeof t)
            throw TypeError(t + " is not a function!");
        return t
    }
}
, function(t, e, n) {
    var i = n(127)
      , o = n(73);
    t.exports = Object.keys || function(t) {
        return i(t, o)
    }
}
, function(t, e, n) {
    var i = n(19).f
      , o = n(24)
      , r = n(14)("toStringTag");
    t.exports = function(t, e, n) {
        t && !o(t = n ? t : t.prototype, r) && i(t, r, {
            configurable: !0,
            value: e
        })
    }
}
, function(t, e) {
    var n = 0
      , i = Math.random();
    t.exports = function(t) {
        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + i).toString(36))
    }
}
, function(t, e, n) {
    "use strict";
    var i = n(247)(!0);
    n(122)(String, "String", function(t) {
        this._t = String(t),
        this._i = 0
    }, function() {
        var t, e = this._t, n = this._i;
        return n >= e.length ? {
            value: void 0,
            done: !0
        } : (t = i(e, n),
        this._i += t.length,
        {
            value: t,
            done: !1
        })
    })
}
, function(t, e, n) {
    function i(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    var o = n(339)
      , r = n(340)
      , a = n(341)
      , s = n(342)
      , u = n(343);
    i.prototype.clear = o,
    i.prototype.delete = r,
    i.prototype.get = a,
    i.prototype.has = s,
    i.prototype.set = u,
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = this.__data__ = new o(t);
        this.size = e.size
    }
    var o = n(57)
      , r = n(361)
      , a = n(362)
      , s = n(363)
      , u = n(364)
      , l = n(365);
    i.prototype.clear = r,
    i.prototype.delete = a,
    i.prototype.get = s,
    i.prototype.has = u,
    i.prototype.set = l,
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        for (var n = t.length; n--; )
            if (o(t[n][0], e))
                return n;
        return -1
    }
    var o = n(46);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return function(e) {
            return t(e)
        }
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e) {
        var n = t.__data__;
        return o(e) ? n["string" == typeof e ? "string" : "hash"] : n.map
    }
    var o = n(337);
    t.exports = i
}
, function(t, e, n) {
    var i = n(265)
      , o = n(88)
      , r = n(267)
      , a = n(268)
      , s = n(269)
      , u = n(31)
      , l = n(162)
      , c = l(i)
      , d = l(o)
      , p = l(r)
      , f = l(a)
      , h = l(s)
      , v = u;
    (i && "[object DataView]" != v(new i(new ArrayBuffer(1))) || o && "[object Map]" != v(new o) || r && "[object Promise]" != v(r.resolve()) || a && "[object Set]" != v(new a) || s && "[object WeakMap]" != v(new s)) && (v = function(t) {
        var e = u(t)
          , n = "[object Object]" == e ? t.constructor : void 0
          , i = n ? l(n) : "";
        if (i)
            switch (i) {
            case c:
                return "[object DataView]";
            case d:
                return "[object Map]";
            case p:
                return "[object Promise]";
            case f:
                return "[object Set]";
            case h:
                return "[object WeakMap]"
            }
        return e
    }
    ),
    t.exports = v
}
, function(t, e) {
    function n(t, e) {
        var n = typeof t;
        return !!(e = null == e ? i : e) && ("number" == n || "symbol" != n && o.test(t)) && t > -1 && t % 1 == 0 && t < e
    }
    var i = 9007199254740991
      , o = /^(?:0|[1-9]\d*)$/;
    t.exports = n
}
, function(t, e, n) {
    var i = n(27)
      , o = i(Object, "create");
    t.exports = o
}
, function(t, e, n) {
    var i = n(287)
      , o = n(20)
      , r = Object.prototype
      , a = r.hasOwnProperty
      , s = r.propertyIsEnumerable
      , u = i(function() {
        return arguments
    }()) ? i : function(t) {
        return o(t) && a.call(t, "callee") && !s.call(t, "callee")
    }
    ;
    t.exports = u
}
, function(t, e, n) {
    (function(t) {
        var i = n(17)
          , o = n(384)
          , r = "object" == typeof e && e && !e.nodeType && e
          , a = r && "object" == typeof t && t && !t.nodeType && t
          , s = a && a.exports === r
          , u = s ? i.Buffer : void 0
          , l = u ? u.isBuffer : void 0
          , c = l || o;
        t.exports = c
    }
    ).call(e, n(108)(t))
}
, function(t, e, n) {
    function i(t) {
        return "symbol" == typeof t || r(t) && o(t) == a
    }
    var o = n(31)
      , r = n(20)
      , a = "[object Symbol]";
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = o(t)
          , n = e % 1;
        return e === e ? n ? e - n : e : 0
    }
    var o = n(385);
    t.exports = i
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function o(t, e) {
        if (!t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != typeof e && "function" != typeof e ? t : e
    }
    function r(t, e) {
        if ("function" != typeof e && null !== e)
            throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
    }
    function a(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.EventEmitterWithLog = void 0;
    var s = function t(e, n, i) {
        null === e && (e = Function.prototype);
        var o = Object.getOwnPropertyDescriptor(e, n);
        if (void 0 === o) {
            var r = Object.getPrototypeOf(e);
            return null === r ? void 0 : t(r, n, i)
        }
        if ("value"in o)
            return o.value;
        var a = o.get;
        if (void 0 !== a)
            return a.call(i)
    }
      , u = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , l = n(178)
      , c = i(l)
      , d = n(21)
      , p = i(d)
      , f = function() {
        function t(e, n) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "BOLD";
            a(this, t),
            this.namespace = e,
            this.app = n,
            this.vendor = i,
            p.default.windowSet("BOLD.common", {}, !1),
            window.BOLD.common.eventEmitter = window.BOLD.common.eventEmitter || new h,
            this.ee = window.BOLD.common.eventEmitter
        }
        return u(t, [{
            key: "eventName",
            value: function(t) {
                return this.vendor + "_" + this.app + "_" + t
            }
        }, {
            key: "on",
            value: function(t, e, n) {
                var i = this;
                this.ee.on(this.eventName(t), function(t) {
                    void 0 !== t && void 0 !== t.data && void 0 !== t.data.target_namespace ? t.data.target_namespace === i.namespace && e.call(n, t) : e.call(n, t)
                })
            }
        }, {
            key: "onOut",
            value: function(t, e, n) {
                this.ee.on(t, e, n)
            }
        }, {
            key: "emit",
            value: function(t, e, n) {
                var i = this.eventName(t)
                  , o = {
                    vendor: this.vendor,
                    app: this.app,
                    namespace: this.namespace,
                    event: t
                };
                void 0 !== e && (o.data = e),
                this.ee.emit(i, o, n)
            }
        }, {
            key: "emitOut",
            value: function(t, e) {
                this.ee.emit(t, e)
            }
        }, {
            key: "removeListener",
            value: function(t) {
                var e = this.eventName(t);
                this.ee.removeListener(e)
            }
        }, {
            key: "setNamespace",
            value: function(t) {
                this.namespace = t
            }
        }, {
            key: "onDomLoaded",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this;
                "complete" === document.readyState ? t.call(e) : document.addEventListener("DOMContentLoaded", function() {
                    return t.call(e)
                })
            }
        }, {
            key: "enableLog",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                this.ee.enableLog(t)
            }
        }, {
            key: "disableLog",
            value: function() {
                this.ee.disableLog()
            }
        }]),
        t
    }()
      , h = e.EventEmitterWithLog = function(t) {
        function e() {
            return a(this, e),
            p.default.windowSet("BOLD.common.settings.log_events", !1, !1),
            p.default.windowSet("BOLD.common.settings.log_event_data", !1, !1),
            o(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this))
        }
        return r(e, t),
        u(e, [{
            key: "emit",
            value: function(t, n, i) {
                e.log(t, n),
                s(e.prototype.__proto__ || Object.getPrototypeOf(e.prototype), "emit", this).call(this, t, n, i)
            }
        }, {
            key: "enableLog",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                return window.BOLD.common.settings.log_events = !0,
                window.BOLD.common.settings.log_event_data = t,
                "Event Emitter log enabled."
            }
        }, {
            key: "disableLog",
            value: function() {
                return window.BOLD.common.settings.log_events = !1,
                window.BOLD.common.settings.log_event_data = !1,
                "Event Emitter log disabled."
            }
        }], [{
            key: "log",
            value: function(t, e) {
                window.BOLD.common.settings.log_events && (window.BOLD.common.settings.log_event_data ? console.debug(t, e) : console.debug(t))
            }
        }]),
        e
    }(c.default);
    e.default = f
}
, function(t, e, n) {
    t.exports = {
        default: n(219),
        __esModule: !0
    }
}
, function(t, e) {
    t.exports = function(t) {
        if (void 0 == t)
            throw TypeError("Can't call method on  " + t);
        return t
    }
}
, function(t, e, n) {
    var i = n(23)
      , o = n(12).document
      , r = i(o) && i(o.createElement);
    t.exports = function(t) {
        return r ? o.createElement(t) : {}
    }
}
, function(t, e) {
    t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        var e, n;
        this.promise = new t(function(t, i) {
            if (void 0 !== e || void 0 !== n)
                throw TypeError("Bad Promise constructor");
            e = t,
            n = i
        }
        ),
        this.resolve = o(e),
        this.reject = o(n)
    }
    var o = n(52);
    t.exports.f = function(t) {
        return new i(t)
    }
}
, function(t, e, n) {
    var i = n(15)
      , o = n(242)
      , r = n(73)
      , a = n(79)("IE_PROTO")
      , s = function() {}
      , u = function() {
        var t, e = n(72)("iframe"), i = r.length;
        for (e.style.display = "none",
        n(118).appendChild(e),
        e.src = "javascript:",
        t = e.contentWindow.document,
        t.open(),
        t.write("<script>document.F=Object<\/script>"),
        t.close(),
        u = t.F; i--; )
            delete u.prototype[r[i]];
        return u()
    };
    t.exports = Object.create || function(t, e) {
        var n;
        return null !== t ? (s.prototype = i(t),
        n = new s,
        s.prototype = null,
        n[a] = t) : n = u(),
        void 0 === e ? n : o(n, e)
    }
}
, function(t, e, n) {
    var i = n(77)
      , o = n(41)
      , r = n(26)
      , a = n(83)
      , s = n(24)
      , u = n(119)
      , l = Object.getOwnPropertyDescriptor;
    e.f = n(22) ? l : function(t, e) {
        if (t = r(t),
        e = a(e, !0),
        u)
            try {
                return l(t, e)
            } catch (t) {}
        if (s(t, e))
            return o(!i.f.call(t, e), t[e])
    }
}
, function(t, e) {
    e.f = {}.propertyIsEnumerable
}
, function(t, e, n) {
    var i = n(16)
      , o = n(5)
      , r = n(38);
    t.exports = function(t, e) {
        var n = (o.Object || {})[t] || Object[t]
          , a = {};
        a[t] = e(n),
        i(i.S + i.F * r(function() {
            n(1)
        }), "Object", a)
    }
}
, function(t, e, n) {
    var i = n(80)("keys")
      , o = n(55);
    t.exports = function(t) {
        return i[t] || (i[t] = o(t))
    }
}
, function(t, e, n) {
    var i = n(5)
      , o = n(12)
      , r = o["__core-js_shared__"] || (o["__core-js_shared__"] = {});
    (t.exports = function(t, e) {
        return r[t] || (r[t] = void 0 !== e ? e : {})
    }
    )("versions", []).push({
        version: i.version,
        mode: n(40) ? "pure" : "global",
        copyright: " 2020 Denis Pushkarev (zloirock.ru)"
    })
}
, function(t, e) {
    var n = Math.ceil
      , i = Math.floor;
    t.exports = function(t) {
        return isNaN(t = +t) ? 0 : (t > 0 ? i : n)(t)
    }
}
, function(t, e, n) {
    var i = n(81)
      , o = Math.min;
    t.exports = function(t) {
        return t > 0 ? o(i(t), 9007199254740991) : 0
    }
}
, function(t, e, n) {
    var i = n(23);
    t.exports = function(t, e) {
        if (!i(t))
            return t;
        var n, o;
        if (e && "function" == typeof (n = t.toString) && !i(o = n.call(t)))
            return o;
        if ("function" == typeof (n = t.valueOf) && !i(o = n.call(t)))
            return o;
        if (!e && "function" == typeof (n = t.toString) && !i(o = n.call(t)))
            return o;
        throw TypeError("Can't convert object to primitive value")
    }
}
, function(t, e, n) {
    var i = n(12)
      , o = n(5)
      , r = n(40)
      , a = n(85)
      , s = n(19).f;
    t.exports = function(t) {
        var e = o.Symbol || (o.Symbol = r ? {} : i.Symbol || {});
        "_" == t.charAt(0) || t in e || s(e, t, {
            value: a.f(t)
        })
    }
}
, function(t, e, n) {
    e.f = n(14)
}
, function(t, e, n) {
    var i = n(117)
      , o = n(14)("iterator")
      , r = n(39);
    t.exports = n(5).getIteratorMethod = function(t) {
        if (void 0 != t)
            return t[o] || t["@@iterator"] || r[i(t)]
    }
}
, function(t, e, n) {
    n(252);
    for (var i = n(12), o = n(25), r = n(39), a = n(14)("toStringTag"), s = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), u = 0; u < s.length; u++) {
        var l = s[u]
          , c = i[l]
          , d = c && c.prototype;
        d && !d[a] && o(d, a, l),
        r[l] = r.Array
    }
}
, function(t, e, n) {
    var i = n(27)
      , o = n(17)
      , r = i(o, "Map");
    t.exports = r
}
, function(t, e, n) {
    function i(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    var o = n(344)
      , r = n(345)
      , a = n(346)
      , s = n(347)
      , u = n(348);
    i.prototype.clear = o,
    i.prototype.delete = r,
    i.prototype.get = a,
    i.prototype.has = s,
    i.prototype.set = u,
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length, o = Array(i); ++n < i; )
            o[n] = e(t[n], n, t);
        return o
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e) {
        for (var n = -1, i = e.length, o = t.length; ++n < i; )
            t[o + n] = e[n];
        return t
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e, n) {
        "__proto__" == e && o ? o(t, e, {
            configurable: !0,
            enumerable: !0,
            value: n,
            writable: !0
        }) : t[e] = n
    }
    var o = n(151);
    t.exports = i
}
, function(t, e, n) {
    var i = n(285)
      , o = n(319)
      , r = o(i);
    t.exports = r
}
, function(t, e, n) {
    function i(t, e) {
        e = o(e, t);
        for (var n = 0, i = e.length; null != t && n < i; )
            t = t[r(e[n++])];
        return n && n == i ? t : void 0
    }
    var o = n(95)
      , r = n(45);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return o(t) ? t : r(t, e) ? [t] : a(s(t))
    }
    var o = n(13)
      , r = n(99)
      , a = n(367)
      , s = n(389);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = new t.constructor(t.byteLength);
        return new o(e).set(new o(t)),
        e
    }
    var o = n(136);
    t.exports = i
}
, function(t, e, n) {
    var i = n(160)
      , o = i(Object.getPrototypeOf, Object);
    t.exports = o
}
, function(t, e, n) {
    var i = n(137)
      , o = n(166)
      , r = Object.prototype
      , a = r.propertyIsEnumerable
      , s = Object.getOwnPropertySymbols
      , u = s ? function(t) {
        return null == t ? [] : (t = Object(t),
        i(s(t), function(e) {
            return a.call(t, e)
        }))
    }
    : o;
    t.exports = u
}
, function(t, e, n) {
    function i(t, e) {
        if (o(t))
            return !1;
        var n = typeof t;
        return !("number" != n && "symbol" != n && "boolean" != n && null != t && !r(t)) || (s.test(t) || !a.test(t) || null != e && t in Object(e))
    }
    var o = n(13)
      , r = n(67)
      , a = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
      , s = /^\w*$/;
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = t && t.constructor;
        return t === ("function" == typeof e && e.prototype || i)
    }
    var i = Object.prototype;
    t.exports = n
}
, function(t, e, n) {
    (function(t) {
        var i = n(153)
          , o = "object" == typeof e && e && !e.nodeType && e
          , r = o && "object" == typeof t && t && !t.nodeType && t
          , a = r && r.exports === o
          , s = a && i.process
          , u = function() {
            try {
                var t = r && r.require && r.require("util").types;
                return t || s && s.binding && s.binding("util")
            } catch (t) {}
        }();
        t.exports = u
    }
    ).call(e, n(108)(t))
}
, function(t, e) {
    function n(t) {
        return t
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        if (!r(t))
            return !1;
        var e = o(t);
        return e == s || e == u || e == a || e == l
    }
    var o = n(31)
      , r = n(18)
      , a = "[object AsyncFunction]"
      , s = "[object Function]"
      , u = "[object GeneratorFunction]"
      , l = "[object Proxy]";
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= i
    }
    var i = 9007199254740991;
    t.exports = n
}
, function(t, e, n) {
    var i = n(294)
      , o = n(60)
      , r = n(101)
      , a = r && r.isTypedArray
      , s = a ? o(a) : i;
    t.exports = s
}
, function(t, e, n) {
    var i, o, r;
    !function(n, a) {
        "object" == typeof e && e && "string" != typeof e.nodeName ? a(e) : (o = [e],
        i = a,
        void 0 !== (r = "function" == typeof i ? i.apply(e, o) : i) && (t.exports = r))
    }(0, function(t) {
        function e(t) {
            return "function" == typeof t
        }
        function n(t) {
            return v(t) ? "array" : typeof t
        }
        function i(t) {
            return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        }
        function o(t, e) {
            return null != t && "object" == typeof t && e in t
        }
        function r(t, e) {
            return m.call(t, e)
        }
        function a(t) {
            return !r(y, t)
        }
        function s(t) {
            return String(t).replace(/[&<>"'`=\/]/g, function(t) {
                return _[t]
            })
        }
        function u(e, n) {
            function o(t) {
                if ("string" == typeof t && (t = t.split(b, 2)),
                !v(t) || 2 !== t.length)
                    throw new Error("Invalid tags: " + t);
                r = new RegExp(i(t[0]) + "\\s*"),
                s = new RegExp("\\s*" + i(t[1])),
                u = new RegExp("\\s*" + i("}" + t[1]))
            }
            if (!e)
                return [];
            var r, s, u, p = [], f = [], h = [], m = !1, y = !1;
            o(n || t.tags);
            for (var _, C, x, E, S, T, D = new d(e); !D.eos(); ) {
                if (_ = D.pos,
                x = D.scanUntil(r))
                    for (var M = 0, P = x.length; M < P; ++M)
                        E = x.charAt(M),
                        a(E) ? h.push(f.length) : y = !0,
                        f.push(["text", E, _, _ + 1]),
                        _ += 1,
                        "\n" === E && function() {
                            if (m && !y)
                                for (; h.length; )
                                    delete f[h.pop()];
                            else
                                h = [];
                            m = !1,
                            y = !1
                        }();
                if (!D.scan(r))
                    break;
                if (m = !0,
                C = D.scan(k) || "name",
                D.scan(g),
                "=" === C ? (x = D.scanUntil(w),
                D.scan(w),
                D.scanUntil(s)) : "{" === C ? (x = D.scanUntil(u),
                D.scan(O),
                D.scanUntil(s),
                C = "&") : x = D.scanUntil(s),
                !D.scan(s))
                    throw new Error("Unclosed tag at " + D.pos);
                if (S = [C, x, _, D.pos],
                f.push(S),
                "#" === C || "^" === C)
                    p.push(S);
                else if ("/" === C) {
                    if (!(T = p.pop()))
                        throw new Error('Unopened section "' + x + '" at ' + _);
                    if (T[1] !== x)
                        throw new Error('Unclosed section "' + T[1] + '" at ' + _)
                } else
                    "name" === C || "{" === C || "&" === C ? y = !0 : "=" === C && o(x)
            }
            if (T = p.pop())
                throw new Error('Unclosed section "' + T[1] + '" at ' + D.pos);
            return c(l(f))
        }
        function l(t) {
            for (var e, n, i = [], o = 0, r = t.length; o < r; ++o)
                (e = t[o]) && ("text" === e[0] && n && "text" === n[0] ? (n[1] += e[1],
                n[3] = e[3]) : (i.push(e),
                n = e));
            return i
        }
        function c(t) {
            for (var e, n, i = [], o = i, r = [], a = 0, s = t.length; a < s; ++a)
                switch (e = t[a],
                e[0]) {
                case "#":
                case "^":
                    o.push(e),
                    r.push(e),
                    o = e[4] = [];
                    break;
                case "/":
                    n = r.pop(),
                    n[5] = e[2],
                    o = r.length > 0 ? r[r.length - 1][4] : i;
                    break;
                default:
                    o.push(e)
                }
            return i
        }
        function d(t) {
            this.string = t,
            this.tail = t,
            this.pos = 0
        }
        function p(t, e) {
            this.view = t,
            this.cache = {
                ".": this.view
            },
            this.parent = e
        }
        function f() {
            this.cache = {}
        }
        var h = Object.prototype.toString
          , v = Array.isArray || function(t) {
            return "[object Array]" === h.call(t)
        }
          , m = RegExp.prototype.test
          , y = /\S/
          , _ = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;",
            "`": "&#x60;",
            "=": "&#x3D;"
        }
          , g = /\s*/
          , b = /\s+/
          , w = /\s*=/
          , O = /\s*\}/
          , k = /#|\^|\/|>|\{|&|=|!/;
        d.prototype.eos = function() {
            return "" === this.tail
        }
        ,
        d.prototype.scan = function(t) {
            var e = this.tail.match(t);
            if (!e || 0 !== e.index)
                return "";
            var n = e[0];
            return this.tail = this.tail.substring(n.length),
            this.pos += n.length,
            n
        }
        ,
        d.prototype.scanUntil = function(t) {
            var e, n = this.tail.search(t);
            switch (n) {
            case -1:
                e = this.tail,
                this.tail = "";
                break;
            case 0:
                e = "";
                break;
            default:
                e = this.tail.substring(0, n),
                this.tail = this.tail.substring(n)
            }
            return this.pos += e.length,
            e
        }
        ,
        p.prototype.push = function(t) {
            return new p(t,this)
        }
        ,
        p.prototype.lookup = function(t) {
            var n, i = this.cache;
            if (i.hasOwnProperty(t))
                n = i[t];
            else {
                for (var r, a, s = this, u = !1; s; ) {
                    if (t.indexOf(".") > 0)
                        for (n = s.view,
                        r = t.split("."),
                        a = 0; null != n && a < r.length; )
                            a === r.length - 1 && (u = o(n, r[a])),
                            n = n[r[a++]];
                    else
                        n = s.view[t],
                        u = o(s.view, t);
                    if (u)
                        break;
                    s = s.parent
                }
                i[t] = n
            }
            return e(n) && (n = n.call(this.view)),
            n
        }
        ,
        f.prototype.clearCache = function() {
            this.cache = {}
        }
        ,
        f.prototype.parse = function(t, e) {
            var n = this.cache
              , i = n[t];
            return null == i && (i = n[t] = u(t, e)),
            i
        }
        ,
        f.prototype.render = function(t, e, n) {
            var i = this.parse(t)
              , o = e instanceof p ? e : new p(e);
            return this.renderTokens(i, o, n, t)
        }
        ,
        f.prototype.renderTokens = function(t, e, n, i) {
            for (var o, r, a, s = "", u = 0, l = t.length; u < l; ++u)
                a = void 0,
                o = t[u],
                r = o[0],
                "#" === r ? a = this.renderSection(o, e, n, i) : "^" === r ? a = this.renderInverted(o, e, n, i) : ">" === r ? a = this.renderPartial(o, e, n, i) : "&" === r ? a = this.unescapedValue(o, e) : "name" === r ? a = this.escapedValue(o, e) : "text" === r && (a = this.rawValue(o)),
                void 0 !== a && (s += a);
            return s
        }
        ,
        f.prototype.renderSection = function(t, n, i, o) {
            function r(t) {
                return a.render(t, n, i)
            }
            var a = this
              , s = ""
              , u = n.lookup(t[1]);
            if (u) {
                if (v(u))
                    for (var l = 0, c = u.length; l < c; ++l)
                        s += this.renderTokens(t[4], n.push(u[l]), i, o);
                else if ("object" == typeof u || "string" == typeof u || "number" == typeof u)
                    s += this.renderTokens(t[4], n.push(u), i, o);
                else if (e(u)) {
                    if ("string" != typeof o)
                        throw new Error("Cannot use higher-order sections without the original template");
                    u = u.call(n.view, o.slice(t[3], t[5]), r),
                    null != u && (s += u)
                } else
                    s += this.renderTokens(t[4], n, i, o);
                return s
            }
        }
        ,
        f.prototype.renderInverted = function(t, e, n, i) {
            var o = e.lookup(t[1]);
            if (!o || v(o) && 0 === o.length)
                return this.renderTokens(t[4], e, n, i)
        }
        ,
        f.prototype.renderPartial = function(t, n, i) {
            if (i) {
                var o = e(i) ? i(t[1]) : i[t[1]];
                return null != o ? this.renderTokens(this.parse(o), n, i, o) : void 0
            }
        }
        ,
        f.prototype.unescapedValue = function(t, e) {
            var n = e.lookup(t[1]);
            if (null != n)
                return n
        }
        ,
        f.prototype.escapedValue = function(e, n) {
            var i = n.lookup(e[1]);
            if (null != i)
                return t.escape(i)
        }
        ,
        f.prototype.rawValue = function(t) {
            return t[1]
        }
        ,
        t.name = "mustache.js",
        t.version = "2.3.2",
        t.tags = ["{{", "}}"];
        var C = new f;
        return t.clearCache = function() {
            return C.clearCache()
        }
        ,
        t.parse = function(t, e) {
            return C.parse(t, e)
        }
        ,
        t.render = function(t, e, i) {
            if ("string" != typeof t)
                throw new TypeError('Invalid template! Template should be a "string" but "' + n(t) + '" was given as the first argument for mustache#render(template, view, partials)');
            return C.render(t, e, i)
        }
        ,
        t.to_html = function(n, i, o, r) {
            var a = t.render(n, i, o);
            if (!e(r))
                return a;
            r(a)
        }
        ,
        t.escape = s,
        t.Scanner = d,
        t.Context = p,
        t.Writer = f,
        t
    })
}
, function(t, e) {
    var n;
    n = function() {
        return this
    }();
    try {
        n = n || Function("return this")() || (0,
        eval)("this")
    } catch (t) {
        "object" == typeof window && (n = window)
    }
    t.exports = n
}
, function(t, e) {
    t.exports = function(t) {
        return t.webpackPolyfill || (t.deprecate = function() {}
        ,
        t.paths = [],
        t.children || (t.children = []),
        Object.defineProperty(t, "loaded", {
            enumerable: !0,
            get: function() {
                return t.l
            }
        }),
        Object.defineProperty(t, "id", {
            enumerable: !0,
            get: function() {
                return t.i
            }
        }),
        t.webpackPolyfill = 1),
        t
    }
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function o() {
        return window.BOLD && window.BOLD.common && window.BOLD.common.Shopify ? "shopify" : window.BOLD && window.BOLD.common && window.BOLD.common.platform ? window.BOLD.common.platform.type : void 0
    }
    function r() {
        switch (o()) {
        case "shopify":
            c = s.default;
            break;
        case "bromicmcgee":
            c = l.default;
            break;
        default:
            c = s.default
        }
        return c.getPlatform = o,
        c
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    }),
    e.returnPlatform = r;
    var a = n(49)
      , s = i(a)
      , u = n(177)
      , l = i(u)
      , c = void 0;
    e.default = r()
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        function i(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = n(4)
          , r = i(o)
          , a = n(0)
          , s = i(a)
          , u = n(1)
          , l = i(u)
          , c = n(3)
          , d = n(2)
          , p = i(d)
          , f = function() {
            function e(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                (0,
                s.default)(this, e),
                this.app = t,
                this.handle = n,
                this.product = {
                    title: "Test",
                    id: 0,
                    variants: [{
                        id: 0,
                        price: 0
                    }],
                    handle: null
                }
            }
            return (0,
            l.default)(e, [{
                key: "boot",
                value: function() {
                    var t = this
                      , e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                    if (null === e) {
                        var n = window.prompt("Enter a product handle to use for priced options.\nLeave empty to test without priced options.");
                        if (null === n)
                            return "cancelled";
                        e = n
                    }
                    return this.handle = e,
                    this.app.optionProducts = [],
                    this.app.productEventNamespaces = [],
                    (0,
                    p.default)(document.querySelectorAll(".bold_options"), function(t) {
                        return DOMHelper.empty(t) && DOMHelper.removeClass("bold_options_loaded")
                    }),
                    this.app.boot(),
                    this.app.ee.onOut("BOLD_OPTIONS_adding_to_cart", function(e) {
                        return e.data.option_product.addToCartHandler.addPropInput("_boldInstallTest", t.handle)
                    }),
                    "booting in test mode..."
                }
            }, {
                key: "getOptions",
                value: function() {
                    var e = this;
                    return this.loadProduct(this.handle).then(function(t) {
                        return e.product = t
                    }).then(function() {
                        return t(window.BOLD.options.path + c.ShopifyHelper.getShopUrl() + "/generate_test_option")
                    }).then(c.JSHelper.checkStatus).then(function(t) {
                        return t.text()
                    }).then(this.addChosenVariant.bind(this)).then(function(t) {
                        return JSON.parse(t)
                    })
                }
            }, {
                key: "loadProduct",
                value: function(t) {
                    var e = this;
                    return this.handle = t,
                    "" === t ? new r.default(function(t) {
                        return t(e.product)
                    }
                    ) : c.ShopifyHelper.getProduct(t).catch(function() {
                        return console.log('error loading product with handle "' + t + '"')
                    })
                }
            }, {
                key: "addChosenVariant",
                value: function(t) {
                    var e = {
                        product_title: "$1" + this.product.title + '"',
                        product_id: this.product.id,
                        variant_id: this.product.variants[0].id,
                        price: 100 * this.product.variants[0].price,
                        product_handle: "$1" + this.product.handle + '"'
                    };
                    for (var n in e)
                        t = t.replace(new RegExp('("?)\\$' + n + '"',"g"), e[n]);
                    return t
                }
            }]),
            e
        }();
        e.default = f
    }
    ).call(e, n(43))
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        function i(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = n(4)
          , r = i(o)
          , a = n(0)
          , s = i(a)
          , u = n(1)
          , l = i(u)
          , c = n(3)
          , d = n(2)
          , p = i(d)
          , f = function() {
            function e() {
                (0,
                s.default)(this, e)
            }
            return (0,
            l.default)(e, null, [{
                key: "get",
                value: function(t) {
                    return e.isIE() ? e.xhr(t) : e.fetch(t)
                }
            }, {
                key: "xhr",
                value: function(t) {
                    return new r.default(function(n, i) {
                        var o = new window.XMLHttpRequest;
                        o.withCredentials = !0,
                        o.addEventListener("load", function(t) {
                            e.xhrLog(t, o),
                            n(e.parseJSON(t.target.response))
                        }),
                        o.addEventListener("error", function(t) {
                            e.xhrLog(t, o),
                            i(e.parseJSON(t.target.response))
                        }),
                        o.open("get", t),
                        o.send()
                    }
                    )
                }
            }, {
                key: "fetch",
                value: function(t) {
                    function e(e) {
                        return t.apply(this, arguments)
                    }
                    return e.toString = function() {
                        return t.toString()
                    }
                    ,
                    e
                }(function(n) {
                    var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "include";
                    return t(n, {
                        method: "get",
                        credentials: i,
                        headers: {
                            Accept: "application/json"
                        }
                    }).then(c.JSHelper.checkStatus).then(function(t) {
                        return e.fetchLog(t),
                        t.text()
                    }).then(e.parseJSON)
                })
            }, {
                key: "parseJSON",
                value: function(t) {
                    try {
                        t = JSON.parse(t)
                    } catch (t) {}
                    return t
                }
            }, {
                key: "isIE",
                value: function() {
                    return !!navigator.userAgent.match(/Trident/g) || !!navigator.userAgent.match(/MSIE/g)
                }
            }, {
                key: "xhrLog",
                value: function(t) {
                    var e = t.target
                      , n = {
                        status: e.status,
                        status_text: e.statusText,
                        url: e.responseURL,
                        headers: {}
                    }
                      , i = e.getAllResponseHeaders();
                    try {
                        var o = i.split(/\r?\n/g);
                        (0,
                        p.default)(o, function(t) {
                            var e = t.split(": ");
                            void 0 !== e[0] && void 0 !== e[1] && (n.headers[e[0]] = e[1])
                        })
                    } catch (t) {
                        n.headers = i + t
                    }
                    c.JSHelper.windowSet("BOLD.log.lastXHRRequest", n)
                }
            }, {
                key: "fetchLog",
                value: function(t) {
                    var e = {
                        status: t.status,
                        status_text: t.statusText,
                        url: t.url,
                        headers: {}
                    };
                    try {
                        for (var n = t.headers.entries(), i = n.next(); !i.done; )
                            e.headers[i.value[0]] = i.value[1],
                            i = n.next()
                    } catch (t) {
                        e.headers = t
                    }
                    c.JSHelper.windowSet("BOLD.log.lastFetchRequest", e)
                }
            }, {
                key: "getClientData",
                value: function() {
                    var t = {};
                    try {
                        t = {
                            myshopify_url: c.ShopifyHelper.getShopUrl(),
                            url: document.location.href,
                            referrer: document.referrer,
                            user_agent: navigator.userAgent,
                            shopify: Shopify,
                            session_storage: sessionStorage,
                            last_fetch_info: c.JSHelper.windowGet("BOLD.log.lastFetchRequest"),
                            last_xhr_info: c.JSHelper.windowGet("BOLD.log.lastXHRRequest")
                        }
                    } catch (e) {
                        t = {
                            error: e
                        }
                    }
                    return t
                }
            }]),
            e
        }();
        e.default = f
    }
    ).call(e, n(43))
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0)
      , r = i(o)
      , a = n(1)
      , s = i(a)
      , u = function() {
        function t(e, n) {
            (0,
            r.default)(this, t),
            this.app = n.app,
            this.option = n,
            this.id = e.id,
            this.name = e.value,
            this.variantId = e.variant,
            this.productId = e.product_id,
            this.price = e.price,
            this.originalPrice = e.price,
            this.productHandle = e.product_handle,
            this.qty = 1,
            this.quantityMode = e.quantity_mode,
            this.selected = e.selected,
            this.swatch = e.swatch,
            this.outOfStock = !1,
            this.option.app.ee.on("variant_swap_" + this.variantId, this.variantSwap, this),
            "qty" !== this.option.minitype && this.checkInventory()
        }
        return (0,
        s.default)(t, [{
            key: "checkInventory",
            value: function() {
                var t = this;
                0 !== this.variantId && this.app.settings.display.check_inventory && this.app.settings.inventory_check_on_load && "Premium" === this.app.settings.plan && this.app.inventoryHandler.check(this.productHandle, this.variantId).catch(function(e) {
                    "error checking inventory" !== e && (t.outOfStock = !0,
                    t.option.refreshInput())
                })
            }
        }, {
            key: "getVariantQuantity",
            value: function() {
                return "ONE_TIME_PER_ORDER" === this.quantityMode || "ONE_TIME_PER_PRODUCT" === this.quantityMode ? this.qty : this.qty * this.option.optionProduct.getQuantity() + this.app.cartDoctor.getVariantQuantity(this.variantId)
            }
        }, {
            key: "variantSwap",
            value: function(t) {
                this.variantId = t.data.new_variant_id,
                this.price = t.data.discounted_price,
                "qty" !== this.option.minitype && this.option.refreshInput()
            }
        }, {
            key: "showError",
            value: function(t) {
                this.option.DOM.showError(t.replace("[variant-name]", this.name))
            }
        }, {
            key: "removeError",
            value: function() {
                this.option.DOM.removeError()
            }
        }]),
        t
    }();
    e.default = u
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(3)
      , d = n(7)
      , p = i(d)
      , f = n(2)
      , h = i(f)
      , v = function() {
        function t(e) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "productPage";
            (0,
            s.default)(this, t),
            this.app = e,
            this.source = n,
            this.editCartLineIndex = null,
            this.fakeCartDoctor = new c.BoldCartDoctor(c.JSHelper.cloneObject(window.BOLD.common.cartDoctor.rawCart))
        }
        return (0,
        l.default)(t, [{
            key: "addPricedOptions",
            value: function(t) {
                var e = this;
                return this.app.ee.emit("adding_priced_options"),
                c.ShopifyHelper.getCart().then(function(n) {
                    e.fakeCartDoctor.rawCart = n;
                    var i = e.buildFakeLineItem(t, e.fakeCartDoctor.rawCart);
                    return null !== i && (e.fakeCartDoctor.rawCart = "productPage" == e.source ? e.addFakeCartItem(i, e.fakeCartDoctor.rawCart) : e.updateFakeCartItem(i, e.fakeCartDoctor.rawCart)),
                    e.fakeCartDoctor.refresh(e.fakeCartDoctor.rawCart).then(e.app.cartDoctor.refresh(n))
                }).then(this.addOptions.bind(this, t))
            }
        }, {
            key: "addROProperties",
            value: function(t, e) {
                return void 0 !== t.elements["properties[frequency_type]"] && (e.properties.frequency_type = t.elements["properties[frequency_type]"].value),
                void 0 !== t.elements["properties[frequency_type_text]"] && (e.properties.frequency_type_text = t.elements["properties[frequency_type_text]"].value),
                void 0 !== t.elements["properties[frequency_num]"] && (e.properties.frequency_num = t.elements["properties[frequency_num]"].value),
                void 0 !== t.elements["properties[group_id]"] && (e.properties.group_id = t.elements["properties[group_id]"].value),
                void 0 !== t.elements["properties[total_recurrences]"] && (e.properties.total_recurrences = t.elements["properties[total_recurrences]"].value),
                void 0 !== t.elements["properties[_ro_billing_plan]"] && (e.properties._ro_billing_plan = t.elements["properties[_ro_billing_plan]"].value),
                void 0 !== t.elements["properties[_ro_discount_percentage]"] && (e.properties._ro_discount_percentage = t.elements["properties[_ro_discount_percentage]"].value),
                void 0 !== t.elements["properties[_ro_unformatted_price]"] && (e.properties._ro_unformatted_price = t.elements["properties[_ro_unformatted_price]"].value),
                e
            }
        }, {
            key: "buildFakeLineItem",
            value: function(t, e) {
                var n = {
                    quantity: null,
                    variant_id: null,
                    properties: {}
                };
                return "productPage" == this.source ? n.quantity = void 0 !== t.quantity ? t.quantity.value : 1 : e.items.length > 0 && void 0 !== e.items[this.editCartLineIndex] && (n.quantity = e.items[this.editCartLineIndex].quantity),
                n.variant_id = t.id.value,
                n.product_id = void 0 !== window.BOLD.common.Shopify.variants[n.variant_id] ? window.BOLD.common.Shopify.variants[n.variant_id].product_id : t.product_id.value,
                n.properties._boldVariantNames = t.elements["properties[_boldVariantNames]"].value,
                n.properties._boldVariantIds = t.elements["properties[_boldVariantIds]"].value,
                n.properties._boldProductIds = t.elements["properties[_boldProductIds]"].value,
                n.properties._boldVariantPrices = t.elements["properties[_boldVariantPrices]"].value,
                n.properties._boldBuilderId = t.elements["properties[_boldBuilderId]"].value,
                void 0 !== t.elements["properties[_boldOptionLocalStorageId]"] && (n.properties._boldOptionLocalStorageId = t.elements["properties[_boldOptionLocalStorageId]"].value),
                void 0 !== t.elements["properties[_boldVariantQtys]"] && (n.properties._boldVariantQtys = t.elements["properties[_boldVariantQtys]"].value),
                void 0 !== t.elements["properties[_boldProductOneTime]"] && (n.properties._boldProductOneTime = t.elements["properties[_boldProductOneTime]"].value),
                void 0 !== t.elements["properties[_boldOrderOneTime]"] && (n.properties._boldOrderOneTime = t.elements["properties[_boldOrderOneTime]"].value),
                n = this.addROProperties(t, n)
            }
        }, {
            key: "addFakeCartItem",
            value: function(t, e) {
                var n = !1;
                return (0,
                h.default)(e.items, function(e) {
                    t.variant_id == e.variant_id && t.properties._boldBuilderId == e.properties._boldBuilderId && t.properties._boldOptionLocalStorageId == e.properties._boldOptionLocalStorageId && (n = !0,
                    e.quantity = parseInt(e.quantity) + parseInt(t.quantity))
                }),
                n || e.items.push(t),
                e
            }
        }, {
            key: "updateFakeCartItem",
            value: function(t, e) {
                return e.items.length > 0 && void 0 !== e.items[this.editCartLineIndex] ? e.items[this.editCartLineIndex].properties = t.properties : e.items.push(t),
                e
            }
        }, {
            key: "addOptions",
            value: function(t) {
                var e = (0,
                p.default)(this.fakeCartDoctor.getShadowVariants(), function(e) {
                    return e.properties_all._boldBuilderId == t.elements["properties[_boldBuilderId]"].value
                })
                  , n = this.fakeCartDoctor.rawCart.items;
                return (0,
                h.default)(e, function(t) {
                    (0,
                    h.default)(n, function(e) {
                        if (e.variant_id == t.id && e.properties._boldBuilderId == t.properties_all._boldBuilderId && (void 0 === t.properties_all._qty_mode || void 0 !== t.properties_all._qty_mode && "one_time_per_order" !== t.properties_all._qty_mode && "one_time_per_product" !== t.properties_all._qty_mode) || e.variant_id == t.id && (void 0 !== t.properties_all._qty_mode && "one_time_per_order" === t.properties_all._qty_mode || void 0 !== t.properties_all._qty_mode && "one_time_per_product" === t.properties_all._qty_mode)) {
                            var n = t.quantity - e.quantity;
                            t.quantity = n > 0 ? n : 0
                        }
                    })
                }),
                this.addNext((0,
                h.default)(e, function(t) {
                    return {
                        id: t.id,
                        quantity: t.quantity,
                        properties: c.JSHelper.withoutKeys(t.properties_all, ["_parent_line_index", "_is_shadow_variant", "_parent_id", "_qty_mode", "_boldLineIndexInRawCart"])
                    }
                }))
            }
        }, {
            key: "addNext",
            value: function(t) {
                if (t.length > 0) {
                    var e = t.shift();
                    return c.ShopifyHelper.cartAdd(e.id, e.quantity, e.properties).then(this.addNext.bind(this, t)).catch(function(t) {
                        console.log(t)
                    })
                }
                return r.default.resolve()
            }
        }]),
        t
    }();
    e.default = v
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(36)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(2)
      , f = i(p)
      , h = n(163)
      , v = i(h)
      , m = n(383)
      , y = i(m)
      , _ = n(33)
      , g = i(_)
      , b = n(206)
      , w = i(b)
      , O = n(208)
      , k = i(O)
      , C = n(205)
      , x = i(C)
      , E = n(207)
      , S = i(E)
      , T = n(50)
      , D = i(T)
      , M = n(3)
      , P = function() {
        function t(e, n) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
              , o = this
              , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null
              , a = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4];
            (0,
            l.default)(this, t),
            this.app = e,
            this.element = this.getElement(n, i),
            this.form = this.getForm(i),
            this.productId = this.getProductId(r),
            this.eventNamespace = this.uniqueNamespace(),
            this.ee = new S.default(this),
            this.optionSets = [],
            this.priceHandler = new k.default(this),
            this.optionsPublicName = {},
            this.productId ? (M.DOMHelper.addClass(this.element, "bold_options_loaded"),
            this.status = this.getOptions().then(e.checkAppStatus).then(function(t) {
                return o.init(t, a)
            }).catch(function(t) {
                return console.warn(t.message)
            })) : window.setTimeout(function() {
                return (0,
                y.default)(o.app.optionProducts, function(t) {
                    return t === o
                })
            }, 0)
        }
        return (0,
        d.default)(t, [{
            key: "getOptions",
            value: function() {
                if (void 0 !== this.app.optionsInstallTest)
                    return this.app.optionsInstallTest.getOptions();
                var t = window.BOLD.options.path + M.ShopifyHelper.getShopUrl() + "/generate_option/" + this.productId
                  , e = M.JSHelper.windowGet("BOLD.common.cacheParams.options");
                return void 0 !== e && (t += "?tmp=" + e),
                M.JSHelper.get(t)
            }
        }, {
            key: "init",
            value: function(t) {
                var e = this
                  , n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                if (null === t.settings || this.app.settingsLoaded || (this.app.settingsLoaded = !0,
                window.BOLD.options.setSettings(t.settings, !1),
                this.app.ee.emit("settings_loaded", {
                    settings: this.app.settings
                })),
                null !== t.option_product) {
                    var i;
                    this.addToCartHandler = new x.default(this),
                    "" !== this.app.settings.display.title_text && this.renderOptionsTitle(),
                    M.ShopifyHelper.onPage("cart") && (this.priceHandler.priceDisplayMode = "default"),
                    (i = this.optionSets).push.apply(i, (0,
                    s.default)((0,
                    f.default)(t.option_product.option_sets, function(t) {
                        return new w.default(e,t,n)
                    }))),
                    this.productOptionSet = this.optionSets,
                    this.ee.emit("options_loaded", {
                        product_id: this.productId
                    })
                } else
                    this.ee.emit("no_options_loaded", {
                        product_id: this.productId
                    })
            }
        }, {
            key: "reload",
            value: function() {
                "" != this.app.settings.display.title_text && this.renderOptionsTitle(),
                this.priceHandler.reload(),
                (0,
                f.default)(this.optionSets, function(t) {
                    return t.reload()
                }),
                this.ee.emit("options_loaded", {
                    product_id: this.productId
                })
            }
        }, {
            key: "renderOptionsTitle",
            value: function() {
                var t = {
                    optionProductTitle: this.app.settings.display.title_text
                };
                this.DOM = new D.default("option_product_title",t,this.element)
            }
        }, {
            key: "validateOptions",
            value: function() {
                return r.default.all((0,
                v.default)((0,
                f.default)(this.optionSets, function(t) {
                    return t.validateOptions()
                })))
            }
        }, {
            key: "getForm",
            value: function(t) {
                return null === t ? M.ShopifyHelper.findFormFromChild(this.element) : t
            }
        }, {
            key: "getElement",
            value: function(t, e) {
                return M.DOMHelper.hasClass(t, "bold_options") ? t : this.createOptionsElement(e)
            }
        }, {
            key: "getOptionByClassName",
            value: function(t) {
                return (0,
                g.default)((0,
                v.default)((0,
                f.default)(this.optionSets, function(t) {
                    return t.options
                })), function(e) {
                    return e.className === t
                })
            }
        }, {
            key: "createOptionsElement",
            value: function(t) {
                var e = document.createElement("div");
                return e.className = "bold_options",
                t.insertBefore(e, t.firstChild),
                e
            }
        }, {
            key: "getProductId",
            value: function(t) {
                if (null === t) {
                    if (t = this.getProductIdFromOptionsElement() || this.getProductIdFromVariantSelector() || this.getProductIdFromHandle(),
                    !isNaN(t))
                        return t
                } else if (!isNaN(t))
                    return t;
                return !1
            }
        }, {
            key: "getProductIdFromOptionsElement",
            value: function() {
                var t = parseInt(M.DOMHelper.data(this.element, "product-id"));
                return !isNaN(t) && t
            }
        }, {
            key: "getProductIdFromVariantSelector",
            value: function() {
                return void 0 !== this.form.id ? M.ShopifyHelper.getProductId(parseInt(this.form.id.value)) : void 0 !== this.form["id[]"] && M.ShopifyHelper.getProductId(parseInt(this.form["id[]"].value))
            }
        }, {
            key: "getProductIdFromHandle",
            value: function() {
                if ("product" === this.app.page) {
                    var t = M.ShopifyHelper.getProductHandle();
                    if (t) {
                        var e = M.ShopifyHelper.getProductIdByHandle(t);
                        if (e)
                            return e
                    }
                }
                return !1
            }
        }, {
            key: "uniqueNamespace",
            value: function() {
                for (var t = this.productId.toString(), e = 2; M.JSHelper.inArray(this.app.productEventNamespaces, t); )
                    t = this.productId + "_" + e++;
                return this.app.productEventNamespaces.push(t),
                t
            }
        }, {
            key: "getActivePricedOptionValues",
            value: function() {
                var t = [];
                for (var e in this.priceHandler.priceAdjustments)
                    t = t.concat(this.priceHandler.priceAdjustments[e]);
                return t
            }
        }, {
            key: "getQuantity",
            value: function() {
                var t = this.form.quantity;
                return void 0 !== t ? parseInt(t.value) : 1
            }
        }, {
            key: "variantChanged",
            value: function() {
                this.priceHandler.updateTotalElement(!0)
            }
        }, {
            key: "unload",
            value: function() {
                var t = this;
                this.element.parentNode.removeChild(this.element),
                (0,
                y.default)(this.app.optionProducts, function(e) {
                    return e === t
                })
            }
        }, {
            key: "willAddVariants",
            value: function() {
                return this.priceHandler.variantsToAdd.length > 0
            }
        }, {
            key: "isThisYourLineProp",
            value: function(t) {
                return void 0 !== this.optionsPublicName[t] || M.JSHelper.inArray(this.priceHandler.getHiddenInputNames(), t) || M.JSHelper.inArray(["_boldBuilderId", "_boldOptionLocalStorageId"], t)
            }
        }]),
        t
    }();
    e.default = P
}
, function(t, e, n) {
    t.exports = {
        default: n(218),
        __esModule: !0
    }
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    e.__esModule = !0;
    var o = n(216)
      , r = i(o)
      , a = n(215)
      , s = i(a)
      , u = "function" == typeof s.default && "symbol" == typeof r.default ? function(t) {
        return typeof t
    }
    : function(t) {
        return t && "function" == typeof s.default && t.constructor === s.default && t !== s.default.prototype ? "symbol" : typeof t
    }
    ;
    e.default = "function" == typeof s.default && "symbol" === u(r.default) ? function(t) {
        return void 0 === t ? "undefined" : u(t)
    }
    : function(t) {
        return t && "function" == typeof s.default && t.constructor === s.default && t !== s.default.prototype ? "symbol" : void 0 === t ? "undefined" : u(t)
    }
}
, function(t, e, n) {
    var i = n(37)
      , o = n(14)("toStringTag")
      , r = "Arguments" == i(function() {
        return arguments
    }())
      , a = function(t, e) {
        try {
            return t[e]
        } catch (t) {}
    };
    t.exports = function(t) {
        var e, n, s;
        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = a(e = Object(t), o)) ? n : r ? i(e) : "Object" == (s = i(e)) && "function" == typeof e.callee ? "Arguments" : s
    }
}
, function(t, e, n) {
    var i = n(12).document;
    t.exports = i && i.documentElement
}
, function(t, e, n) {
    t.exports = !n(22) && !n(38)(function() {
        return 7 != Object.defineProperty(n(72)("div"), "a", {
            get: function() {
                return 7
            }
        }).a
    })
}
, function(t, e, n) {
    var i = n(39)
      , o = n(14)("iterator")
      , r = Array.prototype;
    t.exports = function(t) {
        return void 0 !== t && (i.Array === t || r[o] === t)
    }
}
, function(t, e, n) {
    var i = n(15);
    t.exports = function(t, e, n, o) {
        try {
            return o ? e(i(n)[0], n[1]) : e(n)
        } catch (e) {
            var r = t.return;
            throw void 0 !== r && i(r.call(t)),
            e
        }
    }
}
, function(t, e, n) {
    "use strict";
    var i = n(40)
      , o = n(16)
      , r = n(130)
      , a = n(25)
      , s = n(39)
      , u = n(238)
      , l = n(54)
      , c = n(126)
      , d = n(14)("iterator")
      , p = !([].keys && "next"in [].keys())
      , f = function() {
        return this
    };
    t.exports = function(t, e, n, h, v, m, y) {
        u(n, e, h);
        var _, g, b, w = function(t) {
            if (!p && t in x)
                return x[t];
            switch (t) {
            case "keys":
            case "values":
                return function() {
                    return new n(this,t)
                }
            }
            return function() {
                return new n(this,t)
            }
        }, O = e + " Iterator", k = "values" == v, C = !1, x = t.prototype, E = x[d] || x["@@iterator"] || v && x[v], S = E || w(v), T = v ? k ? w("entries") : S : void 0, D = "Array" == e ? x.entries || E : E;
        if (D && (b = c(D.call(new t))) !== Object.prototype && b.next && (l(b, O, !0),
        i || "function" == typeof b[d] || a(b, d, f)),
        k && E && "values" !== E.name && (C = !0,
        S = function() {
            return E.call(this)
        }
        ),
        i && !y || !p && !C && x[d] || a(x, d, S),
        s[e] = S,
        s[O] = f,
        v)
            if (_ = {
                values: k ? S : w("values"),
                keys: m ? S : w("keys"),
                entries: T
            },
            y)
                for (g in _)
                    g in x || r(x, g, _[g]);
            else
                o(o.P + o.F * (p || C), e, _);
        return _
    }
}
, function(t, e, n) {
    var i = n(14)("iterator")
      , o = !1;
    try {
        var r = [7][i]();
        r.return = function() {
            o = !0
        }
        ,
        Array.from(r, function() {
            throw 2
        })
    } catch (t) {}
    t.exports = function(t, e) {
        if (!e && !o)
            return !1;
        var n = !1;
        try {
            var r = [7]
              , a = r[i]();
            a.next = function() {
                return {
                    done: n = !0
                }
            }
            ,
            r[i] = function() {
                return a
            }
            ,
            t(r)
        } catch (t) {}
        return n
    }
}
, function(t, e, n) {
    var i = n(127)
      , o = n(73).concat("length", "prototype");
    e.f = Object.getOwnPropertyNames || function(t) {
        return i(t, o)
    }
}
, function(t, e) {
    e.f = Object.getOwnPropertySymbols
}
, function(t, e, n) {
    var i = n(24)
      , o = n(42)
      , r = n(79)("IE_PROTO")
      , a = Object.prototype;
    t.exports = Object.getPrototypeOf || function(t) {
        return t = o(t),
        i(t, r) ? t[r] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? a : null
    }
}
, function(t, e, n) {
    var i = n(24)
      , o = n(26)
      , r = n(231)(!1)
      , a = n(79)("IE_PROTO");
    t.exports = function(t, e) {
        var n, s = o(t), u = 0, l = [];
        for (n in s)
            n != a && i(s, n) && l.push(n);
        for (; e.length > u; )
            i(s, n = e[u++]) && (~r(l, n) || l.push(n));
        return l
    }
}
, function(t, e) {
    t.exports = function(t) {
        try {
            return {
                e: !1,
                v: t()
            }
        } catch (t) {
            return {
                e: !0,
                v: t
            }
        }
    }
}
, function(t, e, n) {
    var i = n(15)
      , o = n(23)
      , r = n(74);
    t.exports = function(t, e) {
        if (i(t),
        o(e) && e.constructor === t)
            return e;
        var n = r.f(t);
        return (0,
        n.resolve)(e),
        n.promise
    }
}
, function(t, e, n) {
    t.exports = n(25)
}
, function(t, e, n) {
    var i = n(15)
      , o = n(52)
      , r = n(14)("species");
    t.exports = function(t, e) {
        var n, a = i(t).constructor;
        return void 0 === a || void 0 == (n = i(a)[r]) ? e : o(n)
    }
}
, function(t, e, n) {
    var i, o, r, a = n(29), s = n(235), u = n(118), l = n(72), c = n(12), d = c.process, p = c.setImmediate, f = c.clearImmediate, h = c.MessageChannel, v = c.Dispatch, m = 0, y = {}, _ = function() {
        var t = +this;
        if (y.hasOwnProperty(t)) {
            var e = y[t];
            delete y[t],
            e()
        }
    }, g = function(t) {
        _.call(t.data)
    };
    p && f || (p = function(t) {
        for (var e = [], n = 1; arguments.length > n; )
            e.push(arguments[n++]);
        return y[++m] = function() {
            s("function" == typeof t ? t : Function(t), e)
        }
        ,
        i(m),
        m
    }
    ,
    f = function(t) {
        delete y[t]
    }
    ,
    "process" == n(37)(d) ? i = function(t) {
        d.nextTick(a(_, t, 1))
    }
    : v && v.now ? i = function(t) {
        v.now(a(_, t, 1))
    }
    : h ? (o = new h,
    r = o.port2,
    o.port1.onmessage = g,
    i = a(r.postMessage, r, 1)) : c.addEventListener && "function" == typeof postMessage && !c.importScripts ? (i = function(t) {
        c.postMessage(t + "", "*")
    }
    ,
    c.addEventListener("message", g, !1)) : i = "onreadystatechange"in l("script") ? function(t) {
        u.appendChild(l("script")).onreadystatechange = function() {
            u.removeChild(this),
            _.call(t)
        }
    }
    : function(t) {
        setTimeout(a(_, t, 1), 0)
    }
    ),
    t.exports = {
        set: p,
        clear: f
    }
}
, function(t, e) {}
, function(t, e, n) {
    (function(e, n) {
        !function(e, n) {
            t.exports = n()
        }(0, function() {
            "use strict";
            function t(t) {
                var e = typeof t;
                return null !== t && ("object" === e || "function" === e)
            }
            function i(t) {
                return "function" == typeof t
            }
            function o(t) {
                N = t
            }
            function r(t) {
                H = t
            }
            function a() {
                return void 0 !== q ? function() {
                    q(u)
                }
                : s()
            }
            function s() {
                var t = setTimeout;
                return function() {
                    return t(u, 1)
                }
            }
            function u() {
                for (var t = 0; t < V; t += 2) {
                    (0,
                    J[t])(J[t + 1]),
                    J[t] = void 0,
                    J[t + 1] = void 0
                }
                V = 0
            }
            function l(t, e) {
                var n = this
                  , i = new this.constructor(d);
                void 0 === i[K] && S(i);
                var o = n._state;
                if (o) {
                    var r = arguments[o - 1];
                    H(function() {
                        return C(o, i, r, n._result)
                    })
                } else
                    O(n, i, t, e);
                return i
            }
            function c(t) {
                var e = this;
                if (t && "object" == typeof t && t.constructor === e)
                    return t;
                var n = new e(d);
                return _(n, t),
                n
            }
            function d() {}
            function p() {
                return new TypeError("You cannot resolve a promise with itself")
            }
            function f() {
                return new TypeError("A promises callback cannot return that same promise.")
            }
            function h(t, e, n, i) {
                try {
                    t.call(e, n, i)
                } catch (t) {
                    return t
                }
            }
            function v(t, e, n) {
                H(function(t) {
                    var i = !1
                      , o = h(n, e, function(n) {
                        i || (i = !0,
                        e !== n ? _(t, n) : b(t, n))
                    }, function(e) {
                        i || (i = !0,
                        w(t, e))
                    }, "Settle: " + (t._label || " unknown promise"));
                    !i && o && (i = !0,
                    w(t, o))
                }, t)
            }
            function m(t, e) {
                e._state === $ ? b(t, e._result) : e._state === Y ? w(t, e._result) : O(e, void 0, function(e) {
                    return _(t, e)
                }, function(e) {
                    return w(t, e)
                })
            }
            function y(t, e, n) {
                e.constructor === t.constructor && n === l && e.constructor.resolve === c ? m(t, e) : void 0 === n ? b(t, e) : i(n) ? v(t, e, n) : b(t, e)
            }
            function _(e, n) {
                if (e === n)
                    w(e, p());
                else if (t(n)) {
                    var i = void 0;
                    try {
                        i = n.then
                    } catch (t) {
                        return void w(e, t)
                    }
                    y(e, n, i)
                } else
                    b(e, n)
            }
            function g(t) {
                t._onerror && t._onerror(t._result),
                k(t)
            }
            function b(t, e) {
                t._state === W && (t._result = e,
                t._state = $,
                0 !== t._subscribers.length && H(k, t))
            }
            function w(t, e) {
                t._state === W && (t._state = Y,
                t._result = e,
                H(g, t))
            }
            function O(t, e, n, i) {
                var o = t._subscribers
                  , r = o.length;
                t._onerror = null,
                o[r] = e,
                o[r + $] = n,
                o[r + Y] = i,
                0 === r && t._state && H(k, t)
            }
            function k(t) {
                var e = t._subscribers
                  , n = t._state;
                if (0 !== e.length) {
                    for (var i = void 0, o = void 0, r = t._result, a = 0; a < e.length; a += 3)
                        i = e[a],
                        o = e[a + n],
                        i ? C(n, i, o, r) : o(r);
                    t._subscribers.length = 0
                }
            }
            function C(t, e, n, o) {
                var r = i(n)
                  , a = void 0
                  , s = void 0
                  , u = !0;
                if (r) {
                    try {
                        a = n(o)
                    } catch (t) {
                        u = !1,
                        s = t
                    }
                    if (e === a)
                        return void w(e, f())
                } else
                    a = o;
                e._state !== W || (r && u ? _(e, a) : !1 === u ? w(e, s) : t === $ ? b(e, a) : t === Y && w(e, a))
            }
            function x(t, e) {
                try {
                    e(function(e) {
                        _(t, e)
                    }, function(e) {
                        w(t, e)
                    })
                } catch (e) {
                    w(t, e)
                }
            }
            function E() {
                return X++
            }
            function S(t) {
                t[K] = X++,
                t._state = void 0,
                t._result = void 0,
                t._subscribers = []
            }
            function T() {
                return new Error("Array Methods must be provided an Array")
            }
            function D(t) {
                return new Z(this,t).promise
            }
            function M(t) {
                var e = this;
                return new e(A(t) ? function(n, i) {
                    for (var o = t.length, r = 0; r < o; r++)
                        e.resolve(t[r]).then(n, i)
                }
                : function(t, e) {
                    return e(new TypeError("You must pass an array to race."))
                }
                )
            }
            function P(t) {
                var e = this
                  , n = new e(d);
                return w(n, t),
                n
            }
            function I() {
                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
            }
            function B() {
                throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
            }
            function L() {
                var t = void 0;
                if (void 0 !== n)
                    t = n;
                else if ("undefined" != typeof self)
                    t = self;
                else
                    try {
                        t = Function("return this")()
                    } catch (t) {
                        throw new Error("polyfill failed because global object is unavailable in this environment")
                    }
                var e = t.Promise;
                if (e) {
                    var i = null;
                    try {
                        i = Object.prototype.toString.call(e.resolve())
                    } catch (t) {}
                    if ("[object Promise]" === i && !e.cast)
                        return
                }
                t.Promise = tt
            }
            var j = void 0;
            j = Array.isArray ? Array.isArray : function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
            ;
            var A = j
              , V = 0
              , q = void 0
              , N = void 0
              , H = function(t, e) {
                J[V] = t,
                J[V + 1] = e,
                2 === (V += 2) && (N ? N(u) : G())
            }
              , F = "undefined" != typeof window ? window : void 0
              , R = F || {}
              , U = R.MutationObserver || R.WebKitMutationObserver
              , Q = "undefined" == typeof self && void 0 !== e && "[object process]" === {}.toString.call(e)
              , z = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel
              , J = new Array(1e3)
              , G = void 0;
            G = Q ? function() {
                return function() {
                    return e.nextTick(u)
                }
            }() : U ? function() {
                var t = 0
                  , e = new U(u)
                  , n = document.createTextNode("");
                return e.observe(n, {
                    characterData: !0
                }),
                function() {
                    n.data = t = ++t % 2
                }
            }() : z ? function() {
                var t = new MessageChannel;
                return t.port1.onmessage = u,
                function() {
                    return t.port2.postMessage(0)
                }
            }() : void 0 === F ? function() {
                try {
                    var t = Function("return this")().require("vertx");
                    return q = t.runOnLoop || t.runOnContext,
                    a()
                } catch (t) {
                    return s()
                }
            }() : s();
            var K = Math.random().toString(36).substring(2)
              , W = void 0
              , $ = 1
              , Y = 2
              , X = 0
              , Z = function() {
                function t(t, e) {
                    this._instanceConstructor = t,
                    this.promise = new t(d),
                    this.promise[K] || S(this.promise),
                    A(e) ? (this.length = e.length,
                    this._remaining = e.length,
                    this._result = new Array(this.length),
                    0 === this.length ? b(this.promise, this._result) : (this.length = this.length || 0,
                    this._enumerate(e),
                    0 === this._remaining && b(this.promise, this._result))) : w(this.promise, T())
                }
                return t.prototype._enumerate = function(t) {
                    for (var e = 0; this._state === W && e < t.length; e++)
                        this._eachEntry(t[e], e)
                }
                ,
                t.prototype._eachEntry = function(t, e) {
                    var n = this._instanceConstructor
                      , i = n.resolve;
                    if (i === c) {
                        var o = void 0
                          , r = void 0
                          , a = !1;
                        try {
                            o = t.then
                        } catch (t) {
                            a = !0,
                            r = t
                        }
                        if (o === l && t._state !== W)
                            this._settledAt(t._state, e, t._result);
                        else if ("function" != typeof o)
                            this._remaining--,
                            this._result[e] = t;
                        else if (n === tt) {
                            var s = new n(d);
                            a ? w(s, r) : y(s, t, o),
                            this._willSettleAt(s, e)
                        } else
                            this._willSettleAt(new n(function(e) {
                                return e(t)
                            }
                            ), e)
                    } else
                        this._willSettleAt(i(t), e)
                }
                ,
                t.prototype._settledAt = function(t, e, n) {
                    var i = this.promise;
                    i._state === W && (this._remaining--,
                    t === Y ? w(i, n) : this._result[e] = n),
                    0 === this._remaining && b(i, this._result)
                }
                ,
                t.prototype._willSettleAt = function(t, e) {
                    var n = this;
                    O(t, void 0, function(t) {
                        return n._settledAt($, e, t)
                    }, function(t) {
                        return n._settledAt(Y, e, t)
                    })
                }
                ,
                t
            }()
              , tt = function() {
                function t(e) {
                    this[K] = E(),
                    this._result = this._state = void 0,
                    this._subscribers = [],
                    d !== e && ("function" != typeof e && I(),
                    this instanceof t ? x(this, e) : B())
                }
                return t.prototype.catch = function(t) {
                    return this.then(null, t)
                }
                ,
                t.prototype.finally = function(t) {
                    var e = this
                      , n = e.constructor;
                    return i(t) ? e.then(function(e) {
                        return n.resolve(t()).then(function() {
                            return e
                        })
                    }, function(e) {
                        return n.resolve(t()).then(function() {
                            throw e
                        })
                    }) : e.then(t, t)
                }
                ,
                t
            }();
            return tt.prototype.then = l,
            tt.all = D,
            tt.race = M,
            tt.resolve = c,
            tt.reject = P,
            tt._setScheduler = o,
            tt._setAsap = r,
            tt._asap = H,
            tt.polyfill = L,
            tt.Promise = tt,
            tt
        })
    }
    ).call(e, n(390), n(107))
}
, function(t, e, n) {
    function i(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.__data__ = new o; ++e < n; )
            this.add(t[e])
    }
    var o = n(89)
      , r = n(356)
      , a = n(357);
    i.prototype.add = i.prototype.push = r,
    i.prototype.has = a,
    t.exports = i
}
, function(t, e, n) {
    var i = n(17)
      , o = i.Uint8Array;
    t.exports = o
}
, function(t, e) {
    function n(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length, o = 0, r = []; ++n < i; ) {
            var a = t[n];
            e(a, n, t) && (r[o++] = a)
        }
        return r
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e) {
        var n = a(t)
          , i = !n && r(t)
          , c = !n && !i && s(t)
          , p = !n && !i && !c && l(t)
          , f = n || i || c || p
          , h = f ? o(t.length, String) : []
          , v = h.length;
        for (var m in t)
            !e && !d.call(t, m) || f && ("length" == m || c && ("offset" == m || "parent" == m) || p && ("buffer" == m || "byteLength" == m || "byteOffset" == m) || u(m, v)) || h.push(m);
        return h
    }
    var o = n(308)
      , r = n(65)
      , a = n(13)
      , s = n(66)
      , u = n(63)
      , l = n(105)
      , c = Object.prototype
      , d = c.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        (void 0 === n || r(t[e], n)) && (void 0 !== n || e in t) || o(t, e, n)
    }
    var o = n(92)
      , r = n(46);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = t[e];
        s.call(t, e) && r(i, n) && (void 0 !== n || e in t) || o(t, e, n)
    }
    var o = n(92)
      , r = n(46)
      , a = Object.prototype
      , s = a.hasOwnProperty;
    t.exports = i
}
, function(t, e) {
    function n(t, e, n, i) {
        for (var o = t.length, r = n + (i ? 1 : -1); i ? r-- : ++r < o; )
            if (e(t[r], r, t))
                return r;
        return -1
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(320)
      , o = i();
    t.exports = o
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = e(t);
        return r(t) ? i : o(i, n(t))
    }
    var o = n(91)
      , r = n(13);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        return e === e ? a(t, e, n) : o(t, r, n)
    }
    var o = n(141)
      , r = n(291)
      , a = n(366);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, a, s) {
        return t === e || (null == t || null == e || !r(t) && !r(e) ? t !== t && e !== e : o(t, e, n, a, i, s))
    }
    var o = n(288)
      , r = n(20);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return a(r(t, e, o), t + "")
    }
    var o = n(102)
      , r = n(354)
      , a = n(359);
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        return t.has(e)
    }
    t.exports = n
}
, function(t, e, n) {
    (function(t) {
        function i(t, e) {
            if (e)
                return t.slice();
            var n = t.length
              , i = l ? l(n) : new t.constructor(n);
            return t.copy(i),
            i
        }
        var o = n(17)
          , r = "object" == typeof e && e && !e.nodeType && e
          , a = r && "object" == typeof t && t && !t.nodeType && t
          , s = a && a.exports === r
          , u = s ? o.Buffer : void 0
          , l = u ? u.allocUnsafe : void 0;
        t.exports = i
    }
    ).call(e, n(108)(t))
}
, function(t, e, n) {
    function i(t, e) {
        var n = e ? o(t.buffer) : t.buffer;
        return new t.constructor(n,t.byteOffset,t.length)
    }
    var o = n(96);
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        var n = -1
          , i = t.length;
        for (e || (e = Array(i)); ++n < i; )
            e[n] = t[n];
        return e
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(27)
      , o = function() {
        try {
            var t = i(Object, "defineProperty");
            return t({}, "", {}),
            t
        } catch (t) {}
    }();
    t.exports = o
}
, function(t, e, n) {
    function i(t, e, n, i, l, c) {
        var d = n & s
          , p = t.length
          , f = e.length;
        if (p != f && !(d && f > p))
            return !1;
        var h = c.get(t)
          , v = c.get(e);
        if (h && v)
            return h == e && v == t;
        var m = -1
          , y = !0
          , _ = n & u ? new o : void 0;
        for (c.set(t, e),
        c.set(e, t); ++m < p; ) {
            var g = t[m]
              , b = e[m];
            if (i)
                var w = d ? i(b, g, m, e, t, c) : i(g, b, m, t, e, c);
            if (void 0 !== w) {
                if (w)
                    continue;
                y = !1;
                break
            }
            if (_) {
                if (!r(e, function(t, e) {
                    if (!a(_, e) && (g === t || l(g, t, n, i, c)))
                        return _.push(e)
                })) {
                    y = !1;
                    break
                }
            } else if (g !== b && !l(g, b, n, i, c)) {
                y = !1;
                break
            }
        }
        return c.delete(t),
        c.delete(e),
        y
    }
    var o = n(135)
      , r = n(275)
      , a = n(147)
      , s = 1
      , u = 2;
    t.exports = i
}
, function(t, e, n) {
    (function(e) {
        var n = "object" == typeof e && e && e.Object === Object && e;
        t.exports = n
    }
    ).call(e, n(107))
}
, function(t, e, n) {
    function i(t) {
        return o(t, a, r)
    }
    var o = n(143)
      , r = n(98)
      , a = n(34);
    t.exports = i
}
, function(t, e, n) {
    var i = n(91)
      , o = n(97)
      , r = n(98)
      , a = n(166)
      , s = Object.getOwnPropertySymbols
      , u = s ? function(t) {
        for (var e = []; t; )
            i(e, r(t)),
            t = o(t);
        return e
    }
    : a;
    t.exports = u
}
, function(t, e, n) {
    function i(t) {
        return "function" != typeof t.constructor || a(t) ? {} : o(r(t))
    }
    var o = n(280)
      , r = n(97)
      , a = n(100);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        if (!s(n))
            return !1;
        var i = typeof e;
        return !!("number" == i ? r(n) && a(e, n.length) : "string" == i && e in n) && o(n[e], t)
    }
    var o = n(46)
      , r = n(28)
      , a = n(63)
      , s = n(18);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return t === t && !o(t)
    }
    var o = n(18);
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        return function(n) {
            return null != n && (n[t] === e && (void 0 !== e || t in Object(n)))
        }
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e) {
        return function(n) {
            return t(e(n))
        }
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e) {
        if (("constructor" !== e || "function" != typeof t[e]) && "__proto__" != e)
            return t[e]
    }
    t.exports = n
}
, function(t, e) {
    function n(t) {
        if (null != t) {
            try {
                return o.call(t)
            } catch (t) {}
            try {
                return t + ""
            } catch (t) {}
        }
        return ""
    }
    var i = Function.prototype
      , o = i.toString;
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return (null == t ? 0 : t.length) ? o(t, 1) : []
    }
    var o = n(284);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return r(t) && o(t)
    }
    var o = n(28)
      , r = n(20);
    t.exports = i
}
, function(t, e, n) {
    var i = n(300)
      , o = n(318)
      , r = o(function(t, e, n) {
        i(t, e, n)
    });
    t.exports = r
}
, function(t, e) {
    function n() {
        return []
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(281)
      , o = n(146)
      , r = n(164)
      , a = o(function(t, e) {
        return r(t) ? i(t, e) : []
    });
    t.exports = a
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(180)
      , d = i(c)
      , p = n(181)
      , f = i(p)
      , h = n(3)
      , v = n(182)
      , m = i(v)
      , y = n(114)
      , _ = i(y)
      , g = n(184)
      , b = i(g)
      , w = n(110)
      , O = i(w)
      , k = n(2)
      , C = i(k)
      , x = n(7)
      , E = i(x)
      , S = n(33)
      , T = i(S)
      , D = n(111)
      , M = i(D)
      , P = function() {
        function t() {
            (0,
            s.default)(this, t),
            window.BOLD.options.app = this,
            this.page = h.ShopifyHelper.whatPageAmIOn(),
            this.ee = new h.BoldEventEmitter(this.page,"OPTIONS"),
            this.settings = window.BOLD.options.settings,
            this.cartDoctor = this.loadCartDoctor(window.BOLD.common.Shopify.cart),
            this.compatibilityHandler = new m.default(this),
            this.inventoryHandler = new b.default(this),
            this.optionProducts = [],
            this.productEventNamespaces = [],
            this.isDomLoaded = !1,
            this.settings.v1_variant_mode || (this.checkoutHandler = new f.default(this)),
            this.settingsLoaded = !1,
            this.polyfills = [],
            this.themeCartCallback = null,
            this.settings.v1_variant_mode && (this.shadowVariantsSyncing = !1),
            this.init()
        }
        return (0,
        l.default)(t, [{
            key: "cartAdjusted",
            value: function(t) {
                var e = this;
                return h.ShopifyHelper.getCart().then(function(n) {
                    e.cartAdjustedWithCart(n, t)
                })
            }
        }, {
            key: "cartAdjustedWithCart",
            value: function(t, e) {
                return this.cartHandler.cartAdjusted(t, e)
            }
        }, {
            key: "init",
            value: function() {
                this.bindAppEvents(),
                "blacklist" !== this.settings.load_mode || h.JSHelper.inArray(this.settings.load_blacklist, this.page, !0) ? "whitelist" === this.settings.load_mode && h.JSHelper.inArray(this.settings.load_whitelist, this.page, !0) && this.boot() : this.boot(),
                this.cartHandler = new d.default(this)
            }
        }, {
            key: "boot",
            value: function() {
                var t = this;
                this.loadOptions(".bold_options"),
                this.onDomLoaded(function() {
                    t.loadOptions(".bold_options"),
                    t.loadOptions('[name="id"], [name="id[]"]'),
                    t.allOptionProductsLoaded().then(function() {
                        (0,
                        E.default)(t.optionProducts, function(t) {
                            return t.optionSets.length > 0
                        }).length > 0 ? t.ee.emit("option_products_loaded", {
                            option_products: t.optionProducts
                        }) : (t.ee.emit("option_products_loaded", {
                            option_products: []
                        }),
                        t.ee.emit("no_option_products_loaded"))
                    })
                })
            }
        }, {
            key: "bootCart",
            value: function() {
                var t = this
                  , e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]
                  , n = "/cart.json";
                null !== navigator.userAgent.match(/Trident|MSIE/g) && (n += "?_tmp=" + (new Date).getTime()),
                e ? M.default.get(n).then(function(e) {
                    t.cartDoctor = t.loadCartDoctor(e),
                    t.cartHandler = new d.default(t),
                    t.onDomLoaded(function() {
                        return t.cartDoctor.updateCart()
                    })
                }) : (this.cartHandler = new d.default(this),
                this.onDomLoaded(function() {
                    return t.cartDoctor.updateCart()
                }))
            }
        }, {
            key: "bootTest",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                return this.optionsInstallTest = new O.default(this),
                this.optionsInstallTest.boot(t)
            }
        }, {
            key: "checkoutFix",
            value: function() {
                this.settings.v1_variant_mode || this.checkoutHandler.fix()
            }
        }, {
            key: "loadOptions",
            value: function(t) {
                var e = document.querySelectorAll(t);
                if (e.length > this.optionProducts.length)
                    for (var n = this.optionProducts.length; n < e.length; n++)
                        this.loadOptionProduct(e[n]);
                this.isDomLoaded || window.setTimeout(this.loadOptions.bind(this, t), 50)
            }
        }, {
            key: "domLoaded",
            value: function() {
                this.isDomLoaded = !0,
                this.ee.emit("dom_loaded")
            }
        }, {
            key: "onDomLoaded",
            value: function(t) {
                this.isDomLoaded ? t() : this.ee.on("dom_loaded", t)
            }
        }, {
            key: "on",
            value: function(t, e, n) {
                this.ee.onOut("BOLD_OPTIONS_" + t, e, n)
            }
        }, {
            key: "emit",
            value: function(t, e) {
                this.ee.emitOut("BOLD_OPTIONS_" + t, e)
            }
        }, {
            key: "bindAppEvents",
            value: function() {
                var t = this;
                document.addEventListener("DOMContentLoaded", this.domLoaded.bind(this)),
                this.onDomLoaded(h.BoldHelpers.bindHelperEvents),
                this.ee.on("option_products_loaded", this.loadPolyfills, this),
                this.ee.onOut("BOLD_COMMON_currency_changed", function() {
                    t.ee.emit("refresh_options_dropdown"),
                    t.ee.emit("refresh_options_dropdownmulti")
                }),
                this.ee.onOut("BOLD_COMMON_cart_loaded", function(e) {
                    "object" !== h.JSHelper.type(e) || "undefined" === e.total_price || e.is_fixed ? t.bootCart() : (t.cartDoctor = t.loadCartDoctor(e),
                    t.bootCart(!1))
                }),
                this.ee.onOut("BOLD_COMMON_clone_addtocart_button", function(e) {
                    t.allOptionProductsLoaded().then(function() {
                        var n = h.ShopifyHelper.findFormFromChild(e);
                        if (n) {
                            var i = t.getOptionProductByForm(n);
                            i && i.addToCartHandler && i.addToCartHandler.cloneButton(e, !0)
                        }
                    })
                })
            }
        }, {
            key: "loadOptionProduct",
            value: function(t) {
                if (this.isValidElement(t)) {
                    var e = h.ShopifyHelper.findFormFromChild(t);
                    this.isValidForm(e) && this.optionProducts.push(new _.default(this,t,e))
                }
            }
        }, {
            key: "isValidElement",
            value: function(t) {
                return t && !h.DOMHelper.hasClass(t, "bold_options_edit_in_cart") && !h.DOMHelper.hasClass(t, "bold_options_loaded")
            }
        }, {
            key: "isValidForm",
            value: function(t) {
                return t && !h.DOMHelper.hasClass(t, "no_bold_options") && !h.DOMHelper.hasClass(t, "bundle-form") && !t.querySelector(".bold_options_loaded")
            }
        }, {
            key: "unload",
            value: function() {
                for (var t = this.optionProducts.length, e = 0; e < t; e++)
                    void 0 !== this.optionProducts[0] && this.optionProducts[0].unload()
            }
        }, {
            key: "forgetForm",
            value: function() {
                console.warn("forgetForm is deprecated")
            }
        }, {
            key: "getOptionProductByForm",
            value: function(t) {
                return (0,
                T.default)(this.optionProducts, function(e) {
                    return e.form === t
                })
            }
        }, {
            key: "getOptionProductByProductId",
            value: function(t) {
                return (0,
                T.default)(this.optionProducts, function(e) {
                    return e.productId === t
                })
            }
        }, {
            key: "allOptionProductsLoaded",
            value: function() {
                return r.default.all((0,
                C.default)(this.optionProducts, function(t) {
                    return t.status
                }))
            }
        }, {
            key: "loadCartDoctor",
            value: function(t) {
                window.BOLD.common.removeRawShadowVariants = this.settings.v1_variant_mode;
                var e = new h.BoldCartDoctor(t);
                window.BOLD.common.cartDoctor = e;
                var n = window.BOLD.common.Shopify.cart;
                if (n.item_count > 0)
                    try {
                        localStorage.setItem("_boldLastNonEmptyCartToken", n.token)
                    } catch (t) {}
                return e
            }
        }, {
            key: "refreshTemplates",
            value: function(t) {
                this.ee.emit("template_changed_" + t)
            }
        }, {
            key: "addPolyfill",
            value: function(t) {
                this.polyfills.push(t)
            }
        }, {
            key: "loadPolyfills",
            value: function() {
                var t = {};
                (0,
                C.default)(this.polyfills, function(e) {
                    void 0 === t[e.name] ? t[e.name] = {
                        polyfill: e,
                        callbacks: [e.callback]
                    } : t[e.name].callbacks.push(e.callback)
                });
                for (var e in t) {
                    var n = t[e].polyfill
                      , i = t[e].callbacks;
                    n.isRequired() && !n.alreadyLoaded() && ("string" == typeof n.css && h.JSHelper.loadCSS(n.css),
                    this.loadScript(n.url, i))
                }
            }
        }, {
            key: "loadScript",
            value: function(t, e) {
                var n = document.createElement("script");
                n.readyState ? n.onreadystatechange = function() {
                    "loaded" != n.readyState && "complete" != n.readyState || (n.onreadystatechange = null,
                    (0,
                    C.default)(e, function(t) {
                        return t()
                    }))
                }
                : n.onload = function() {
                    return (0,
                    C.default)(e, function(t) {
                        return t()
                    })
                }
                ,
                n.src = t,
                document.getElementsByTagName("head")[0].appendChild(n)
            }
        }, {
            key: "checkAppStatus",
            value: function(t) {
                if (void 0 !== t.status)
                    switch (t.status) {
                    case "not installed":
                    case "payment required":
                    default:
                        throw new Error(t.message)
                    }
                return t
            }
        }, {
            key: "registerCartRenderFunction",
            value: function(t) {
                this.themeCartCallback = t
            }
        }, {
            key: "callThemeCartCallback",
            value: function(t) {
                var e = this;
                "function" == typeof BOLD.common.themeCartCallback ? h.ShopifyHelper.getCart().then(function(t) {
                    BOLD.common.themeCartCallback(t)
                }) : "function" == typeof this.themeCartCallback && h.ShopifyHelper.getCart().then(function(t) {
                    e.themeCartCallback(t)
                })
            }
        }]),
        t
    }();
    e.default = P
}
, function(t, e, n) {
    "use strict";
    var i = n(3);
    window.BOLD.options.setSettings = function(t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
          , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "BOLD.options.settings";
        for (var o in t)
            "object" === i.JSHelper.type(t[o]) ? window.BOLD.options.setSettings(t[o], e, n + "." + o) : i.JSHelper.windowSet(n + "." + o, t[o], e)
    }
    ,
    window.BOLD.options.setSettings({
        load_mode: "blacklist",
        load_blacklist: ["customers/*"],
        load_whitelist: ["product", "collection", "search", "index"],
        reload_after_edit_in_cart: !0,
        checkout_mode: "update",
        inventory_check_on_load: !0,
        remove_empty_props: !1,
        add_builder_id: !1,
        edit_in_cart_uses_form: !1,
        no_clone_selectors: [".no_clone", ".additional-checkout-button--apple-pay", ".amazon-payments-pay-button", ".additional-checkout-button--paypal-express"],
        use_native_date_picker: !0,
        v1_variant_mode: !1,
        required_option_marker: "*"
    }, !1)
}
, function(t, e, n) {
    "use strict";
    void 0 === window.BOLD.options.templates && (window.BOLD.options.templates = {}),
    window.BOLD.options.setTemplate = function(t, e) {
        (!(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2] || void 0 === window.BOLD.options.templates[t]) && (window.BOLD.options.templates[t] = e,
        void 0 !== window.BOLD.options.app && window.BOLD.options.app.refreshTemplates(t))
    }
    ,
    window.BOLD.options.setTemplate("single", '<div class="bold_option bold_option_{{ optionType }} {{#optionValueNoStock}}bold_option_out_of_stock{{/optionValueNoStock}}">\n\t<label>\n\t\t{{#optionTitle}}\n\t\t\t<span class="bold_option_title">\n\t\t\t\t{{{ optionTitle }}}\n\t\t\t\t{{#maxSizeDiv}}{{{ maxSizeDiv }}}{{/maxSizeDiv}}\n\t\t\t</span>\n\t\t{{/optionTitle}}\n\t\t\n\t\t{{#toolTip}}<span class="bold_tooltip"><small>{{{ toolTip }}}</small></span>{{/toolTip}}\n\t\t\n\t\t{{#optionValuePrice}}\n\t\t\t<span class="bold_option_value_price">{{{ optionValuePrice }}}</span>\n\t\t{{/optionValuePrice}}\n\t\t\n\t\t{{#optionElement}}\n\t\t\t<span class="bold_option_element">{{{ optionElement }}}</span>\n\t\t{{/optionElement}}\n\t</label>\n\t\n\t{{#optionQuantity}}\n\t\t<span class="bold_option_value_quantity">{{{ optionQuantity }}}</span>\n\t{{/optionQuantity}}\n\t\n\t{{#optionValueNoStock}}\n\t\t<span class="bold_out_of_stock_message">\n\t\t\t<small>{{ outOfStockMessage }}</small>\n\t\t</span>\n\t{{/optionValueNoStock}}\n\t\n\t{{#helpText}}<span class="bold_help_text"><small>{{{ helpText }}}</small></span>{{/helpText}}\n</div>', !1),
    window.BOLD.options.setTemplate("multi", '<div class="bold_option bold_option_{{ optionType }}">\n\t{{#optionTitle}}\n\t\t<span class="bold_option_title">{{{ optionTitle }}}</span>\n\t{{/optionTitle}}\n\t\n\t{{#toolTip}}<span class="bold_tooltip"><small>{{{ toolTip }}}</small></span>{{/toolTip}}\n\t\n\t<span class="bold_option_element">\n\t\t{{#optionElement}}\n\t\t\t<span class="bold_option_value {{#optionValueNoStock}}bold_option_out_of_stock{{/optionValueNoStock}}">\n\t\t\t\t<label>\n\t\t\t\t\t{{#optionValueElement}}\n\t\t\t\t\t\t<span class="bold_option_value_element">{{{ optionValueElement }}}</span>\n\t\t\t\t\t{{/optionValueElement}}\n\t\t\t\t\t\n\t\t\t\t\t{{#optionValueTitle}}\n\t\t\t\t\t\t<span class="bold_option_value_title">{{{ optionValueTitle }}}</span>\n\t\t\t\t\t{{/optionValueTitle}}\n\n\t\t\t\t\t{{#optionValuePrice}}\n\t\t\t\t\t\t<span class="bold_option_value_price">{{{ optionValuePrice }}}</span>\n\t\t\t\t\t{{/optionValuePrice}}\n\t\t\t\t</label>\n\t\t\t\t\n\t\t\t\t{{#optionValueQuantity}}\n\t\t\t\t\t<span class="bold_option_value_quantity">{{{ optionValueQuantity }}}</span>\n\t\t\t\t{{/optionValueQuantity}}\n\t\t\t\t\n\t\t\t\t{{#optionValueNoStock}}\n\t\t\t\t\t<span class="bold_out_of_stock_message">\n\t\t\t\t\t\t<small>{{ outOfStockMessage }}</small>\n\t\t\t\t\t</span>\n\t\t\t\t{{/optionValueNoStock}}\n\t\t\t</span>\n\t\t{{/optionElement}}\n\t</span>\n\t\n\t{{#helpText}}<span class="bold_help_text"><small>{{{ helpText }}}</small></span>{{/helpText}}\n</div>', !1),
    window.BOLD.options.setTemplate("displaytext", '<div class="bold_option bold_option_{{ optionType }}">\n\t<span class="bold_option_element">\n\t\t<p>{{{ optionElement }}}</p>\n\t</span>\n</div>', !1),
    window.BOLD.options.setTemplate("checkbox", '<div class="bold_option bold_option_{{ optionType }} {{#optionValueNoStock}}bold_option_out_of_stock{{/optionValueNoStock}}">\n\t<label>\n\t\t{{#optionElement}}\n\t\t\t<span class="bold_option_element">{{{ optionElement }}}</span>\n\t\t{{/optionElement}}\n\t\n\t\t{{#optionTitle}}\n\t\t\t<span class="bold_option_title">{{{ optionTitle }}}</span>\n\t\t{{/optionTitle}}\n\t\t\n\t\t{{#optionValuePrice}}\n\t\t\t<span class="bold_option_value_price">{{{ optionValuePrice }}}</span>\n\t\t{{/optionValuePrice}}\n\t</label>\n\t\n\t{{#optionQuantity}}\n\t\t<span class="bold_option_value_quantity">{{{ optionQuantity }}}</span>\n\t{{/optionQuantity}}\n\t\n\t{{#optionValueNoStock}}\n\t\t<span class="bold_out_of_stock_message">\n\t\t\t<small>{{ outOfStockMessage }}</small>\n\t\t</span>\n\t{{/optionValueNoStock}}\n\t\n\t{{#toolTip}}<span class="bold_tooltip"><small>{{{ toolTip }}}</small></span>{{/toolTip}}\n\t{{#helpText}}<span class="bold_help_text"><small>{{{ helpText }}}</small></span>{{/helpText}}\n</div>', !1),
    window.BOLD.options.setTemplate("textboxmulti", '<div class="bold_option bold_option_{{ optionType }}">\n\t{{#optionTitle}}\n\t\t<span class="bold_option_title">{{{ optionTitle }}}</span>\n\t{{/optionTitle}}\n\t\n\t{{#toolTip}}<span class="bold_tooltip"><small>{{{ toolTip }}}</small></span>{{/toolTip}}\n\t\n\t<span class="bold_option_element">\n\t\t{{#optionElement}}\n\t\t\t<span class="bold_option_value">\n\t\t\t\t<label>\n\t\t\t\t\t{{#optionValueTitle}}\n\t\t\t\t\t\t<span class="bold_option_value_title">{{{ optionValueTitle }}}</span>\n\t\t\t\t\t{{/optionValueTitle}}\n\t\t\t\t\n\t\t\t\t\t{{#optionValueElement}}\n\t\t\t\t\t\t<span class="bold_option_value_element">{{{ optionValueElement }}}</span>\n\t\t\t\t\t{{/optionValueElement}}\n\t\t\t\t</label>\n\t\t\t</span>\n\t\t{{/optionElement}}\n\t</span>\n\t\n\t{{#helpText}}<span class="bold_help_text"><small>{{{ helpText }}}</small></span>{{/helpText}}\n</div>', !1),
    window.BOLD.options.setTemplate("swatch", '<div class="bold_option bold_option_{{ optionType }}">\n\t{{#optionTitle}}\n\t\t<span class="bold_option_title">{{{ optionTitle }}}</span>\n\t{{/optionTitle}}\n\t\n\t{{#toolTip}}<span class="bold_tooltip"><small>{{{ toolTip }}}</small></span>{{/toolTip}}\n\t\n\t<span class="bold_option_element">\n\t\t{{#optionElement}}\n\t\t\t<span class="bold_option_value {{#optionValueNoStock}}bold_option_out_of_stock{{/optionValueNoStock}}">\n\t\t\t\t<label>\n\t\t\t\t\t{{#optionValueElement}}\n\t\t\t\t\t\t<span class="bold_option_value_element">{{{ optionValueElement }}}</span>\n\t\t\t\t\t{{/optionValueElement}}\n\t\t\t\t\t<span class="bold_option_swatch_title">\n\t\t\t\t\t\t<span class="bold_option_value_title">{{{ optionValueTitle }}}</span>\n\t\t\t\t\t\t{{#optionValuePrice}}\n\t\t\t\t\t\t\t<span class="bold_option_value_price">{{{ optionValuePrice }}}</span>\n\t\t\t\t\t\t{{/optionValuePrice}}\n\t\t\t\t\t\t{{#optionValueNoStock}}\n\t\t\t\t\t\t\t<span class="bold_out_of_stock_message"><small>{{ outOfStockMessage }}</small></span>\n\t\t\t\t\t\t{{/optionValueNoStock}}\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t{{#optionQuantity}}\n\t\t\t\t\t<span class="bold_option_value_quantity">{{{ optionQuantity }}}</span>\n\t\t\t\t{{/optionQuantity}}\n\t\t\t</span>\n\t\t{{/optionElement}}\n\t</span>\n\t\n\t{{#helpText}}<span class="bold_help_text"><small>{{{ helpText }}}</small></span>{{/helpText}}\n</div>', !1),
    window.BOLD.options.setTemplate("optionset", '<div class="bold_option_set">\n</div>', !1),
    window.BOLD.options.setTemplate("option_product_title", '<div class="bold_option_product_title">{{ optionProductTitle}}</div>', !1),
    window.BOLD.options.setTemplate("priced_options_total", "{{ pre_total_text }} <span>{{{ total }}}</span> {{ post_total_text }}", !1),
    window.BOLD.options.setTemplate("priced_options_addtoprice", "{{{ product_price_with_total }}}", !1),
    window.BOLD.options.setTemplate("priced_options_appendtoprice", "{{{ product_price }}} + <span>{{{ total }}}</span>", !1),
    window.BOLD.options.setTemplate("cart_edit_lightbox_info", '<div class="bold_option_product_info">\n\t<div class="bold_option_product_info_title">{{ title }}</div>\n\t<div class="bold_option_product_info_price">{{{ price }}}</div>\n\t{{#image_src}}\n\t\t<div class="bold_option_product_info_image">\n\t\t\t<img src="{{ image_src }}" alt="">\n\t\t</div>\n\t{{/image_src}}\n\t{{#description}}\n\t\t<div class="bold_option_product_info_description">{{ description }}</div>\n\t{{/description}}\n</div>', !1),
    window.BOLD.options.setTemplate("cart_formatted_properties", '<div class="bold_line_properties">\n\t{{#properties}}\n\t\t<div>\n\t\t\t<span class="bold_line_property">{{ property }}</span>\n\t\t\t<span class="bold_line_separator">{{ separator }}</span>\n\t\t\t{{#value}}<span class="bold_line_value">{{ value }}</span>{{/value}}\n\t\t\t{{#upload}}<span class="bold_line_value bold_line_upload"><a href="{{ upload_url }}">{{ upload }}</a></span>{{/upload}}\n\t\t</div>\n\t{{/properties}}\n</div>', !1),
    window.BOLD.options.setTemplate("option_error", '<span class="bold_error_message">\n\t<small>{{ error }}</small>\n</span>', !1)
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        function i(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        function o(t, e) {
            if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        }
        : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        }
          , a = function() {
            function t(t, e) {
                var n = []
                  , i = !0
                  , o = !1
                  , r = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value),
                    !e || n.length !== e); i = !0)
                        ;
                } catch (t) {
                    o = !0,
                    r = t
                } finally {
                    try {
                        !i && s.return && s.return()
                    } finally {
                        if (o)
                            throw r
                    }
                }
                return n
            }
            return function(e, n) {
                if (Array.isArray(e))
                    return e;
                if (Symbol.iterator in Object(e))
                    return t(e, n);
                throw new TypeError("Invalid attempt to destructure non-iterable instance")
            }
        }()
          , s = function() {
            function t(t, e) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    Object.defineProperty(t, i.key, i)
                }
            }
            return function(e, n, i) {
                return n && t(e.prototype, n),
                i && t(e, i),
                e
            }
        }()
          , u = n(106)
          , l = i(u)
          , c = n(2)
          , d = i(c)
          , p = n(33)
          , f = i(p)
          , h = n(7)
          , v = i(h)
          , m = n(371)
          , y = i(m)
          , _ = n(21)
          , g = i(_)
          , b = n(109)
          , w = i(b)
          , O = n(49)
          , k = i(O)
          , C = n(48)
          , x = i(C)
          , E = n(69)
          , S = i(E)
          , T = function() {
            function e(t) {
                var n = this
                  , i = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                o(this, e),
                this.rawCart = t,
                this.platformCart = w.default.processRawCart(t),
                this.cart = null,
                this.ee = new S.default("cart","COMMON"),
                this.addShadowVariantsToNewCart = i,
                this.removeRawShadowVariants = !!g.default.windowGet("window.BOLD.common.removeRawShadowVariants"),
                this.shadowVariants = {},
                this.shadowVariantsByLine = {},
                this.shadowVariantsOneTime = [],
                this.existingShadowVariantsInCart = [],
                this.cartIndexMapToRawCart = {},
                this.totalAdditions = {
                    byLine: {},
                    cart: 0,
                    cartWithoutOneTime: 0,
                    oneTime: 0
                },
                this.cartHookClasses = {
                    properties: "bold_cart_item_properties",
                    price: "bold_cart_item_price",
                    total: "bold_cart_item_total",
                    cartTotal: "bold_cart_total"
                },
                this.uniqueItemIdentifier = "data-item-key",
                this.manualPropertiesClass = "bold_load_cart_item_properties",
                this.variantTotalsDisplayClass = "bold_option_variant_totals",
                this.boldProperties = ["master_builder", "builder_id", "builder_info", "frequency_type", "frequency_type_text", "frequency_num", "group_id", "discounted_price", "total_recurrences"],
                this.transferProperties = ["_ro_discount_percentage", "frequency_num", "frequency_type", "frequency_type_text", "group_id", "total_recurrences", "_boldBuilderId", "_ro_billing_plan"],
                this.expandCart(),
                this.ee.on("refresh", function(t) {
                    return n.refresh(t.data)
                }),
                "shopify" === w.default.getPlatform() && this.getCartCount() > 0 && this.ee.onDomLoaded(this.updateCart, this)
            }
            return s(e, [{
                key: "refresh",
                value: function(e) {
                    var n = this;
                    if (void 0 !== e && "undefined" !== e.total_price && !this.isFixed(e))
                        return this.rawCart = e,
                        this.platformCart = w.default.processRawCart(e),
                        this.cart = null,
                        this.shadowVariants = {},
                        this.shadowVariantsByLine = {},
                        this.shadowVariantsOneTime = [],
                        this.expandCart(),
                        this.ee.emit("cart_fixed"),
                        t.resolve();
                    var i = "/cart.json";
                    return null !== navigator.userAgent.match(/Trident|MSIE/g) && (i += "?_tmp=" + (new Date).getTime()),
                    g.default.get(i, !0).then(function(t) {
                        return n.refresh(t)
                    })
                }
            }, {
                key: "getCart",
                value: function() {
                    return this.cart
                }
            }, {
                key: "getItem",
                value: function(t) {
                    return void 0 !== this.cart.items && void 0 !== this.cart.items[t] && this.cart.items[t]
                }
            }, {
                key: "getShadowVariants",
                value: function() {
                    return this.shadowVariants
                }
            }, {
                key: "getExistingShadowVariants",
                value: function() {
                    return this.existingShadowVariantsInCart
                }
            }, {
                key: "getShadowVariantsByLine",
                value: function(t) {
                    return void 0 !== this.shadowVariantsByLine[t] ? this.shadowVariantsByLine[t] : []
                }
            }, {
                key: "getShadowVariantById",
                value: function(t) {
                    return (0,
                    f.default)(this.shadowVariants, function(e) {
                        return e.variant_id === t
                    })
                }
            }, {
                key: "getVariantQuantity",
                value: function(t) {
                    var e = this.getShadowVariantById(t);
                    return void 0 !== e ? e.quantity : 0
                }
            }, {
                key: "getOneTimeShadowVariants",
                value: function() {
                    return this.shadowVariantsOneTime
                }
            }, {
                key: "getPlatformCartCount",
                value: function() {
                    return this.platformCart.items.length
                }
            }, {
                key: "getCartCount",
                value: function() {
                    return this.cart.items.length
                }
            }, {
                key: "getToken",
                value: function() {
                    return this.cart.token
                }
            }, {
                key: "getPriceAdditionByLine",
                value: function(t) {
                    return void 0 !== this.totalAdditions.byLine[t] && this.totalAdditions.byLine[t].price
                }
            }, {
                key: "getTotalAdditionByLine",
                value: function(t) {
                    return void 0 !== this.totalAdditions.byLine[t] && this.totalAdditions.byLine[t].total
                }
            }, {
                key: "getPriceByLine",
                value: function(t) {
                    return void 0 !== this.cart.items[t] && this.cart.items[t].price
                }
            }, {
                key: "getTotalByLine",
                value: function(t) {
                    return void 0 !== this.cart.items[t] && this.cart.items[t].line_price
                }
            }, {
                key: "getCartTotalAddition",
                value: function() {
                    return this.totalAdditions.cart
                }
            }, {
                key: "getCartTotal",
                value: function() {
                    return this.cart.total_price
                }
            }, {
                key: "getCartTotalWithoutOneTime",
                value: function() {
                    return this.cart.total_price_before_onetime
                }
            }, {
                key: "getOneTimeAdditions",
                value: function() {
                    return this.totalAdditions.oneTime
                }
            }, {
                key: "getShadowVariantIds",
                value: function() {
                    return (0,
                    d.default)(this.getShadowVariants(), function(t) {
                        return t.variant_id
                    })
                }
            }, {
                key: "expandCart",
                value: function() {
                    var t = this;
                    this.cart = g.default.cloneObject(this.platformCart),
                    this.removeRawShadowVariants && (this.removeShadowVariants(this.cart),
                    this.cart.item_count = 0),
                    this.mapCartItemToRawCart();
                    for (var e = 0; e < this.cart.items.length; e++)
                        this.expandCartItem(this.cart.items[e], e),
                        this.removeRawShadowVariants && (this.cart.item_count += this.cart.items[e].quantity);
                    this.shadowVariants = g.default.objectToArray(this.shadowVariants),
                    (0,
                    d.default)(this.shadowVariants, function(e) {
                        var n = e.properties_all._qty_mode;
                        "one_time_per_order" !== n && "one_time_per_product" !== n && "one_time_per_line_item" !== n && "absolute" !== n || t.shadowVariantsOneTime.push(e),
                        t.addShadowVariantsToNewCart && !t.removeRawShadowVariants && (t.cart.items.push(e),
                        t.cart.item_count += e.quantity)
                    }),
                    this.removeRawShadowVariants && this.calculateCartTotalPriceWithoutShadowVariants(),
                    this.calculateTotals(),
                    this.cart.is_fixed = !0,
                    this.storePrePriceModPrices(),
                    this.applyPriceMods()
                }
            }, {
                key: "calculateCartTotalPriceWithoutShadowVariants",
                value: function() {
                    var t = this;
                    this.cart.total_price = 0,
                    this.cart.items_subtotal_price = 0,
                    this.cart.original_total_price = 0,
                    (0,
                    d.default)(this.cart.items, function(e) {
                        t.cart.total_price += e.line_price,
                        t.cart.items_subtotal_price += e.line_price,
                        t.cart.original_total_price += e.line_price
                    })
                }
            }, {
                key: "expandCartItem",
                value: function(t, e) {
                    "shopify" === w.default.getPlatform() && (this.moveBoldProperties(t, e),
                    this.applyShopifyDiscounts(t),
                    this.applyBundleDiscounts(t),
                    this.applyCSPDiscounts(t),
                    this.applyRODiscounts(t, e),
                    this.expandShadowVariants(t, e),
                    this.setRatio(t)),
                    t.is_fixed = !0,
                    t.line = e + 1
                }
            }, {
                key: "moveBoldProperties",
                value: function(t, e) {
                    if (t.Bold = t.BOLD || {},
                    t.raw_line_index = this.getCartIndexMapToRawCart()[e],
                    t.properties) {
                        t.properties_all = g.default.cloneObject(t.properties);
                        for (var n in t.properties)
                            if ("_" === n[0] || g.default.inArray(this.boldProperties, n)) {
                                var i = n;
                                "_" === i[0] && (i = i.substring(1)),
                                t.Bold[i] = t.properties[n],
                                delete t.properties[n]
                            }
                    }
                    t.properties_formatted = this.getFormattedProperties(t.properties)
                }
            }, {
                key: "addProperty",
                value: function(t, e, n) {
                    if (void 0 !== this.cart.items[t]) {
                        var i = this.cart.items[t];
                        if (i.Bold = i.BOLD || {},
                        i.properties_all = i.properties_all || {},
                        "_" === e[0] || g.default.inArray(this.boldProperties, e)) {
                            var o = e;
                            "_" === o[0] && (o = o.substring(1)),
                            i.Bold[o] = n
                        } else
                            i.properties[e] = n;
                        i.properties_all[e] = n,
                        i.properties_formatted = this.getFormattedProperties(i.properties)
                    }
                }
            }, {
                key: "updateProperty",
                value: function(t, e, n) {
                    this.addProperty(t, e, n)
                }
            }, {
                key: "expandShadowVariants",
                value: function(t, e) {
                    var n = this
                      , i = t.properties_all;
                    if (i && void 0 !== i._boldVariantIds)
                        for (var o = i._boldVariantNames.split(","), r = i._boldVariantIds.split(","), a = i._boldProductIds.split(","), s = i._boldVariantPrices.split(","), u = "string" == typeof i._boldVariantQtys && "" !== i._boldVariantQtys ? i._boldVariantQtys.split(",") : (0,
                        y.default)(Array(r.length), 1), l = "string" == typeof i._boldLineItemOneTime ? i._boldLineItemOneTime.split(",") : [], c = "string" == typeof i._boldProductOneTime ? i._boldProductOneTime.split(",") : [], p = "string" == typeof i._boldOrderOneTime ? i._boldOrderOneTime.split(",") : [], f = 0; f < r.length; f++)
                            !function(f) {
                                var h = "default";
                                -1 !== l.indexOf(r[f]) ? h = "one_time_per_line_item" : -1 !== c.indexOf(r[f]) ? h = "one_time_per_product" : -1 !== p.indexOf(r[f]) ? h = "one_time_per_order" : "string" == typeof u[f] && -1 !== u[f].indexOf("*") && (h = "absolute");
                                var m = parseInt(a[f])
                                  , y = parseInt(r[f])
                                  , _ = parseInt(s[f])
                                  , g = parseInt(u[f])
                                  , b = {
                                    id: y,
                                    title: o[f],
                                    product_title: o[f],
                                    variant_title: o[f],
                                    product_id: m,
                                    variant_id: y,
                                    price: _,
                                    original_price: _,
                                    final_price: _,
                                    line_price: _ * g,
                                    original_line_price: _ * g,
                                    final_line_price: _ * g,
                                    quantity: g,
                                    product_description: "",
                                    url: "",
                                    image: "",
                                    vendor: "",
                                    sku: "",
                                    grams: "",
                                    properties: {
                                        _parent_line_index: e,
                                        _parent_id: parseInt(t.product_id),
                                        _is_shadow_variant: !0,
                                        _qty_mode: h
                                    }
                                };
                                (0,
                                d.default)((0,
                                v.default)(n.transferProperties, function(t) {
                                    return void 0 !== i[t]
                                }), function(t) {
                                    b.properties[t] = i[t]
                                }),
                                n.moveBoldProperties(b, e),
                                n.addShadowVariant(b)
                            }(f)
                }
            }, {
                key: "addShadowVariant",
                value: function(t) {
                    if (t.original_quantity = t.quantity,
                    "default" === t.properties_all._qty_mode) {
                        var e = t.properties_all._parent_line_index;
                        t.quantity *= this.cart.items[e].quantity
                    }
                    this.addShadowVariantById(t),
                    "default" === t.properties_all._qty_mode && this.addShadowVariantByLine(g.default.cloneObject(t))
                }
            }, {
                key: "removeShadowVariants",
                value: function(t) {
                    var e = this;
                    this.existingShadowVariantsInCart = [],
                    void 0 !== t.items && (t.items = (0,
                    v.default)(t.items, function(t) {
                        if (t.properties && void 0 !== t.properties._boldBuilderId && void 0 !== t.properties._boldVariantIds || null === t.properties || t.properties && void 0 === t.properties._boldBuilderId)
                            return !0;
                        e.existingShadowVariantsInCart.push(t)
                    }))
                }
            }, {
                key: "mapCartItemToRawCart",
                value: function() {
                    var t = this;
                    (0,
                    d.default)(this.platformCart.items, function(e, n) {
                        (0,
                        d.default)(t.cart.items, function(i, o) {
                            JSON.stringify(e) === JSON.stringify(i) && (t.cartIndexMapToRawCart[o] = n)
                        })
                    })
                }
            }, {
                key: "getCartIndexMapToRawCart",
                value: function() {
                    return this.cartIndexMapToRawCart
                }
            }, {
                key: "addShadowVariantById",
                value: function(t) {
                    var e = t.id
                      , n = t.properties_all._parent_id
                      , i = t.properties_all._parent_line_index;
                    switch (t.properties_all._qty_mode) {
                    case "one_time_per_line_item":
                        this.shadowVariants[n + "_" + i + "_" + e] = t;
                        break;
                    case "one_time_per_product":
                        this.shadowVariants[n + "_" + e] = t;
                        break;
                    case "one_time_per_order":
                        this.shadowVariants["one_time_per_order_" + e] = t;
                        break;
                    case "default":
                    default:
                        var o = void 0 === t.properties_all._boldBuilderId ? e : i + "_" + e;
                        void 0 === this.shadowVariants[o] ? this.shadowVariants[o] = t : (this.shadowVariants[o].quantity += t.quantity,
                        this.shadowVariants[o].line_price = this.shadowVariants[o].price * this.shadowVariants[o].quantity)
                    }
                }
            }, {
                key: "addShadowVariantByLine",
                value: function(t) {
                    var e = t.properties_all._parent_line_index;
                    void 0 === this.shadowVariantsByLine[e] && (this.shadowVariantsByLine[e] = []),
                    this.shadowVariantsByLine[e].push(t)
                }
            }, {
                key: "applyShopifyDiscounts",
                value: function(t) {
                    t.price = t.discounted_price
                }
            }, {
                key: "applyRODiscounts",
                value: function(t, e) {
                    this.cart.is_recurring || isNaN(parseInt(t.Bold.frequency_num)) || (this.cart.is_recurring = !0);
                    var n = g.default.cloneObject(t)
                      , i = 1
                      , o = 0;
                    if (void 0 !== t.Bold.ro_discount_percentage) {
                        i = (100 - parseFloat(t.Bold.ro_discount_percentage)) / 100,
                        o = this.rawCart.items[e].price - this.rawCart.items[e].price * i;
                        var r = this.cart.items[e].line_price - o * this.cart.items[e].quantity
                          , a = this.cart.items[e].line_price - r;
                        this.cart.items[e].price -= o,
                        this.cart.items[e].final_price -= o,
                        this.cart.items[e].original_price -= o,
                        this.cart.items[e].discounted_price -= o,
                        this.cart.items[e].line_price = r,
                        this.cart.items[e].final_line_price = r,
                        this.cart.items[e].original_line_price = r,
                        this.cart.total_price -= a,
                        this.cart.items_subtotal_price -= a,
                        this.cart.original_total_price -= a,
                        n.price -= o,
                        n.line_price -= o * t.quantity
                    }
                    if (t.discount_multiplier = i,
                    i < 1 && void 0 !== t.properties_all._boldVariantPrices) {
                        for (var s = t.properties_all._boldVariantPrices.split(","), u = 0; u < s.length; u++)
                            s[u] = Math.round(s[u] * i);
                        this.updateProperty(e, "_boldVariantPrices", s.join(","))
                    }
                    return n
                }
            }, {
                key: "applyBundleDiscounts",
                value: function(t) {
                    var e = t.line_price
                      , n = t.properties_all
                      , i = t.price;
                    n && void 0 !== n._bold_bundles_price && (i = n._bold_bundles_price),
                    t.price = i,
                    t.final_price = i,
                    t.original_price = i,
                    t.discounted_price = i,
                    t.line_price = t.price * t.quantity,
                    t.final_line_price = t.price * t.quantity,
                    t.original_line_price = t.price * t.quantity;
                    var o = e - t.line_price;
                    this.cart.total_price -= o,
                    this.cart.items_subtotal_price -= o,
                    this.cart.original_total_price -= o
                }
            }, {
                key: "applyCSPDiscounts",
                value: function(t) {
                    var e = this
                      , n = function(t) {
                        var e = g.default.windowGet("window.BOLD.common.Shopify.metafields.bold_csp_defaults");
                        if (e && e[t]) {
                            return "%," + e[t] + ",,1,,0"
                        }
                    }
                      , i = function(t, e, n) {
                        if (n) {
                            var i = t + "~1"
                              , o = e;
                            do {
                                i = t + "~" + o,
                                o--
                            } while (void 0 === n[i] && o > 0);
                            return n[i]
                        }
                    };
                    t.csp_applied_discount = !1;
                    var o = g.default.windowGet("BOLD.common.Shopify.variants." + t.variant_id + ".csp_metafield")
                      , r = function(t) {
                        var e = g.default.windowGet("BOLD.common.Shopify.customer.tags");
                        void 0 === e && (e = window.shappify_customer_tags),
                        e && 0 !== e.length || (e = ["default"]);
                        for (var i = void 0, o = 0; o < e.length; o += 1)
                            if (void 0 !== t && void 0 !== t[e[o] + "~1"]) {
                                i = e[o];
                                break
                            }
                        return void 0 === i && (i = e[0],
                        void 0 === n(i) && (i = "default")),
                        i
                    }(o)
                      , s = function(t, e, n, i) {
                        var o = i && i[n + "~1"] ? i[n + "~1"].split(",") : []
                          , r = a(o, 6)
                          , s = r[5]
                          , u = void 0 === s ? "0" : s;
                        return e.items.reduce(function(e, n) {
                            return "0" === u ? n.variant_id === t.variant_id && (e += parseInt(n.quantity)) : n.product_id === t.product_id && (e += parseInt(n.quantity)),
                            e
                        }, 0)
                    }(t, this.cart, r, o)
                      , u = function(t, e, o) {
                        return i(t, e, o) || n(t)
                    }(r, s, o);
                    return function(t, n) {
                        if (!n)
                            return t;
                        var i = n.split(",")
                          , o = a(i, 3)
                          , r = o[0]
                          , s = o[1]
                          , u = o[2]
                          , l = t.line_price
                          , c = t.price;
                        switch (r) {
                        case "$":
                            c = 100 * s;
                            break;
                        case "%":
                            c *= s;
                            break;
                        case "-":
                            c -= 100 * s
                        }
                        if (void 0 !== u && "" !== u) {
                            var d = 1 === u.length ? "0" + u : u;
                            c = parseInt(parseInt(c).toString().slice(0, -2) + d)
                        }
                        if (!isNaN(c) && c < t.price) {
                            t.price = c,
                            t.final_price = c,
                            t.original_price = c,
                            t.discounted_price = c,
                            t.line_price = t.price * t.quantity,
                            t.final_line_price = t.price * t.quantity,
                            t.original_line_price = t.price * t.quantity;
                            var p = l - t.line_price;
                            e.cart.total_price -= p,
                            e.cart.items_subtotal_price -= p,
                            e.cart.original_total_price -= p,
                            void 0 === e.cart.csp_total_discount && (e.cart.csp_total_discount = 0,
                            e.cart.csp_total_bulk_discount = 0),
                            t.quantity > 1 && (e.cart.csp_total_bulk_discount += p),
                            e.cart.csp_total_discount += p,
                            t.csp_applied_discount = !0
                        }
                        return t
                    }(t, u)
                }
            }, {
                key: "setRatio",
                value: function(t) {
                    t.qty_ratio = t.qty_ratio || 1,
                    t.true_qty = t.true_qty || t.quantity,
                    t.Bold.btm_ratio && (t.qty_ratio *= parseInt(t.Bold.btm_ratio),
                    t.is_btm = !0),
                    t.Bold.bold_ratio && (t.qty_ratio *= parseInt(t.Bold.bold_ratio)),
                    1 !== t.qty_ratio && (t.quantity = t.true_qty / t.qty_ratio)
                }
            }, {
                key: "calculateTotals",
                value: function() {
                    var t = this;
                    this.totalAdditions = {
                        byLine: {},
                        cart: 0,
                        cartWithoutOneTime: 0,
                        oneTime: 0
                    };
                    for (var e in this.shadowVariantsByLine)
                        !function(e) {
                            t.totalAdditions.byLine[e] = {
                                price: 0,
                                total: 0
                            },
                            (0,
                            d.default)(t.shadowVariantsByLine[e], function(n) {
                                var i = n.price * n.original_quantity
                                  , o = n.price * n.original_quantity * t.cart.items[e].quantity;
                                t.totalAdditions.byLine[e].price += i,
                                t.totalAdditions.byLine[e].total += o,
                                t.totalAdditions.cart += o,
                                t.totalAdditions.cartWithoutOneTime += o,
                                t.addShadowVariantsToNewCart || (t.cart.items[e].price += i,
                                t.cart.items[e].original_price += i,
                                t.cart.items[e].final_price += i,
                                t.cart.items[e].discounted_price += i,
                                t.cart.items[e].line_price += o,
                                t.cart.items[e].original_line_price += o,
                                t.cart.items[e].final_line_price += o)
                            })
                        }(e);
                    (0,
                    d.default)(this.shadowVariantsOneTime, function(e) {
                        t.totalAdditions.oneTime += e.price * e.quantity
                    }),
                    this.cart.total_price += this.totalAdditions.cart,
                    this.cart.items_subtotal_price += this.totalAdditions.cart,
                    this.cart.original_total_price += this.totalAdditions.cart,
                    this.cart.total_price_before_onetime = this.cart.total_price,
                    this.cart.items_subtotal_price_before_onetime = this.cart.items_subtotal_price,
                    this.cart.original_total_price_before_onetime = this.cart.original_total_price,
                    this.cart.total_price += this.totalAdditions.oneTime,
                    this.cart.items_subtotal_price += this.totalAdditions.oneTime,
                    this.cart.original_total_price += this.totalAdditions.oneTime
                }
            }, {
                key: "getFormattedProperties",
                value: function(t) {
                    if (t) {
                        var e = {
                            properties: (0,
                            v.default)((0,
                            d.default)(t, function(t, e) {
                                var n = {
                                    property: e,
                                    separator: ":"
                                };
                                return "" === t ? "" : ("string" == typeof t && t.search(/\/uploads\//) > -1 ? (n.upload_url = t,
                                void 0 !== window.BOLD.language && "string" === window.BOLD.language.uploaded_file ? n.upload = window.BOLD.language.uploaded_file : n.upload = "Uploaded file") : n.value = t,
                                n)
                            }), function(t) {
                                return "" !== t
                            })
                        }
                          , n = '<div class="bold_line_properties">\n                                {{#properties}}\n                                    <div>\n                                        <span class="bold_line_property">{{ property }}</span>\n                                        <span class="bold_line_separator">{{ separator }}</span>\n                                        {{#value}}<span class="bold_line_value">{{ value }}</span>{{/value}}\n                                        {{#upload}}<span class="bold_line_value bold_line_upload"><a href="{{ upload_url }}">{{ upload }}</a></span>{{/upload}}\n                                    </div>\n                                {{/properties}}\n                            </div>';
                        return void 0 !== window.BOLD.options && void 0 !== window.BOLD.options.templates && void 0 !== window.BOLD.options.templates.cart_formatted_properties && (n = window.BOLD.options.templates.cart_formatted_properties),
                        l.default.parse(n),
                        l.default.render(n, e)
                    }
                    return ""
                }
            }, {
                key: "isFixed",
                value: function(t) {
                    return void 0 !== t.is_fixed && t.is_fixed
                }
            }, {
                key: "fix",
                value: function(t) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    if (this.isFixed(t))
                        return t;
                    var i = new e(t,n);
                    return this.ee.emit("refresh", t),
                    i.getCart()
                }
            }, {
                key: "fixItem",
                value: function(t) {
                    if (this.isFixed(t))
                        return t;
                    var n = new e({
                        total_price: t.line_price,
                        item_count: 1,
                        items: [t]
                    })
                      , i = n.getItem(0);
                    if (!1 !== i) {
                        for (var o = 0; o < this.cart.items.length; o++)
                            if (i.key === this.cart.items[o].key) {
                                i.line = this.cart.items[o].line;
                                break
                            }
                        return i
                    }
                    return t
                }
            }, {
                key: "storePrePriceModPrices",
                value: function() {
                    for (var t = 0; t < this.cart.items.length; t++)
                        this.cart.items[t].premod_price = this.cart.items[t].price,
                        this.cart.items[t].premod_original_price = this.cart.items[t].original_price,
                        this.cart.items[t].premod_final_price = this.cart.items[t].final_price,
                        this.cart.items[t].premod_line_price = this.cart.items[t].line_price,
                        this.cart.items[t].premod_original_line_price = this.cart.items[t].original_line_price,
                        this.cart.items[t].premod_final_line_price = this.cart.items[t].final_line_price;
                    this.cart.premod_total_price = this.cart.total_price,
                    this.cart.premod_items_subtotal_price = this.items_subtotal_price,
                    this.cart.premod_original_total_price = this.original_total_price,
                    this.cart.premod_total_price_before_onetime = this.cart.total_price_before_onetime,
                    this.cart.premod_items_subtotal_price_before_onetime = this.cart.items_subtotal_price_before_onetime,
                    this.cart.premod_original_total_price_before_onetime = this.cart.original_total_price_before_onetime;
                    for (var e = 0; e < this.shadowVariantsOneTime.length; e++)
                        this.shadowVariantsOneTime[e].premod_price = this.shadowVariantsOneTime[e].price,
                        this.shadowVariantsOneTime[e].premod_original_price = this.shadowVariantsOneTime[e].original_price,
                        this.shadowVariantsOneTime[e].premod_final_price = this.shadowVariantsOneTime[e].final_price,
                        this.shadowVariantsOneTime[e].premod_line_price = this.shadowVariantsOneTime[e].line_price,
                        this.shadowVariantsOneTime[e].premod_original_line_price = this.shadowVariantsOneTime[e].original_line_price,
                        this.shadowVariantsOneTime[e].premod_final_line_price = this.shadowVariantsOneTime[e].final_line_price;
                    this.totalAdditions.premod_oneTime = this.totalAdditions.oneTime
                }
            }, {
                key: "revertToPremodPrices",
                value: function() {
                    for (var t = 0; t < this.cart.items.length; t++)
                        this.cart.items[t].price = this.cart.items[t].premod_price,
                        this.cart.items[t].original_price = this.cart.items[t].premod_original_price,
                        this.cart.items[t].premod_final_price = this.cart.items[t].premod_final_price,
                        this.cart.items[t].line_price = this.cart.items[t].premod_line_price,
                        this.cart.items[t].original_line_price = this.cart.items[t].premod_original_line_price,
                        this.cart.items[t].final_line_price = this.cart.items[t].premod_final_line_price;
                    this.cart.total_price = this.cart.premod_total_price,
                    this.cart.items_subtotal_price = this.cart.premod_items_subtotal_price,
                    this.cart.original_total_price = this.cart.premod_original_total_price,
                    this.cart.total_price_before_onetime = this.cart.premod_total_price_before_onetime,
                    this.cart.items_subtotal_price_before_onetime = this.cart.premod_items_subtotal_price_before_onetime,
                    this.cart.original_total_price_before_onetime = this.cart.premod_original_total_price_before_onetime;
                    for (var e = 0; e < this.shadowVariantsOneTime.length; e++)
                        this.shadowVariantsOneTime[e].price = this.shadowVariantsOneTime[e].premod_price,
                        this.shadowVariantsOneTime[e].original_price = this.shadowVariantsOneTime[e].premod_original_price,
                        this.shadowVariantsOneTime[e].final_price = this.shadowVariantsOneTime[e].premod_final_price,
                        this.shadowVariantsOneTime[e].line_price = this.shadowVariantsOneTime[e].premod_line_price,
                        this.shadowVariantsOneTime[e].original_line_price = this.shadowVariantsOneTime[e].premod_original_line_price,
                        this.shadowVariantsOneTime[e].final_line_price = this.shadowVariantsOneTime[e].premod_final_line_price;
                    this.totalAdditions.oneTime = this.totalAdditions.premod_oneTime
                }
            }, {
                key: "registerPriceMod",
                value: function(t, e) {
                    var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                    g.default.windowSet("BOLD.common.cartDoctorInput.priceMods." + t, e),
                    this.revertToPremodPrices(),
                    this.applyPriceMods(),
                    n && "complete" === document.readyState && this.updateCart()
                }
            }, {
                key: "applyPriceMods",
                value: function() {
                    var t = this
                      , e = g.default.windowGet("BOLD.common.cartDoctorInput.priceMods");
                    "object" === (void 0 === e ? "undefined" : r(e)) && (0,
                    d.default)(e, function(e) {
                        return t.applyPriceMod(e)
                    })
                }
            }, {
                key: "applyPriceMod",
                value: function(t) {
                    for (var e = 0; e < this.cart.items.length; e++) {
                        var n = this.cart.items[e].price;
                        this.cart.items[e].price = t(this.cart.items[e].price, e),
                        this.cart.items[e].original_price = t(this.cart.items[e].price, e),
                        this.cart.items[e].final_price = t(this.cart.items[e].price, e);
                        var i = this.cart.items[e].price - n
                          , o = i * this.cart.items[e].quantity;
                        this.cart.items[e].line_price += o,
                        this.cart.items[e].original_line_price += o,
                        this.cart.items[e].final_line_price += o,
                        this.cart.total_price += o,
                        this.cart.items_subtotal_price += o,
                        this.cart.original_total_price += o,
                        this.cart.total_price_before_onetime += o,
                        this.cart.items_subtotal_price_before_onetime += o,
                        this.cart.original_total_price_before_onetime += o
                    }
                    for (var r = 0; r < this.shadowVariantsOneTime.length; r++) {
                        var a = this.shadowVariantsOneTime[r].price;
                        this.shadowVariantsOneTime[r].price = t(this.shadowVariantsOneTime[r].price, "onetime_" + r),
                        this.shadowVariantsOneTime[r].original_price = t(this.shadowVariantsOneTime[r].price, "onetime_" + r),
                        this.shadowVariantsOneTime[r].final_price = t(this.shadowVariantsOneTime[r].price, "onetime_" + r);
                        var s = this.shadowVariantsOneTime[r].price - a
                          , u = s * this.shadowVariantsOneTime[r].quantity;
                        this.shadowVariantsOneTime[r].line_price += u,
                        this.shadowVariantsOneTime[r].original_line_price += u,
                        this.shadowVariantsOneTime[r].final_line_price += u,
                        this.cart.total_price += u,
                        this.cart.items_subtotal_price += u,
                        this.cart.original_total_price += u,
                        this.totalAdditions.oneTime += u
                    }
                }
            }, {
                key: "correctCart",
                value: function() {
                    this.updateCart()
                }
            }, {
                key: "grabCartHookElements",
                value: function() {
                    this.linePriceElementsByKey = this.getHookElementsByKey(this.cartHookClasses.price),
                    this.lineTotalElementsByKey = this.getHookElementsByKey(this.cartHookClasses.total),
                    this.linePriceElements = this.getHookElementsByIndex(this.cartHookClasses.price),
                    this.lineTotalElements = this.getHookElementsByIndex(this.cartHookClasses.total),
                    this.cartTotalElements = x.default.getSiblingElementsByClassName(this.cartHookClasses.cartTotal),
                    this.oneTimeVariantsElement = document.getElementsByClassName(this.variantTotalsDisplayClass)
                }
            }, {
                key: "updateCart",
                value: function() {
                    this.grabCartHookElements(),
                    this.manualPropertiesElements = document.getElementsByClassName(this.manualPropertiesClass),
                    this.updateCartLines(),
                    this.updateCartTotal(),
                    this.ee.emit("cart_prices_updated", {
                        cart: this.getCart()
                    }),
                    this.ee.emitOut("BOLD_OPTIONS_cart_prices_updated", {
                        cart: this.getCart()
                    })
                }
            }, {
                key: "updateCartLines",
                value: function() {
                    for (var t = 0; t < this.getPlatformCartCount(); t++) {
                        var e = this.getItem(t)
                          , n = e && e.key
                          , i = this.linePriceElementsByKey[n] && this.linePriceElementsByKey[n].length ? this.linePriceElementsByKey[n] : this.linePriceElements[t]
                          , o = this.lineTotalElementsByKey[n] && this.lineTotalElementsByKey[n].length ? this.lineTotalElementsByKey[n] : this.lineTotalElements[t]
                          , r = this.manualPropertiesElements[t];
                        if (i) {
                            var a = this.getPriceByLine(t);
                            a && x.default.innerHTML(i, k.default.displayMoney(a))
                        }
                        if (o) {
                            var s = this.getTotalByLine(t);
                            s && x.default.innerHTML(o, k.default.displayMoney(s))
                        }
                        r && x.default.innerHTML(r, this.getItem(t).properties_formatted)
                    }
                }
            }, {
                key: "updateCartTotal",
                value: function() {
                    var t = this;
                    if (void 0 !== this.oneTimeVariantsElement[0] && (x.default.empty(this.oneTimeVariantsElement[0]),
                    (0,
                    d.default)(this.getOneTimeShadowVariants(), function(e) {
                        var n = e.title.replace("%2C", ",") + ": " + k.default.displayMoney(e.price * e.quantity)
                          , i = x.default.createElement("div", {
                            innerHTML: n
                        });
                        t.oneTimeVariantsElement[0].appendChild(i)
                    })),
                    void 0 === this.oneTimeVariantsElement[0] && this.getOneTimeAdditions() > 0) {
                        var e = k.default.displayMoney(this.getCartTotalWithoutOneTime()) + " + " + k.default.displayMoney(this.getOneTimeAdditions()) + " of extras";
                        x.default.innerHTML(this.cartTotalElements, e)
                    } else
                        x.default.innerHTML(this.cartTotalElements, k.default.displayMoney(this.getCartTotal()))
                }
            }, {
                key: "getHookElementsByIndex",
                value: function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                      , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []
                      , i = t;
                    e > 1 && (i = t + "_" + e);
                    var o = x.default.getSiblingElementsByClassName(i);
                    if (o.length > 0) {
                        for (var r = 0; r < o.length; r++)
                            void 0 === n[r] && (n[r] = []),
                            n[r].push(o[r]);
                        return this.getHookElementsByIndex(t, ++e, n)
                    }
                    return n
                }
            }, {
                key: "getHookElementsByKey",
                value: function(t) {
                    var e = {};
                    if (this.platformCart && this.platformCart.items && this.platformCart.items.length)
                        for (var n = 0; n < this.platformCart.items.length; n++) {
                            var i = this.platformCart.items[n];
                            if (i && i.key) {
                                var o = x.default.getSiblingElementsByClassNameAndAttribute(t, this.uniqueItemIdentifier, i.key);
                                o && o.length > 0 && (e[i.key] = o)
                            }
                        }
                    return e
                }
            }]),
            e
        }();
        e.default = T
    }
    ).call(e, n(134))
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , r = n(21)
      , a = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(r)
      , s = function() {
        function t() {
            i(this, t),
            this.cart = {},
            this.renderers = [],
            this.templateStrings = []
        }
        return o(t, [{
            key: "render",
            value: function() {
                if (!(void 0 !== this.cart && void 0 !== this.cart.items && this.cart.items.length > 0))
                    return new Error("Cart contains no items or has not been set.");
                for (var t = 0; t < this.cart.items.length; t += 1) {
                    var e = document.querySelectorAll('span[data-product-id="' + this.cart.items[t].id + "-" + t + '"]');
                    if (0 === e.length && (e = document.querySelectorAll('span[data-product-id="' + this.cart.items[t].id + '"]')),
                    e.length > 0) {
                        var n = this.cart.items[t];
                        this.templateStrings = [];
                        for (var i = 0; i < this.renderers.length; i += 1) {
                            var o = this.renderers[i]
                              , r = o(n);
                            this.templateStrings.push(r)
                        }
                        for (var a = 0; a < e.length; a += 1)
                            e[a].innerHTML = this.templateStrings.join(" ")
                    }
                }
                return null
            }
        }, {
            key: "registerRenderer",
            value: function(t) {
                return "function" != typeof t || void 0 === t ? new Error("Must be a function.") : (this.renderers.push(t),
                null)
            }
        }]),
        t
    }()
      , u = void 0 !== a.default.windowGet("BOLD.common.BoldCartPropTemplate") ? window.BOLD.common.BoldCartPropTemplate : new s;
    e.default = u
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , r = n(2)
      , a = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(r)
      , s = function() {
        function t() {
            i(this, t)
        }
        return o(t, null, [{
            key: "handleThirdPartyCheckoutButtons",
            value: function(t) {
                "checkout" == t.queueName && "final" == t.event.type && (0,
                a.default)(t.buttons.original.childNodes, function(t) {
                    "function" == typeof t.click && t.click()
                })
            }
        }]),
        t
    }();
    e.default = s
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function o(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , a = n(48)
      , s = i(a)
      , u = n(21)
      , l = i(u)
      , c = n(2)
      , d = i(c)
      , p = function() {
        function t() {
            o(this, t)
        }
        return r(t, null, [{
            key: "event",
            value: function(t, e, n) {
                var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "tier1";
                l.default.windowSet("BOLD.common.eventQueues." + t, {
                    running: !1,
                    position: -1,
                    queue: [],
                    buttons: []
                }, !1),
                window.BOLD.common.eventQueues[t].queue.push({
                    name: e,
                    type: "standard" === i ? "tier1" : i,
                    fn: n
                }),
                this.sortEvents(t)
            }
        }, {
            key: "validationEvent",
            value: function(t, e, n) {
                this.event(t, e, n, "validation")
            }
        }, {
            key: "finalEvent",
            value: function(t, e, n) {
                this.event(t, e, n, "final")
            }
        }, {
            key: "postFinalEvent",
            value: function(t, e, n) {
                this.event(t, e, n, "postfinal")
            }
        }, {
            key: "initialRun",
            value: function(t, e) {
                e.preventDefault(),
                e.stopImmediatePropagation(),
                this.isRunning(t) || (this.markAsRunning(t),
                this.setClickedButton(t, e.target),
                this.run(t))
            }
        }, {
            key: "run",
            value: function(t) {
                if (this.isRunning(t)) {
                    this.incrementPosition(t);
                    var e = this.getNextEvent(t);
                    if (e) {
                        var n = {
                            queueName: t,
                            event: e,
                            buttons: this.getButtonPair(t, this.getClickedButton(t))
                        }
                          , i = l.default.windowGet("BOLD.common.eventEmitter");
                        return void 0 !== i && i.emit("BOLD_EVENTQUEUE_before_run", n),
                        n.result = e.fn(),
                        void 0 !== i && i.emit("BOLD_EVENTQUEUE_after_run", n),
                        n.result
                    }
                }
                return !1
            }
        }, {
            key: "stop",
            value: function(t) {
                l.default.windowSet("BOLD.common.eventQueues." + t + ".running", !1)
            }
        }, {
            key: "redo",
            value: function(t) {
                this.stop(t),
                this.decrementPosition(t)
            }
        }, {
            key: "reset",
            value: function(t) {
                this.stop(t),
                this.setPosition(t, -1)
            }
        }, {
            key: "sortEvents",
            value: function(t) {
                var e = {
                    validation: {},
                    standard: {},
                    tier1: {},
                    tier2: {},
                    tier3: {},
                    final: {},
                    postfinal: {}
                };
                (0,
                d.default)(window.BOLD.common.eventQueues[t].queue, function(t) {
                    void 0 !== t && "standard" === t.type ? (t.type = "tier1",
                    e.tier1[t.name] = t) : void 0 !== t && void 0 !== e[t.type] && (e[t.type][t.name] = t)
                }),
                window.BOLD.common.eventQueues[t].queue = [].concat(l.default.objectValues(e.validation), l.default.objectValues(e.tier1), l.default.objectValues(e.tier2), l.default.objectValues(e.tier3), l.default.objectValues(e.final), l.default.objectValues(e.postfinal))
            }
        }, {
            key: "cloneButton",
            value: function(t, e) {
                var n = this;
                if (!s.default.hasClass(e, "bold_hidden") && !s.default.hasClass(e, "bold_clone")) {
                    var i = e.cloneNode(!0);
                    return s.default.addClass(i, "bold_clone"),
                    s.default.removeData(i, "action"),
                    s.default.removeClickEvent(i),
                    s.default.addClass(e, "bold_hidden"),
                    s.default.hide(e),
                    s.default.insertAfter(i, e),
                    i.addEventListener("click", this.initialRun.bind(this, t)),
                    this.finalEvent(t, "submit button click", function() {
                        var e = n.getHiddenButton(t);
                        e && e.click(),
                        n.run(t),
                        n.reset(t)
                    }),
                    this.setButtonPair(t, e, i),
                    i
                }
                return !1
            }
        }, {
            key: "cloneButtons",
            value: function(t, e) {
                var n = this;
                (0,
                d.default)(e, function(e) {
                    return n.cloneButton(t, e)
                })
            }
        }, {
            key: "getNextEvent",
            value: function(t) {
                var e = this.getQueue(t)
                  , n = this.getPosition(t);
                return void 0 !== e && void 0 !== e[n] && e[n]
            }
        }, {
            key: "isRunning",
            value: function(t) {
                return l.default.windowGet("BOLD.common.eventQueues." + t + ".running")
            }
        }, {
            key: "setPosition",
            value: function(t, e) {
                l.default.windowSet("BOLD.common.eventQueues." + t + ".position", e)
            }
        }, {
            key: "getPosition",
            value: function(t) {
                return l.default.windowGet("BOLD.common.eventQueues." + t + ".position")
            }
        }, {
            key: "incrementPosition",
            value: function(t) {
                var e = this.getPosition(t);
                void 0 !== e && this.setPosition(t, e + 1)
            }
        }, {
            key: "decrementPosition",
            value: function(t) {
                var e = this.getPosition(t);
                void 0 !== e && this.setPosition(t, e - 1)
            }
        }, {
            key: "markAsRunning",
            value: function(t) {
                l.default.windowSet("BOLD.common.eventQueues." + t + ".running", !0)
            }
        }, {
            key: "getQueue",
            value: function(t) {
                return l.default.windowGet("BOLD.common.eventQueues." + t + ".queue")
            }
        }, {
            key: "setClickedButton",
            value: function(t, e) {
                l.default.windowSet("BOLD.common.eventQueues." + t + ".clickedButton", e)
            }
        }, {
            key: "getClickedButton",
            value: function(t) {
                var e = l.default.windowGet("BOLD.common.eventQueues." + t + ".clickedButton");
                return void 0 !== e && s.default.getSelfOrFirstParentWithClass(e, "bold_clone")
            }
        }, {
            key: "getCloneButton",
            value: function(t) {
                return this.getClickedButton(t)
            }
        }, {
            key: "getHiddenButton",
            value: function(t) {
                var e = this.getClickedButton(t);
                if (e) {
                    var n = this.getButtonPair(t, e);
                    return !!n && n.original
                }
                return !1
            }
        }, {
            key: "getOriginalButton",
            value: function(t) {
                return this.getHiddenButton(t)
            }
        }, {
            key: "getButtonPair",
            value: function(t, e) {
                var n = s.default.data(e, "event-queue-button")
                  , i = l.default.windowGet("BOLD.common.eventQueues." + t + ".buttons");
                return void 0 !== i[n] && i[n]
            }
        }, {
            key: "setButtonPair",
            value: function(t, e, n) {
                var i = l.default.windowPush("BOLD.common.eventQueues." + t + ".buttons", {
                    original: e,
                    clone: n
                });
                s.default.data(e, "event-queue-button", i - 1),
                s.default.data(n, "event-queue-button", i - 1)
            }
        }, {
            key: "removeEventByPosition",
            value: function(t, e) {
                return delete window.BOLD.common.eventQueues[t].queue[e],
                this.sortEvents(t),
                this.reset(t),
                !0
            }
        }]),
        t
    }();
    e.default = p
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function o(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
        return typeof t
    }
    : function(t) {
        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
    }
      , a = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , s = n(21)
      , u = i(s)
      , l = n(48)
      , c = i(l)
      , d = n(49)
      , p = i(d)
      , f = n(109)
      , h = (i(f),
    n(2))
      , v = i(h)
      , m = function() {
        function t() {
            o(this, t)
        }
        return a(t, null, [{
            key: "load",
            value: function() {
                return u.default.windowSet("BOLD.helpers", {}, !1),
                window.BOLD.helpers.js = u.default,
                window.BOLD.helpers.dom = c.default,
                window.BOLD.helpers.shopify = p.default,
                window.BOLD.helpers.windowSet = u.default.windowSet.bind(u.default),
                window.BOLD.helpers.windowGet = u.default.windowGet.bind(u.default),
                window.BOLD.helpers.windowCall = u.default.windowCall.bind(u.default),
                window.BOLD.helpers.windowPush = u.default.windowPush.bind(u.default),
                u.default.windowSet("BOLD.helpers.addItemFromForm", this.addItemFromForm.bind(this), !1),
                u.default.windowSet("BOLD.helpers.selectCallbackAddEvent", this.selectCallbackAddEvent.bind(this), !1),
                u.default.windowSet("BOLD.helpers.currencyPickerAddEvent", this.currencyPickerAddEvent.bind(this), !1),
                u.default.windowSet("BOLD.helpers.changeItem", this.changeItem.bind(this), !1),
                u.default.windowSet("BOLD.helpers.bindVariantChangedEvent", t.bindVariantChangedEvent, !1),
                window.BOLD.helpers
            }
        }, {
            key: "bindHelperEvents",
            value: function() {
                t.selectCallbackAddEvent(),
                t.currencyPickerAddEvent(),
                t.bindVariantChangedEvent(),
                "interactive" === document.readyState || "complete" === document.readyState ? setTimeout(t.bindVariantChangedEvent, 500) : document.addEventListener("DOMContentLoaded", function() {
                    return setTimeout(t.bindVariantChangedEvent, 500)
                })
            }
        }, {
            key: "bindVariantChangedEvent",
            value: function() {
                u.default.windowSet("BOLD.helpers.helperEventsBound.variantElements", [], !1);
                var t = ["#shappify-variant-id", ".single-option-selector", "select[name=id]", "input[name=id]"];
                (0,
                v.default)(document.querySelectorAll(t.join()), function(t) {
                    u.default.inArray(BOLD.helpers.helperEventsBound.variantElements, t) || (BOLD.helpers.helperEventsBound.variantElements.push(t),
                    t.addEventListener("change", function() {
                        var t = u.default.windowGet("BOLD.common.eventEmitter");
                        void 0 !== t && t.emit("BOLD_COMMON_variant_changed")
                    }))
                })
            }
        }, {
            key: "selectCallbackAddEvent",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "selectCallback";
                u.default.windowSet("BOLD.helpers.helperEventsBound.selectCallback", !1, !1);
                var e = "string" == typeof t ? window[t] : t;
                if (!window.BOLD.helpers.helperEventsBound.selectCallback && "function" == typeof e) {
                    window.BOLD.helpers.helperEventsBound.selectCallback = !0;
                    var n = function(t, n) {
                        var i = u.default.windowGet("BOLD.common.eventEmitter");
                        void 0 !== i && i.emit("BOLD_COMMON_variant_changed_precallback", {
                            variant: t,
                            selector: n
                        });
                        var o = e(t, n);
                        return void 0 !== i && i.emit("BOLD_COMMON_variant_changed", {
                            variant: t,
                            selector: n
                        }),
                        o
                    };
                    return "string" == typeof t && (window[t] = n),
                    n
                }
                return e
            }
        }, {
            key: "currencyPickerAddEvent",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ".currency-picker,.currencies";
                if (u.default.windowSet("BOLD.helpers.helperEventsBound.currencyPicker", !1, !1),
                !window.BOLD.helpers.helperEventsBound.currencyPicker) {
                    var e = document.querySelectorAll(t);
                    e.length > 0 && (window.BOLD.helpers.helperEventsBound.currencyPicker = !0,
                    (0,
                    v.default)(e, function(t) {
                        t.addEventListener("change", function(t) {
                            var e = u.default.windowGet("BOLD.common.eventEmitter");
                            void 0 !== e && e.emit("BOLD_COMMON_currency_changed", t)
                        }, !1)
                    }))
                }
            }
        }, {
            key: "addItemFromForm",
            value: function(t, e, n, i) {
                var o, i = i || {}, a = i.endpoint || "/cart/add.js";
                "string" == typeof t ? (0 == t.indexOf("#") && (t = t.substr(1)),
                o = document.getElementById(t)) : o = t.jquery ? t[0] : t;
                var s, u = "function" == typeof FormData;
                if (u && (s = new FormData(o),
                "function" != typeof s.getAll && (u = !1)),
                !u) {
                    var l = o.length;
                    s = "";
                    for (var c = 0; c < l; c++) {
                        var d = "string" == typeof o[c].type ? o[c].type.toLowerCase() : null;
                        if ("file" === d)
                            return o.getAttribute("enctype") || o.setAttribute("enctype", "multipart/form-data"),
                            o.submit(),
                            !1;
                        var p = "radio" !== d && "checkbox" !== d || o[c].checked ? o[c].value : null
                          , f = o[c].name || "";
                        p && f && (s += (s.length ? "&" : "") + encodeURIComponent(f) + "=" + encodeURIComponent(p))
                    }
                }
                var h = new XMLHttpRequest;
                h.open("POST", a, !0),
                u || h.setRequestHeader("Content-type", "application/x-www-form-urlencoded"),
                h.onload = function() {
                    var t = void 0;
                    try {
                        t = JSON.parse(this.responseText)
                    } catch (e) {
                        t = this.responseText
                    }
                    if ("function" == typeof e ? e(t) : "object" === ("undefined" == typeof Shopify ? "undefined" : r(Shopify)) && "function" == typeof Shopify.onItemAdded ? Shopify.onItemAdded(t) : "object" === ("undefined" == typeof ShopifyAPI ? "undefined" : r(ShopifyAPI)) && "function" == typeof ShopifyAPI.onItemAdded && ShopifyAPI.onItemAdded(t),
                    "function" == typeof beforeBoldSelectCallback && o.variant && o.variant.selector) {
                        var n = o.quantity ? parseInt(o.quantity.value) : 1
                          , i = o.variant;
                        void 0 !== i.inventory_in_cart && (i.inventory_in_cart += n),
                        void 0 !== i.inventory_remaining && i.inventory_management && (i.inventory_remaining -= n),
                        i.inventory_remaining <= 0 && i.inventory_management && "deny" === i.inventory_policy && (i.available = !1),
                        beforeBoldSelectCallback(i, i.selector)
                    }
                }
                ,
                "function" == typeof n && (h.onerror = n),
                h.send(s)
            }
        }, {
            key: "changeItem",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                return u.default.post("/cart/change.js?line=" + t + "&quantity=" + e, {}, !0).then(function() {
                    n && c.default.reload()
                })
            }
        }]),
        t
    }();
    e.default = m
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    function o(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var r = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , a = n(69)
      , s = i(a)
      , u = n(2)
      , l = i(u)
      , c = function() {
        function t(e) {
            o(this, t),
            this.ee = new s.default("lightbox","COMMON"),
            this.fadeSpeed = 300,
            this.content = e,
            this.lightbox = this.lightboxElement(),
            this.overlay = this.overlayElement(),
            this.css = this.cssElement(),
            this.domBody = document.getElementsByTagName("body")[0],
            this.appendLightbox()
        }
        return r(t, [{
            key: "appendLightbox",
            value: function() {
                this.domBody.appendChild(this.overlay),
                this.domBody.appendChild(this.lightbox),
                this.domBody.appendChild(this.css),
                this.ee.emit("lightbox_appended")
            }
        }, {
            key: "open",
            value: function() {
                this.showElement(this.overlay),
                this.showElement(this.lightbox),
                this.domBody.style.overflow = "hidden",
                this.contentUpdated(),
                this.ee.emit("lightbox_open")
            }
        }, {
            key: "close",
            value: function() {
                var t = this;
                this.hideElement(this.overlay),
                this.hideElement(this.lightbox),
                this.domBody.style.overflow = "visible",
                window.setTimeout(function() {
                    t.removeClass(t.lightbox, "bold_lightbox_innerscroll"),
                    t.ee.emit("lightbox_close")
                }, this.fadeSpeed)
            }
        }, {
            key: "setButtons",
            value: function(t) {
                var e = this
                  , n = document.createElement("div");
                n.className = "bold_lightbox_buttons",
                (0,
                l.default)(t, function(t) {
                    var i = document.createElement("button");
                    i.className = t.class,
                    i.type = "button",
                    i.appendChild(document.createTextNode(t.text)),
                    i.addEventListener("click", t.action.bind(e)),
                    n.appendChild(i)
                }),
                this.lightbox.appendChild(n)
            }
        }, {
            key: "lightboxElement",
            value: function() {
                var t = document.createElement("div");
                t.className = "bold_lightbox";
                var e = document.createElement("div");
                e.className = "bold_lightbox_content",
                e.innerHTML = this.content,
                t.appendChild(e);
                var n = document.createElement("div");
                return n.className = "bold_lightbox_close",
                n.innerHTML = "&times;",
                n.addEventListener("click", this.close.bind(this)),
                t.appendChild(n),
                t
            }
        }, {
            key: "overlayElement",
            value: function() {
                var t = document.createElement("div");
                return t.className = "bold_lightbox_overlay",
                t.addEventListener("click", this.close.bind(this)),
                t
            }
        }, {
            key: "cssElement",
            value: function() {
                var t = document.createElement("style")
                  , e = "\n                .bold_lightbox {\n                    display:none; opacity:0;\n                    transition:opacity " + this.fadeSpeed + "ms ease-in-out;\n                    position:fixed;\n                    left:25%; top:10%;\n                    width:50%;\n                    background:rgba(255,255,255,.95);\n                    box-shadow:0 0px 200px rgba(0,0,0,.6);\n                    padding:0 0 75px;\n                    margin:0 0 10%;\n                    overflow:auto;\n                    z-index:1001;\n                }\n                .bold_lightbox_overlay {\n                    display:none; opacity:0;\n                    transition:opacity " + this.fadeSpeed + "ms ease-in-out;\n                    position:fixed;\n                    left:0; top:0;\n                    width:100%; height:100%;\n                    background:rgba(0,0,0,.5);\n                    z-index:1000;\n                }\n                .bold_option_product_info {\n                    margin-top:30px;\n                }\n                .bold_lightbox_content {\n                    background:#fff;\n                    padding:0 50px;\n                    max-height:100%;\n                    overflow:auto;\n                }\n                .bold_options_edit_in_cart {\n                    margin-bottom:40px;\n                }\n                .bold_lightbox_close {\n                    position:absolute;\n                    right:0; top:0;\n                    padding:2px 10px 7px;\n                    font-size:24px;\n                    line-height:1;\n                    font-weight:bold;\n                    cursor:pointer;\n                    color:#555;\n                }\n                .bold_lightbox_buttons {\n                    position:absolute;\n                    left:0; bottom:0;\n                    width:100%;\n                    text-align:center;\n                }\n                .bold_lightbox_buttons > button {\n                    margin:20px 5px;\n                    min-width:100px;\n                    width:auto;\n                }\n                .bold_lightbox_innerscroll {\n                    height:80%;\n                }\n                @media screen and (max-width: 768px) {\n                    .bold_lightbox {\n                        width:80%;\n                        left:10%;\n                    }\n                }\n                @media screen and (max-width: 480px) {\n                    .bold_lightbox {\n                        width:96%;\n                        left:2%;\n                    }\n                }\n                ";
                return t.appendChild(document.createTextNode(e)),
                t
            }
        }, {
            key: "contentUpdated",
            value: function() {
                this.lightbox.offsetHeight > .8 * window.innerHeight && this.addClass(this.lightbox, "bold_lightbox_innerscroll")
            }
        }, {
            key: "showElement",
            value: function(t) {
                t.style.display = "block",
                window.setTimeout(function() {
                    return t.style.opacity = 1
                }, 1)
            }
        }, {
            key: "hideElement",
            value: function(t) {
                t.style.opacity = 0,
                window.setTimeout(function() {
                    return t.style.display = "none"
                }, this.fadeSpeed)
            }
        }, {
            key: "hasClass",
            value: function(t, e) {
                return t.classList ? t.classList.contains(e) : !!t.className.match(new RegExp("(\\s|^)" + e + "(\\s|$)"))
            }
        }, {
            key: "addClass",
            value: function(t, e) {
                t.classList ? t.classList.add(e) : this.hasClass(t, e) || (t.className += " " + e)
            }
        }, {
            key: "removeClass",
            value: function(t, e) {
                if (t.classList)
                    t.classList.remove(e);
                else if (hasClass(t, e)) {
                    var n = new RegExp("(\\s|^)" + e + "(\\s|$)");
                    t.className = t.className.replace(n, " ")
                }
            }
        }]),
        t
    }();
    e.default = c
}
, function(t, e, n) {
    "use strict";
    function i(t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = function() {
        function t(t, e) {
            for (var n = 0; n < e.length; n++) {
                var i = e[n];
                i.enumerable = i.enumerable || !1,
                i.configurable = !0,
                "value"in i && (i.writable = !0),
                Object.defineProperty(t, i.key, i)
            }
        }
        return function(e, n, i) {
            return n && t(e.prototype, n),
            i && t(e, i),
            e
        }
    }()
      , r = n(369)
      , a = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(r)
      , s = function() {
        function t() {
            i(this, t)
        }
        return o(t, null, [{
            key: "getPlatformJsObj",
            value: function() {
                return window.BOLD.common.platform
            }
        }, {
            key: "getCartJsObj",
            value: function() {
                return t.getPlatformJsObj().cart
            }
        }, {
            key: "getShopJsObj",
            value: function() {
                return t.getPlatformJsObj().shop
            }
        }, {
            key: "getMoneyFormatJsObj",
            value: function() {
                return t.getPlatformJsObj().shop.money_format
            }
        }, {
            key: "getMoneyClasses",
            value: function() {
                return []
            }
        }, {
            key: "processRawCart",
            value: function(e) {
                var n = (0,
                a.default)(e);
                return n.total_price = 100 * e.grand_total.value,
                n.item_count = e.quantity,
                n.items = e.items.map(function(e) {
                    return t.processCartItem(e)
                }),
                n
            }
        }, {
            key: "processCartItem",
            value: function(t) {
                return t.price = 100 * t.price.value,
                t.line_price = 100 * t.total.value,
                t.original_line_price = t.line_price,
                t.id = t.product_id,
                t
            }
        }]),
        t
    }();
    e.default = s
}
, function(t, e, n) {
    "use strict";
    function i(t, e, n) {
        this.fn = t,
        this.context = e,
        this.once = n || !1
    }
    function o() {}
    var r = Object.prototype.hasOwnProperty
      , a = "function" != typeof Object.create && "~";
    o.prototype._events = void 0,
    o.prototype.eventNames = function() {
        var t, e = this._events, n = [];
        if (!e)
            return n;
        for (t in e)
            r.call(e, t) && n.push(a ? t.slice(1) : t);
        return Object.getOwnPropertySymbols ? n.concat(Object.getOwnPropertySymbols(e)) : n
    }
    ,
    o.prototype.listeners = function(t, e) {
        var n = a ? a + t : t
          , i = this._events && this._events[n];
        if (e)
            return !!i;
        if (!i)
            return [];
        if (i.fn)
            return [i.fn];
        for (var o = 0, r = i.length, s = new Array(r); o < r; o++)
            s[o] = i[o].fn;
        return s
    }
    ,
    o.prototype.emit = function(t, e, n, i, o, r) {
        var s = a ? a + t : t;
        if (!this._events || !this._events[s])
            return !1;
        var u, l, c = this._events[s], d = arguments.length;
        if ("function" == typeof c.fn) {
            switch (c.once && this.removeListener(t, c.fn, void 0, !0),
            d) {
            case 1:
                return c.fn.call(c.context),
                !0;
            case 2:
                return c.fn.call(c.context, e),
                !0;
            case 3:
                return c.fn.call(c.context, e, n),
                !0;
            case 4:
                return c.fn.call(c.context, e, n, i),
                !0;
            case 5:
                return c.fn.call(c.context, e, n, i, o),
                !0;
            case 6:
                return c.fn.call(c.context, e, n, i, o, r),
                !0
            }
            for (l = 1,
            u = new Array(d - 1); l < d; l++)
                u[l - 1] = arguments[l];
            c.fn.apply(c.context, u)
        } else {
            var p, f = c.length;
            for (l = 0; l < f; l++)
                switch (c[l].once && this.removeListener(t, c[l].fn, void 0, !0),
                d) {
                case 1:
                    c[l].fn.call(c[l].context);
                    break;
                case 2:
                    c[l].fn.call(c[l].context, e);
                    break;
                case 3:
                    c[l].fn.call(c[l].context, e, n);
                    break;
                default:
                    if (!u)
                        for (p = 1,
                        u = new Array(d - 1); p < d; p++)
                            u[p - 1] = arguments[p];
                    c[l].fn.apply(c[l].context, u)
                }
        }
        return !0
    }
    ,
    o.prototype.on = function(t, e, n) {
        var o = new i(e,n || this)
          , r = a ? a + t : t;
        return this._events || (this._events = a ? {} : Object.create(null)),
        this._events[r] ? this._events[r].fn ? this._events[r] = [this._events[r], o] : this._events[r].push(o) : this._events[r] = o,
        this
    }
    ,
    o.prototype.once = function(t, e, n) {
        var o = new i(e,n || this,!0)
          , r = a ? a + t : t;
        return this._events || (this._events = a ? {} : Object.create(null)),
        this._events[r] ? this._events[r].fn ? this._events[r] = [this._events[r], o] : this._events[r].push(o) : this._events[r] = o,
        this
    }
    ,
    o.prototype.removeListener = function(t, e, n, i) {
        var o = a ? a + t : t;
        if (!this._events || !this._events[o])
            return this;
        var r = this._events[o]
          , s = [];
        if (e)
            if (r.fn)
                (r.fn !== e || i && !r.once || n && r.context !== n) && s.push(r);
            else
                for (var u = 0, l = r.length; u < l; u++)
                    (r[u].fn !== e || i && !r[u].once || n && r[u].context !== n) && s.push(r[u]);
        return s.length ? this._events[o] = 1 === s.length ? s[0] : s : delete this._events[o],
        this
    }
    ,
    o.prototype.removeAllListeners = function(t) {
        return this._events ? (t ? delete this._events[a ? a + t : t] : this._events = a ? {} : Object.create(null),
        this) : this
    }
    ,
    o.prototype.off = o.prototype.removeListener,
    o.prototype.addListener = o.prototype.on,
    o.prototype.setMaxListeners = function() {
        return this
    }
    ,
    o.prefixed = a,
    t.exports = o
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(115)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(3)
      , d = n(2)
      , p = i(d)
      , f = n(7)
      , h = i(f)
      , v = function() {
        function t(e) {
            (0,
            s.default)(this, t),
            this.app = e,
            this.init()
        }
        return (0,
        l.default)(t, [{
            key: "init",
            value: function() {
                "cart" == this.app.page && this.app.ee.onOut("BOLD_COMMON_cart_loaded", this.fixQuantityUpdates.bind(this))
            }
        }, {
            key: "deleteQtyEleForAnonymousShadowVariantsFromDOM",
            value: function(t) {
                if (this.app.cartDoctor.cart.items.length > 0) {
                    if (void 0 !== t) {
                        var e = t
                          , n = document.querySelectorAll('input[type="hidden"][name="updates[]"]');
                        (0,
                        p.default)(n, function(t) {
                            var n = t.getAttribute("data-id");
                            e.indexOf(n) > -1 && t.parentNode.removeChild(t)
                        })
                    }
                } else
                    "cart" === BOLD.common.template && c.DOMHelper.reload()
            }
        }, {
            key: "refreshEditButtonLineId",
            value: function() {
                var t = document.querySelectorAll(".bold_cart_edit_button");
                if (t.length > 0) {
                    var e = 0
                      , n = this.app.cartDoctor.getCartIndexMapToRawCart();
                    (0,
                    p.default)(this.app.cartDoctor.cart.items, function(i, o) {
                        if (null !== i.properties_all && void 0 !== i.properties_all && void 0 !== i.properties_all._boldOptionLocalStorageId) {
                            var r = n[o]
                              , a = t[e];
                            c.DOMHelper.data(a, "line-id", r),
                            e++
                        }
                    })
                }
            }
        }, {
            key: "resetLinksLineIndexAfterAnonymousVariantDelete",
            value: function() {
                var t = document.querySelectorAll("a[href^='/cart/change?line=']")
                  , e = this.app.cartDoctor.getCartIndexMapToRawCart()
                  , n = [];
                (0,
                p.default)(t, function(t, e) {
                    var i = t.getAttribute("href")
                      , o = i.match("line=(.*)&")[1];
                    null !== o && (void 0 == n[o] && (n[o] = []),
                    n[o].push(t))
                }),
                n = (0,
                h.default)(n, function(t) {
                    return t
                }),
                (0,
                p.default)(n, function(t, n) {
                    if (t && void 0 !== t) {
                        var i = e[n];
                        void 0 !== i && (0,
                        p.default)(t, function(t) {
                            var e = t.getAttribute("href").replace(/\?line=(.*)&/, "?line=" + (i + 1) + "&");
                            t.setAttribute("href", e)
                        })
                    }
                })
            }
        }, {
            key: "fixCart",
            value: function(t) {
                var e = this;
                return c.ShopifyHelper.getCart().then(function(n) {
                    e.app.cartDoctor.refresh(n).then(function() {
                        e.updateShadowVariantQty(),
                        e.deleteQtyEleForAnonymousShadowVariantsFromDOM(t),
                        e.refreshEditButtonLineId(),
                        e.resetLinksLineIndexAfterAnonymousVariantDelete(),
                        e.fixQuantityUpdates()
                    })
                })
            }
        }, {
            key: "fixQuantityUpdates",
            value: function() {
                this.app.settings.hybrid_fix_auto_insert_inputs && this.insertAnonymousShadowVariantInputs(),
                this.bindUpdateQtyEvents(),
                this.bindQuantityChangeIconEvents()
            }
        }, {
            key: "insertAnonymousShadowVariantInputs",
            value: function() {
                var t = this
                  , e = this.getFormsForInputs();
                (0,
                p.default)(e, function(e, n) {
                    (0,
                    p.default)(t.app.cartDoctor.rawCart.items, function(n, i) {
                        var o = e.querySelectorAll('input[name="updates[]"]');
                        if (n.properties && void 0 === n.properties._boldVariantIds && void 0 !== n.properties._boldBuilderId) {
                            var r = o[i];
                            void 0 !== r && r.dataset.id === n.key || t.fixAnonymousShadowVariantInputElement(e, o, n, i)
                        }
                    })
                })
            }
        }, {
            key: "getFormsForInputs",
            value: function() {
                var t = document.querySelectorAll('input[name="updates[]"]')
                  , e = [];
                return (0,
                p.default)(t, function(t, n) {
                    var i = t.form;
                    i && -1 === e.indexOf(i) && e.push(i)
                }),
                e
            }
        }, {
            key: "fixAnonymousShadowVariantInputElement",
            value: function(t, e, n, i) {
                var o = t.querySelectorAll('input[name="updates[]"][data-id="' + n.key + '"]')
                  , r = this.createAnonymousShadowVariantInputElement(n);
                o.length > 0 && (0,
                p.default)(o, function(t, e) {
                    t.parentElement.removeChild(t)
                }),
                this.insertAnonymousShadowVariantInputElement(e, r, i)
            }
        }, {
            key: "createAnonymousShadowVariantInputElement",
            value: function(t) {
                var e = document.createElement("INPUT");
                return e.name = "updates[]",
                e.type = "hidden",
                e.id = "updates_" + t.key,
                e.value = t.quantity,
                e.dataset.id = t.key,
                e
            }
        }, {
            key: "insertAnonymousShadowVariantInputElement",
            value: function(t, e, n) {
                var i = void 0;
                0 === n ? (i = this.findCartRowElement(t, n)) && i.insertBefore(e, i.firstChild) : (i = this.findCartRowElement(t, n - 1)) && i.appendChild(e)
            }
        }, {
            key: "findCartRowElement",
            value: function(t, e) {
                var n = t[e] || t[t.length - 1]
                  , i = null
                  , o = null;
                if (!(e < 0)) {
                    for (; "FORM" !== n.nodeName; ) {
                        if (n.querySelector('[class*="money"], [class*="price"]') || n.innerText && n.innerText.length > 10) {
                            o = n;
                            break
                        }
                        if (n.querySelectorAll('input[name="updates[]"]').length > 1) {
                            o = i;
                            break
                        }
                        if (i = n,
                        !(n = n.parentElement)) {
                            o = i;
                            break
                        }
                    }
                    return o
                }
            }
        }, {
            key: "bindUpdateQtyEvents",
            value: function() {
                var t = this
                  , e = document.querySelectorAll('input[name="updates[]"]');
                (0,
                p.default)(e, function(e, n) {
                    e.addEventListener("change", function(e) {
                        t.changeShadowVariantQty(e, {
                            element: e.target,
                            index: n
                        })
                    })
                })
            }
        }, {
            key: "changeShadowVariantQty",
            value: function(t, e) {
                var n = this
                  , i = this.app.cartDoctor.rawCart.items.length
                  , o = e.index % i;
                this.app.cartDoctor.rawCart.items[o].quantity = t.target.value;
                var a = this.app.cartDoctor.getExistingShadowVariants();
                this.app.cartDoctor.refresh(this.app.cartDoctor.rawCart).then(function() {
                    var t = n.app.cartDoctor.getShadowVariants();
                    (0,
                    p.default)(a, function(e) {
                        var n = !0
                          , i = !1
                          , o = void 0;
                        try {
                            for (var a, s = (0,
                            r.default)(t); !(n = (a = s.next()).done); n = !0) {
                                var u = a.value;
                                if (u.properties_all._boldBuilderId == e.properties._boldBuilderId && u.id == e.id) {
                                    e.quantity = u.quantity;
                                    break
                                }
                            }
                        } catch (t) {
                            i = !0,
                            o = t
                        } finally {
                            try {
                                !n && s.return && s.return()
                            } finally {
                                if (i)
                                    throw o
                            }
                        }
                    });
                    var e = document.querySelectorAll('input[type="hidden"][name="updates[]"]');
                    (0,
                    p.default)(e, function(t) {
                        (0,
                        p.default)(a, function(e) {
                            var n = t.getAttribute("data-id");
                            e.key == n && (t.value = e.quantity,
                            t.setAttribute("value", e.quantity))
                        })
                    })
                })
            }
        }, {
            key: "bindQuantityChangeIconEvents",
            value: function() {
                var t = this
                  , e = document.querySelectorAll(".bold-quantity-update");
                (0,
                p.default)(e, function(e) {
                    e.addEventListener("click", t.triggerUpdateElementChangeEvent.bind(t))
                })
            }
        }, {
            key: "triggerUpdateElementChangeEvent",
            value: function(t) {
                for (var e = this, n = t.target, i = n.parentNode, o = i.querySelectorAll(':scope > input[name="updates[]"]'); o.length <= 0; )
                    i = i.parentNode,
                    o = i.querySelectorAll(':scope > input[name="updates[]"]');
                if (1 == o.length)
                    for (var r = 0; r < document.querySelectorAll('input[name="updates[]"]').length; r++) {
                        var a = function(t) {
                            if (document.querySelectorAll('input[name="updates[]"]')[t].isSameNode(o[0]))
                                return setTimeout(function() {
                                    o[0].addEventListener("change", function(n) {
                                        e.changeShadowVariantQty(n, {
                                            element: n.target,
                                            index: t
                                        })
                                    }, !1),
                                    c.DOMHelper.trigger("change", o[0])
                                }, 100),
                                "break"
                        }(r);
                        if ("break" === a)
                            break
                    }
            }
        }, {
            key: "updateShadowVariantQty",
            value: function() {
                var t = document.querySelectorAll('input[type="hidden"][name="updates[]"]')
                  , e = this.app.cartDoctor.getExistingShadowVariants();
                (0,
                p.default)(t, function(t) {
                    (0,
                    p.default)(e, function(e) {
                        var n = t.getAttribute("data-id");
                        e.key == n && (t.value = e.quantity,
                        t.setAttribute("value", e.quantity))
                    })
                })
            }
        }]),
        t
    }();
    e.default = v
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0)
      , r = i(o)
      , a = n(1)
      , s = i(a)
      , u = n(3)
      , l = n(183)
      , c = i(l)
      , d = n(2)
      , p = (i(d),
    n(7))
      , f = (i(p),
    n(179))
      , h = i(f)
      , v = n(204)
      , m = i(v)
      , y = function() {
        function t(e) {
            var n = this;
            (0,
            r.default)(this, t),
            this.app = e,
            this.app.settings.v1_variant_mode && !this.app.shadowVariantsSyncing && (this.syncPricedOptions = new m.default(this.app),
            this.cartDOMFixer = new h.default(this.app)),
            e.cartDoctor.getPlatformCartCount() > 0 && (e.checkoutFix(),
            this.loadCartSettings().then(function() {
                return n.addEditInCart()
            }).then(function() {
                n.app.settings.v1_variant_mode && !n.app.shadowVariantsSyncing && (n.app.shadowVariantsSyncing = !0,
                n.syncPricedOptions.syncShadowVariants().then(function() {
                    return n.syncPricedOptions.removeAnonymousVariants()
                }).then(function(t) {
                    n.cartDOMFixer.fixQuantityUpdates(),
                    n.cartDOMFixer.fixCart(t),
                    n.app.shadowVariantsSyncing = !1
                }).catch(function(t) {
                    return console.warn(t.message)
                }))
            }).catch(function(t) {
                return console.warn(t.message)
            }))
        }
        return (0,
        s.default)(t, [{
            key: "cartAdjusted",
            value: function(t, e) {
                return this.syncPricedOptions.cartAdjusted(t, e)
            }
        }, {
            key: "loadCartSettings",
            value: function() {
                var t = this;
                if (void 0 === this.app.cartSettingsRequest) {
                    var e = window.BOLD.options.path + u.ShopifyHelper.getShopUrl() + "/settings"
                      , n = u.JSHelper.windowGet("BOLD.common.cacheParams.options");
                    void 0 !== n && (e += "?tmp=" + n),
                    this.app.cartSettingsRequest = u.JSHelper.get(e).then(this.app.checkAppStatus).then(function(e) {
                        return t.storeSettings(e)
                    })
                }
                return this.app.cartSettingsRequest
            }
        }, {
            key: "storeSettings",
            value: function(t) {
                window.BOLD.options.setSettings(t.settings, !1),
                this.app.ee.emit("settings_loaded", {
                    settings: this.app.settings
                })
            }
        }, {
            key: "addEditInCart",
            value: function() {
                var t = this;
                this.app.settings.cart.enabled && "Premium" === this.app.settings.plan && this.app.onDomLoaded(function() {
                    void 0 === t.editInCart && (t.editInCart = new c.default(t.app,t.app.cartDoctor.cartHookClasses.properties)),
                    t.editInCart.init()
                })
            }
        }]),
        t
    }();
    e.default = y
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(70)
      , r = i(o)
      , a = n(4)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(3)
      , f = n(2)
      , h = i(f)
      , v = n(382)
      , m = i(v)
      , y = n(165)
      , _ = i(y)
      , g = n(33)
      , b = i(g)
      , w = n(111)
      , O = i(w)
      , k = function() {
        function t(e) {
            var n = this;
            (0,
            l.default)(this, t),
            this.app = e,
            this.maxRequestAttempts = 3,
            this.requestAttemptDelays = [0, 50, 500];
            var i = p.ShopifyHelper.getUrlPath();
            void 0 !== i[1] && "account" === i[1] || this.app.ee.on("settings_loaded", function() {
                return n.removeShadowVariants()
            }),
            window.setTimeout(function() {
                return n.pollForCheckoutButtons()
            }, 0),
            this.app.ee.onOut("BOLD_COMMON_clone_checkout_button", function(t) {
                return n.cloneButton(t, !0)
            }),
            this.handleThirdPartyCheckoutButtons()
        }
        return (0,
        d.default)(t, [{
            key: "fix",
            value: function() {
                this.cloneButtons(p.ShopifyHelper.getCheckoutButtons())
            }
        }, {
            key: "pollForCheckoutButtons",
            value: function() {
                this.fix(),
                this.app.isDomLoaded || window.setTimeout(this.pollForCheckoutButtons.bind(this), 50)
            }
        }, {
            key: "cloneButtons",
            value: function(t) {
                for (var e = 0; e < t.length; e++)
                    this.cloneButton(t[e])
            }
        }, {
            key: "cloneButton",
            value: function(t) {
                if (arguments.length > 1 && void 0 !== arguments[1] && arguments[1] || !p.DOMHelper.matchesSelectorInArray(t, this.app.settings.no_clone_selectors)) {
                    var e = p.BoldEventQueuer.cloneButton("checkout", t);
                    p.BoldEventQueuer.event("checkout", "Product Options Checkout", this.checkout.bind(this), "tier3"),
                    this.app.ee.emit("checkout_cloned", {
                        original: t,
                        clone: e,
                        queue: "checkout"
                    })
                }
            }
        }, {
            key: "handleThirdPartyCheckoutButtons",
            value: function() {
                var t = this
                  , e = ["amazon-payments-pay-button", "additional-checkout-button--paypal-express"];
                window.addEventListener("load", function(n) {
                    return window.setTimeout(function() {
                        return (0,
                        h.default)(e, function(e) {
                            return (0,
                            h.default)(document.getElementsByClassName(e), function(e) {
                                return t.app.ee.emitOut("BOLD_COMMON_clone_checkout_button", e)
                            })
                        })
                    }, 200)
                }),
                this.app.ee.onOut("BOLD_EVENTQUEUE_after_run", function(t) {
                    return "checkout" === t.queueName && "final" === t.event.type && (0,
                    h.default)(t.buttons.original.childNodes, function(t) {
                        return "function" == typeof t.click && t.click()
                    })
                })
            }
        }, {
            key: "checkout",
            value: function() {
                if (this.app.ee.emit("checking_out"),
                0 === this.app.cartDoctor.cart.items.length)
                    try {
                        this.attemptToRecoverFromEmptyCart()
                    } catch (t) {
                        this.processCheckout()
                    }
                else
                    this.processCheckout()
            }
        }, {
            key: "attemptToRecoverFromEmptyCart",
            value: function() {
                var t = this
                  , e = [{
                    name: "basic /cart.json",
                    url: "/cart.json",
                    total: 2,
                    made: 0
                }, {
                    name: "tokenfix /cart.json",
                    url: "/cart.json",
                    total: 1,
                    made: 0,
                    callFirst: function() {
                        var t = p.JSHelper.windowGet("BOLD.common.Shopify.cart")
                          , e = localStorage.getItem("_boldLastNonEmptyCartToken");
                        return void 0 !== t && t.item_count > 0 ? (document.cookie = "cart=" + t.token + ";path=/;",
                        "replaced-liquid") : e ? (document.cookie = "cart=" + e + ";path=/;",
                        "replaced") : "cancelled"
                    }
                }, {
                    name: "same-origin /cart.json",
                    url: "/cart.json",
                    total: 1,
                    made: 0,
                    credentials: "same-origin"
                }]
                  , n = function() {
                    var t = "unsure";
                    try {
                        t = localStorage.getItem("pricedOptionsAddedToCart")
                    } catch (t) {}
                    return (0,
                    m.default)(e, function(t, e) {
                        var n = e.name
                          , i = e.total
                          , o = e.made;
                        return o > 0 && t.push(n + ": " + o + "/" + i),
                        t
                    }, []).join(", ") + ", POATC: " + t + ", v" + p.JSHelper.windowGet("BOLD.options.version")
                }
                  , i = function() {
                    return (0,
                    m.default)(e, function(t, e) {
                        return t + e.total - e.made
                    }, 0) > 0
                }
                  , o = function() {
                    var t = (0,
                    b.default)(e, function(t) {
                        return t.made < t.total
                    });
                    return t.made++,
                    "function" == typeof t.callFirst && (t.name += " - " + t.callFirst()),
                    O.default.get(t.url + "?tmp=" + (new Date).getTime(), t.credentials)
                };
                new s.default(function(t, e) {
                    var n = function(n) {
                        if (void 0 !== n.items && n.items.length > 0)
                            throw t(n),
                            new Error;
                        if (!i())
                            throw e(n),
                            new Error
                    };
                    !function t() {
                        return o().then(n).then(function() {
                            return setTimeout(t, 100)
                        }).catch(function(t) {})
                    }()
                }
                ).then(function(e) {
                    t.app.cartDoctor = t.app.loadCartDoctor(e),
                    t.logCartEmptyError("REC", n()).then(function() {
                        return t.processCheckout()
                    }).catch(function() {
                        return t.processCheckout()
                    })
                }).catch(function(e) {
                    t.logCartEmptyError("ERR", n(), {
                        cart_token_from_liquid: p.JSHelper.windowGet("BOLD.common.Shopify.cart.token"),
                        empty_cart_data: e
                    }).then(function() {
                        return t.processCheckout()
                    }).catch(function() {
                        return t.processCheckout()
                    })
                })
            }
        }, {
            key: "processCheckout",
            value: function() {
                "add" === this.app.settings.checkout_mode || this.app.settings.add_builder_id ? this.add() : this.update()
            }
        }, {
            key: "update",
            value: function() {
                var t = this.app.cartDoctor.getShadowVariants();
                if (t.length > 0) {
                    var e = (0,
                    m.default)(t, function(t, e) {
                        return void 0 === t[e.id] ? t[e.id] = e.quantity : t[e.id] += e.quantity,
                        t
                    }, {});
                    this.updateRequest(e, function() {
                        return p.BoldEventQueuer.run("checkout")
                    }, function() {
                        return p.BoldEventQueuer.run("checkout")
                    })
                } else
                    p.BoldEventQueuer.run("checkout")
            }
        }, {
            key: "add",
            value: function(t) {
                this.addNext((0,
                h.default)(this.app.cartDoctor.getShadowVariants(), function(t) {
                    return {
                        variant: {
                            id: t.id,
                            quantity: t.quantity,
                            properties: p.JSHelper.withoutKeys(t.properties_all, ["_parent_line_index", "_parent_id", "_is_shadow_variant", "_qty_mode"])
                        },
                        attempts: 0
                    }
                }), t)
            }
        }, {
            key: "addNext",
            value: function(t, e) {
                var n = this;
                if (t.length > 0) {
                    var i = t.shift()
                      , o = i.variant;
                    p.ShopifyHelper.cartAdd(o.id, o.quantity, o.properties).then(function() {
                        return n.addNext(t, e)
                    }).catch(function(o) {
                        ++i.attempts < n.maxRequestAttempts ? (console.log("Add request attempt #" + i.attempts + " failed. Trying again after " + n.requestAttemptDelays[i.attempts] + "ms."),
                        window.setTimeout(function() {
                            t.unshift(i),
                            n.addNext(t, e)
                        }, n.requestAttemptDelays[i.attempts])) : n.logFrontendError(o, "add.js", addObject).then(function() {
                            n.addNext(t, e)
                        }).catch(function() {
                            n.addNext(t, e)
                        })
                    })
                } else
                    p.BoldEventQueuer.run("checkout")
            }
        }, {
            key: "removeShadowVariants",
            value: function() {
                var t = this
                  , e = this.app.cartDoctor.getShadowVariantIds()
                  , n = []
                  , i = !1;
                (0,
                h.default)(this.app.cartDoctor.rawCart.items, function(o) {
                    var r = -1 !== e.indexOf(o.id);
                    !t.app.settings.add_builder_id || o.properties && void 0 !== o.properties._boldBuilderId || (r = !1),
                    "OPTIONS_HIDDEN_PRODUCT" === o.product_type && (r = !0),
                    o.properties && void 0 !== o.properties._boldAddedFromUpsell && (r = !1),
                    r ? (n.push(0),
                    i = !0) : n.push(o.quantity)
                }),
                i && (this.addBackoutHistoryState(),
                p.DOMHelper.addCSS("html,body { display:none; }", 0),
                this.updateRequest(n, p.DOMHelper.reload, function() {
                    return p.DOMHelper.removeCSS(0)
                }))
            }
        }, {
            key: "addBackoutHistoryState",
            value: function() {
                var t = window.location.href.match(/coback=(\d+)/i);
                null !== t && void 0 !== t[1] ? window.history.pushState({}, "Backed", window.location.href.replace("coback=" + t[1], "coback=" + (parseInt(t[1]) + 1))) : -1 === window.location.href.indexOf("?") ? window.history.pushState({}, "Backed", window.location.href + "?coback=1") : window.history.pushState({}, "Backed", window.location.href + "&coback=1")
            }
        }, {
            key: "updateRequest",
            value: function(t, e, n) {
                var i = this
                  , o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                p.ShopifyHelper.cartUpdate(t).then(e).catch(function(r) {
                    ++o < i.maxRequestAttempts ? (console.log("Update request attempt #" + o + " failed. Trying again after " + i.requestAttemptDelays[o] + "ms."),
                    window.setTimeout(function() {
                        i.updateRequest(t, e, n, o)
                    }, i.requestAttemptDelays[o])) : i.logFrontendError(r, "update.js", t).then(function() {
                        "function" == typeof n && n()
                    }).catch(function() {
                        "function" == typeof n && n()
                    })
                })
            }
        }, {
            key: "logFrontendError",
            value: function(t, e, n) {
                if (void 0 !== t.response) {
                    var i = p.ShopifyHelper.getShopUrl();
                    return p.JSHelper.post(window.BOLD.options.path + i + "/frontend_error", {
                        endpoint: e,
                        status: t.response.status,
                        status_text: t.response.statusText,
                        request_data: (0,
                        r.default)(n),
                        cart_token: this.app.cartDoctor.getToken()
                    })
                }
                return s.default.resolve()
            }
        }, {
            key: "logCartEmptyError",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                return p.JSHelper.post(window.BOLD.options.path + p.ShopifyHelper.getShopUrl() + "/frontend_error", {
                    endpoint: "cart.json",
                    status: t,
                    status_text: e,
                    request_data: (0,
                    r.default)((0,
                    _.default)(O.default.getClientData(), n)),
                    cart_token: this.app.cartDoctor.getToken()
                })
            }
        }]),
        t
    }();
    e.default = k
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0)
      , r = i(o)
      , a = n(1)
      , s = i(a)
      , u = n(3)
      , l = n(167)
      , c = (i(l),
    n(2))
      , d = i(c)
      , p = function() {
        function t(e) {
            (0,
            r.default)(this, t),
            this.app = e,
            this.cspCompatibility(),
            this.roCompatibility()
        }
        return (0,
        s.default)(t, [{
            key: "roCompatibility",
            value: function() {
                var t = this;
                "product" === this.app.page ? (this.app.on("total_changed", this.updateROProductTotal, this),
                this.app.on("add_to_cart_cloned", this.cloneROButton, this)) : "cart" === this.app.page && this.app.ee.onOut("BOLD_RO_APPCOMPAT_cart_pricing_loaded", this.updateROCartTotal, this),
                this.app.ee.on("settings_loaded", function() {
                    return t.setROCheckoutMode()
                }),
                this.app.ee.on("checking_out", function() {
                    return t.setROCheckoutMode()
                }),
                window.addEventListener("load", function() {
                    return t.setROCheckoutMode()
                })
            }
        }, {
            key: "isROInstalled",
            value: function() {
                return void 0 !== window.BOLD.recurring_orders || void 0 !== u.JSHelper.windowGet("BOLD.common.Shopify.metafields.bold_rp.recurring_type")
            }
        }, {
            key: "setROCheckoutMode",
            value: function() {
                this.isROInstalled() && window.BOLD.options.setSettings({
                    checkout_mode: "add"
                })
            }
        }, {
            key: "cloneROButton",
            value: function(t) {
                if (this.isROInstalled()) {
                    var e = t.data.option_product.form.getElementsByClassName(t.data.option_product.productId + "_custom_button")[0];
                    void 0 !== e && u.BoldEventQueuer.cloneButton(t.data.queue, e)
                }
            }
        }, {
            key: "updateROProductTotal",
            value: function(t) {
                if (this.isROInstalled()) {
                    var e = t.data.option_product.form
                      , n = this.calcROMultiplier(e) * t.data.total
                      , i = e.getElementsByClassName("new_discounted_price")[0];
                    if (void 0 !== i) {
                        var o = e.getElementsByClassName("ro_options_price_add")[0];
                        void 0 === o && (o = u.DOMHelper.createElement("span", {
                            className: "ro_options_price_add"
                        }),
                        i.appendChild(o)),
                        o.innerHTML = n > 0 ? " + " + u.ShopifyHelper.displayMoney(n) : ""
                    }
                }
            }
        }, {
            key: "updateROCartTotal",
            value: function(t) {
                var e = document.getElementsByClassName(t.data.total_class);
                if (e.length > 0) {
                    var n = (100 - parseInt(t.data.recurring_discount)) / 100
                      , i = e[0].innerHTML.replace(/\D/g, "")
                      , o = parseInt(i) + this.app.cartDoctor.getCartTotalAddition() * n;
                    e[0].innerHTML = u.ShopifyHelper.displayMoney(o)
                }
            }
        }, {
            key: "calcROMultiplier",
            value: function(t) {
                var e = 1
                  , n = t.getElementsByClassName("ro_discount_percentage")[0];
                if (void 0 !== n) {
                    var i = parseFloat(n.value);
                    isNaN(i) || (e -= i / 100)
                }
                return e
            }
        }, {
            key: "cspCompatibility",
            value: function() {
                this.app.ee.onOut("BOLD_CSP_APPCOMPAT_customer_pricing_loaded", this.cspLoaded, this)
            }
        }, {
            key: "isCspInstalled",
            value: function() {
                return void 0 !== window.shappify_customer_tags
            }
        }, {
            key: "cspLoaded",
            value: function() {
                if (this.isCspInstalled()) {
                    var t = u.ShopifyHelper.whatPageAmIOn();
                    "product" === t ? this.cspSwapVariants() : "cart" === t && this.app.ee.onOut("BOLD_OPTIONS_edit_in_cart_loaded", this.cspSwapVariants, this)
                }
            }
        }, {
            key: "cspSwapVariants",
            value: function() {
                var t = {
                    customer_tags: window.shappify_customer_tags,
                    variants: []
                }
                  , e = u.ShopifyHelper.getShopUrl();
                null !== t.customer_tags && (this.app.optionProducts.map(function(e) {
                    e.optionSets.map(function(e) {
                        e.options.map(function(e) {
                            (0,
                            d.default)(e.optionValues, function(e) {
                                0 !== e.variantId && t.variants.push({
                                    product_id: e.productId,
                                    variant_id: e.variantId,
                                    price: e.originalPrice,
                                    quantity: e.qty
                                })
                            })
                        })
                    })
                }),
                u.JSHelper.post(window.BOLD.csp.path + "/v2/api/" + e + "/get_priced_option_discount", t).then(this.cspSwapOptionValues.bind(this)))
            }
        }, {
            key: "cspSwapOptionValues",
            value: function(t) {
                for (var e = 0; e < t.discounts.length; e += 1)
                    null !== t.discounts[e] && this.app.ee.emit("variant_swap_" + t.discounts[e].variant_id, t.discounts[e]);
                this.app.ee.emit("variants_swapped", t.discounts)
            }
        }]),
        t
    }();
    e.default = p
}
, function(t, e, n) {
    "use strict";
    (function(t) {
        function i(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = n(51)
          , r = i(o)
          , a = n(70)
          , s = i(a)
          , u = n(0)
          , l = i(u)
          , c = n(1)
          , d = i(c)
          , p = n(3)
          , f = n(50)
          , h = i(f)
          , v = n(114)
          , m = i(v)
          , y = n(110)
          , _ = i(y)
          , g = n(7)
          , b = i(g)
          , w = n(2)
          , O = i(w)
          , k = n(113)
          , C = i(k)
          , x = function() {
            function e(t, n) {
                (0,
                l.default)(this, e),
                this.app = t,
                this.ee = t.ee,
                this.settings = t.settings,
                this.editButtonParentClass = n,
                this.manualEditInCartClass = "bold_edit_in_cart",
                this.editContainerClass = "bold_option_edit_container",
                this.allOptions = [],
                this.current = {
                    editButton: null,
                    lineItemIndex: null,
                    lineItem: null,
                    useFormMode: t.settings.edit_in_cart_uses_form
                },
                this.isEditInCartOpen = !1,
                this.initialized = !1,
                this.loadedOptionProducts = {},
                this.saveButton = null
            }
            return (0,
            d.default)(e, [{
                key: "init",
                value: function() {
                    var t = this;
                    1 === this.settings.cart.style ? this.prepareLightboxContainer() : this.prepareInlineContainer(),
                    this.addEditButtons(),
                    this.initialized || (this.ee.on("variants_swapped", function() {
                        t.current.lineItem && t.loadState(t.current.lineItem.properties._boldOptionLocalStorageId)
                    }),
                    this.ee.on("edit_in_cart_loaded", function() {
                        return t.app.loadPolyfills()
                    }),
                    this.initialized = !0)
                }
            }, {
                key: "prepareLightboxContainer",
                value: function() {
                    var t = this;
                    if (0 === document.getElementsByClassName("bold_lightbox").length) {
                        var e = '<form class="' + this.editContainerClass + ' bold_options bold_options_edit_in_cart" action="/cart/add" method="post" enctype="multipart/form-data"></form>';
                        this.lightbox = new p.BoldLightbox(e,this.ee),
                        this.lightbox.setButtons([{
                            text: this.settings.cart.update_name,
                            class: "bold_options_lightbox_cart_edit_update_btn " + this.settings.cart.update_class,
                            action: function() {
                                return t.update()
                            }
                        }, {
                            text: this.settings.cart.cancel_name,
                            class: this.settings.cart.cancel_class,
                            action: this.lightbox.close
                        }]),
                        this.saveButton = this.lightbox.lightbox.querySelector(".bold_options_lightbox_cart_edit_update_btn");
                        var n = document.getElementsByClassName("bold_lightbox_content")[0];
                        this.lightboxTitleDOM = new h.default("cart_edit_lightbox_info",{
                            title: "",
                            price: ""
                        },n,!1),
                        this.lightboxTitleDOM.prepend(),
                        this.editContainer = n,
                        this.editInCartForm = this.editContainer.getElementsByClassName(this.editContainerClass)[0]
                    }
                }
            }, {
                key: "prepareInlineContainer",
                value: function() {
                    var t = this;
                    this.editContainer = p.DOMHelper.createElement("div", {
                        className: this.editContainerClass
                    }),
                    this.editInCartForm = p.DOMHelper.createElement("form", {
                        className: "bold_options bold_options_edit_in_cart",
                        action: "/cart/add",
                        method: "post",
                        enctype: "multipart/form-data"
                    }),
                    this.editContainer.appendChild(this.editInCartForm);
                    var e = p.DOMHelper.createElement("div");
                    this.editContainer.appendChild(e),
                    this.saveButton = p.DOMHelper.createElement("button", {
                        text: this.settings.cart.update_name,
                        type: "button",
                        className: this.settings.cart.update_class,
                        click: function() {
                            return t.update()
                        },
                        style: "margin-right: 10px;"
                    }),
                    e.appendChild(this.saveButton),
                    this.cancelButton = p.DOMHelper.createElement("button", {
                        text: this.settings.cart.cancel_name,
                        type: "button",
                        className: this.settings.cart.cancel_class,
                        click: function() {
                            return t.close()
                        }
                    }),
                    e.appendChild(this.cancelButton)
                }
            }, {
                key: "addEditButtons",
                value: function() {
                    var t = this
                      , e = document.getElementsByClassName(this.manualEditInCartClass);
                    0 === e.length && (e = p.DOMHelper.getParentElementsByClassName(this.editButtonParentClass));
                    for (var n = 0; n < e.length; n++) {
                        var i = e[n]
                          , o = this.app.cartDoctor.cart.items.length
                          , r = n % o;
                        if (void 0 !== this.app.cartDoctor.cart.items[r]) {
                            var a = void 0 !== this.app.cartDoctor.cart.items[r].properties_all ? this.app.cartDoctor.cart.items[r].properties_all : this.app.cartDoctor.cart.items[r].properties
                              , s = this.app.cartDoctor.getCartIndexMapToRawCart()
                              , u = s[r]
                              , l = p.DOMHelper.data(i, "line");
                            void 0 !== l && (r = parseInt(l) - 1);
                            var c = i.getElementsByClassName("bold_cart_edit_button");
                            if (null !== a && 0 == c.length && void 0 !== a._boldOptionLocalStorageId) {
                                var d = p.DOMHelper.createElement("button", {
                                    text: this.settings.cart.edit_name,
                                    type: "button",
                                    className: "bold_cart_edit_button " + this.settings.cart.edit_class,
                                    click: function(e) {
                                        e.stopPropagation(),
                                        t.open(e.target)
                                    }
                                });
                                p.DOMHelper.data(d, "line-id", u),
                                i.appendChild(d)
                            }
                        }
                    }
                }
            }, {
                key: "open",
                value: function(t) {
                    this.isEditInCartOpen && this.close(),
                    this.isEditInCartOpen = !0,
                    this.current.editButton = t,
                    t.style.display = "none",
                    this.current.useFormMode = this.settings.edit_in_cart_uses_form,
                    this.current.lineItemIndex = parseInt(p.DOMHelper.data(t, "line-id")),
                    this.current.lineItem = this.app.cartDoctor.rawCart.items[this.current.lineItemIndex],
                    1 === this.settings.cart.style ? (this.lightboxAddProductInfo(),
                    this.lightbox.open()) : this.current.editButton.parentNode.insertBefore(this.editContainer, t),
                    this.editInCartForm.appendChild(p.DOMHelper.createElement("input", {
                        type: "hidden",
                        name: "id",
                        value: this.current.lineItem.variant_id
                    })),
                    this.editInCartForm.appendChild(p.DOMHelper.createElement("input", {
                        type: "hidden",
                        name: "quantity",
                        value: this.current.lineItem.quantity
                    })),
                    this.editInCartForm.appendChild(p.DOMHelper.createElement("input", {
                        type: "hidden",
                        name: "product_id",
                        value: this.current.lineItem.product_id
                    })),
                    void 0 !== this.current.lineItem.properties._boldInstallTest && (this.app.optionsInstallTest = new _.default(this.app,this.current.lineItem.properties._boldInstallTest)),
                    this.loadOptions(),
                    this.ee.emit("edit_in_cart_opened", {
                        line: this.current.lineItem,
                        lineIndex: this.current.lineItemIndex,
                        container: this.editContainer,
                        option_product: this.optionProduct
                    })
                }
            }, {
                key: "close",
                value: function() {
                    this.current.editButton && (this.current.editButton.style.display = "inline-block");
                    var t = document.getElementsByClassName("bold_options_edit_in_cart")[0];
                    t && (t.innerHTML = ""),
                    0 === this.settings.cart.style && this.editContainer.parentNode && this.editContainer.parentNode.removeChild(this.editContainer),
                    this.isEditInCartOpen = !1,
                    this.ee.emit("edit_in_cart_closed", {
                        line: this.current.lineItem,
                        lineIndex: this.current.lineItemIndex,
                        container: this.editContainer,
                        option_product: this.optionProduct
                    })
                }
            }, {
                key: "loadOptions",
                value: function() {
                    this.spinner = document.createElement("div"),
                    this.spinner.className = "bold_spinner",
                    this.spinner.innerHTML = "<div></div><div></div><div></div>";
                    var t = document.getElementsByClassName("bold_options_edit_in_cart")[0];
                    t.appendChild(this.spinner);
                    var e = this.current.lineItem.product_id;
                    void 0 === this.loadedOptionProducts[e] ? (this.optionProduct = new m.default(this.app,t,t,e,!1),
                    this.loadedOptionProducts[e] = this.optionProduct,
                    this.bindEvents()) : (this.optionProduct = this.loadedOptionProducts[e],
                    this.optionProduct.reload())
                }
            }, {
                key: "bindEvents",
                value: function() {
                    var t = this;
                    this.optionProduct.ee.on("preselections_loaded", function() {
                        t.loadState(),
                        t.spinner.parentNode && t.spinner.parentNode.removeChild(t.spinner),
                        1 === t.settings.cart.style && (t.ee.onOut("BOLD_COMMON_lightbox_close", function() {
                            return t.close()
                        }),
                        t.lightbox.contentUpdated()),
                        t.app.optionProducts.push(t.optionProduct),
                        t.app.ee.emit("edit_in_cart_loaded", {
                            line: t.current.lineItem,
                            lineIndex: t.current.lineItemIndex,
                            container: t.editContainer,
                            option_product: t.optionProduct
                        })
                    }),
                    1 === this.settings.cart.style && this.optionProduct.ee.on("option_changed", this.lightbox.contentUpdated, this)
                }
            }, {
                key: "loadState",
                value: function() {
                    var t = this.current.lineItem.properties._boldOptionLocalStorageId
                      , e = localStorage.getItem(t)
                      , n = {};
                    if ("string" == typeof e) {
                        e = JSON.parse(e);
                        for (var i in e) {
                            var o = e[i];
                            for (var r in e[i])
                                if ("uf_" !== o[r].option_key.substring(0, 3))
                                    switch (r) {
                                    case "option_changed":
                                        this.optionProduct.ee.emit("option_receive_value_" + i, o[r]);
                                        break;
                                    case "priced_option_quantity_changed":
                                        n[i] = {
                                            option: i,
                                            events: o[r]
                                        }
                                    }
                        }
                        for (var a in n)
                            this.optionProduct.ee.emit("option_receive_quantity_" + n[a].option, n[a].events);
                        this.loadFileInputState()
                    }
                }
            }, {
                key: "loadFileInputState",
                value: function() {
                    var t = this;
                    (0,
                    O.default)(this.optionProduct.optionSets, function(e) {
                        (0,
                        O.default)((0,
                        b.default)(e.options, function(e) {
                            return "uploadfile" === e.type && void 0 !== t.current.lineItem.properties[e.publicName]
                        }), function(e) {
                            t.optionProduct.ee.emit("option_receive_value_" + e.getUniqueClassname(), {
                                option_key: e.getUniqueClassname(),
                                value: t.current.lineItem.properties[e.publicName]
                            })
                        })
                    })
                }
            }, {
                key: "loadAllOptions",
                value: function() {
                    var t = this;
                    (0,
                    O.default)(this.optionProduct.optionSets, function(e) {
                        var n = e.options;
                        (0,
                        O.default)(n, function(e) {
                            t.allOptions.push(e.publicName)
                        })
                    });
                    var e = this.optionProduct.priceHandler.getHiddenInputNames();
                    this.allOptions.push.apply(this.allOptions, e)
                }
            }, {
                key: "update",
                value: function() {
                    var t = this;
                    this.saveButton.disabled = !0;
                    try {
                        this.optionProduct.addToCartHandler.getValidationResults().then(function() {
                            var e = t.optionProduct.priceHandler.propertyInputs.boldBuilderId.value.split("_");
                            t.optionProduct.priceHandler.propertyInputs.boldBuilderId.value = e[0] + "_" + t.current.lineItemIndex,
                            t.optionProduct.addToCartHandler.postValidation(),
                            t.changeCartItem()
                        }).catch(function(e) {
                            console.log(e),
                            t.saveButton.disabled = !1
                        })
                    } catch (t) {
                        console.log(t),
                        this.saveButton.disabled = !1
                    }
                }
            }, {
                key: "changeCartItem",
                value: function() {
                    var t = this
                      , e = this.current.lineItem.quantity
                      , n = this.editContainer.querySelectorAll("[name^=updates]");
                    n.length > 0 && (e = n[this.current.lineItemIndex].value);
                    var i = this.makeLineItemProperties();
                    this.current.useFormMode ? (null !== this.current.lineItem.properties && (0,
                    O.default)(this.current.lineItem.properties, function(e, n) {
                        t.optionProduct.isThisYourLineProp(n) || t.editInCartForm.appendChild(p.DOMHelper.createElement("input", {
                            type: "hidden",
                            name: "properties[" + n + "]",
                            value: e
                        }))
                    }),
                    this.cartChangeById(this.current.lineItem.key, 0).then(function() {
                        t.app.settings.v1_variant_mode ? t.app.cartHandler.syncPricedOptions.removeAnonymousVariants().then(function() {
                            return t.addPricedOptions()
                        }) : t.addPricedOptions()
                    })) : this.cartChangeById(this.current.lineItem.key, e, i).then(function(e) {
                        t.ee.emit("line_item_updated", {
                            cart: e
                        }),
                        t.app.settings.v1_variant_mode ? t.app.cartHandler.syncPricedOptions.removeAnonymousVariants().then(function() {
                            return t.addPricedOptions()
                        }) : t.addPricedOptions()
                    })
                }
            }, {
                key: "cartChangeById",
                value: function(e, n) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                      , o = {
                        id: e,
                        quantity: n
                    };
                    return null !== i && (o.properties = i),
                    t("/cart/change.js", {
                        method: "post",
                        body: (0,
                        s.default)(o),
                        headers: {
                            Accept: "application/json",
                            "Content-Type": "application/json"
                        },
                        credentials: "include"
                    }).then(this.checkStatus).then(p.JSHelper.parseJSON)
                }
            }, {
                key: "makeLineItemProperties",
                value: function() {
                    var t = this;
                    this.loadAllOptions();
                    var e = (0,
                    r.default)(this.current.lineItem.properties)
                      , n = this.getSelectedOptions()
                      , i = {};
                    return (0,
                    O.default)(n, function(e) {
                        var n = t.getInputValue(t.editContainer.querySelectorAll('[name="properties[' + e.replace(/'/g, "'").replace(/"/g, '\\"') + ']"]'));
                        "" === n && "_" !== e.charAt(0) || (i[e] = n)
                    }),
                    (0,
                    O.default)(e, function(e) {
                        -1 === t.allOptions.indexOf(e) && -1 === n.indexOf(e) && (i[e] = t.current.lineItem.properties[e])
                    }),
                    i
                }
            }, {
                key: "getSelectedOptions",
                value: function() {
                    for (var t = [], e = this.editContainer.querySelectorAll("[name^=properties]"), n = 0; n < e.length; n++) {
                        var i = e[n];
                        if ("radio" !== i.type || "radio" === i.type && i.checked) {
                            var o = i.name
                              , r = o.match(/properties\[(.*)\]/);
                            t.push(r[1])
                        }
                        "file" === i.type && (this.current.useFormMode = !0)
                    }
                    return t
                }
            }, {
                key: "getInputValue",
                value: function(t) {
                    var e = t[0].value;
                    if ("radio" == t[0].type)
                        for (var n = 0; n < t.length; n++)
                            t[n].checked && (e = t[n].value);
                    return e
                }
            }, {
                key: "lightboxAddProductInfo",
                value: function() {
                    var t = {
                        title: this.current.lineItem.product_title,
                        price: p.ShopifyHelper.displayMoney(this.current.lineItem.price)
                    };
                    this.settings.cart.hide_desc || "" === this.current.lineItem.product_description || (t.description = this.current.lineItem.product_description),
                    this.settings.cart.hide_image || null === this.current.lineItem.image || (t.image_src = this.current.lineItem.image),
                    this.lightboxTitleDOM.setFields(t),
                    this.lightboxTitleDOM.refreshTemplate()
                }
            }, {
                key: "addPricedOptions",
                value: function() {
                    var t = this
                      , e = document.getElementsByClassName("bold_options_edit_in_cart")[0];
                    if (void 0 !== e.elements["properties[_boldBuilderId]"]) {
                        var n = new C.default(this.app,"cartPage");
                        n.editCartLineIndex = this.current.lineItemIndex,
                        n.addPricedOptions(e).then(function() {
                            t.submitEditInCart()
                        }).catch(function(e) {
                            console.error(e),
                            t.submitEditInCart()
                        })
                    } else
                        this.submitEditInCart()
                }
            }, {
                key: "submitEditInCart",
                value: function() {
                    this.current.useFormMode ? this.editInCartForm.submit() : this.settings.reload_after_edit_in_cart && (window.location = p.ShopifyHelper.getBaseUrl() + "/cart")
                }
            }]),
            e
        }();
        e.default = x
    }
    ).call(e, n(43))
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(3)
      , d = n(2)
      , p = i(d)
      , f = function() {
        function t(e) {
            (0,
            s.default)(this, t),
            this.app = e,
            e.ee.on("settings_loaded", this.setDefaultErrorMessages, this)
        }
        return (0,
        l.default)(t, [{
            key: "check",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                return new r.default(function(i, o) {
                    t && e ? c.ShopifyHelper.getVariantJs(t, e).then(function(t) {
                        t.inventory_management && "deny" === t.inventory_policy ? t.inventory_quantity <= 0 ? o("out of stock") : t.inventory_quantity < n ? o("not enough inventory") : i() : t.available ? i() : o("out of stock")
                    }).catch(function(n) {
                        console.warn("Error checking inventory for " + t + ":" + e),
                        o("error checking inventory")
                    }) : i()
                }
                )
            }
        }, {
            key: "checkOptionProduct",
            value: function(t) {
                var e = this;
                return new r.default(function(n, i) {
                    var o = (0,
                    p.default)(t.getActivePricedOptionValues(), function(t) {
                        return e.check(t.productHandle, t.variantId, t.getVariantQuantity()).then(function() {
                            t.option.DOM.removeError()
                        }).catch(function(n) {
                            if ("not enough inventory" === n)
                                throw t.showError(e.app.settings.display.variant_inventory_error),
                                new Error(n);
                            if ("out of stock" === n)
                                throw t.showError(e.app.settings.display.variant_available_error),
                                new Error(n)
                        })
                    });
                    r.default.all(o).then(function() {
                        return n()
                    }).catch(function() {
                        return i("out of stock")
                    })
                }
                )
            }
        }, {
            key: "setDefaultErrorMessages",
            value: function() {
                "" === this.app.settings.display.variant_available_error.trim() && (this.app.settings.display.variant_available_error = "Out of stock"),
                "" === this.app.settings.display.variant_inventory_error.trim() && (this.app.settings.display.variant_inventory_error = "Not enough inventory for the quantity selected")
            }
        }]),
        t
    }();
    e.default = f
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(36)
      , s = i(a)
      , u = n(6)
      , l = i(u)
      , c = n(0)
      , d = i(c)
      , p = n(1)
      , f = i(p)
      , h = n(10)
      , v = i(h)
      , m = n(11)
      , y = i(m)
      , _ = n(9)
      , g = i(_)
      , b = n(8)
      , w = i(b)
      , O = n(7)
      , k = i(O)
      , C = n(2)
      , x = i(C)
      , E = n(3)
      , S = n(35)
      , T = i(S)
      , D = function(t) {
        function e(t, n) {
            (0,
            d.default)(this, e),
            t.minitype = "cbm";
            var i = (0,
            v.default)(this, (e.__proto__ || (0,
            l.default)(e)).call(this, t, n));
            return i.objQty = "",
            i
        }
        return (0,
        g.default)(e, t),
        (0,
        f.default)(e, [{
            key: "createInput",
            value: function() {
                var t = this
                  , e = [];
                this.optionValues.map(function(n, i) {
                    var o = document.createElement("input");
                    o.type = "checkbox",
                    o.className = t.getUniqueClassname(),
                    o.value = n.name,
                    E.DOMHelper.data(o, "option_value_key", i),
                    n.outOfStock && (o.disabled = !0);
                    var r = {
                        optionValueTitle: n.name.replace(/\*\*([\w ]+)\*\*/gi, "<strong>$1</strong>"),
                        optionValueElement: o.outerHTML
                    };
                    n.variantId > 0 && "Premium" === t.settings.plan && (t.isPricedOption = !0,
                    t.settings.frontend.option_price_toggle && n.price > 0 && (r.optionValuePrice = E.ShopifyHelper.displayMoney(n.price)),
                    "EDITABLE" != n.quantityMode && "EDITABLE_ABSOLUTE" != n.quantityMode || (t.enableQty = !0,
                    t.objQty = new T.default(t,n.id),
                    r.optionValueQuantity = t.objQty.createInput(n.id)),
                    n.outOfStock && (r.optionValueNoStock = !0,
                    r.outOfStockMessage = t.settings.display.variant_available_error.replace("[variant-name]", n.name))),
                    n.selected && t.optionSet.registerPreselection(t, n.name, !0),
                    e.push(r)
                });
                var n = document.createElement("input");
                return n.type = "hidden",
                n.className = this.getUniqueClassnameHelper(),
                n.name = "properties[" + this.publicName + "]",
                n.value = "",
                e[e.length - 1].optionValueElement += n.outerHTML,
                e
            }
        }, {
            key: "initializeOption",
            value: function() {
                (0,
                y.default)(e.prototype.__proto__ || (0,
                l.default)(e.prototype), "initializeOption", this).call(this),
                1 == this.enableQty && this.objQty.removeAllQuantityOption(this)
            }
        }, {
            key: "deselectOption",
            value: function() {
                var t = this.getInputs();
                (0,
                x.default)(t, function(t) {
                    t.checked = !1
                })
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                var e = this;
                this.deselectOption();
                var n = this.getInputs();
                (0,
                x.default)(t, function(t) {
                    (0,
                    x.default)(n, function(n) {
                        n.value == t && (n.checked = !0,
                        e.optionSet.lastInputChanged = n,
                        e.optionChanged("received_value"))
                    })
                })
            }
        }, {
            key: "getValue",
            value: function() {
                return this.getValueArray().join(", ")
            }
        }, {
            key: "getValueArray",
            value: function() {
                var t = [];
                return t.push.apply(t, (0,
                s.default)((0,
                k.default)(this.getInputs(), function(t) {
                    return t.checked
                }).map(function(t) {
                    return t.value
                }))),
                t
            }
        }, {
            key: "optionChanged",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "condition"
                  , e = this.getValueArray();
                this.DOM.element.getElementsByClassName(this.getUniqueClassnameHelper())[0].value = e.join(", "),
                this.emitChanged(e, t)
            }
        }, {
            key: "getSelectedValues",
            value: function() {
                var t = this;
                return this.isVisible() ? (0,
                k.default)(this.getInputs(), function(t) {
                    return t.checked
                }).map(function(e) {
                    return t.optionValues[E.DOMHelper.data(e, "option_value_key")]
                }) : []
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" === t.getValue() ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(w.default);
    e.default = D
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = n(3)
      , w = n(35)
      , O = i(w)
      , k = n(112)
      , C = i(k)
      , x = n(2)
      , E = (i(x),
    function(t) {
        function e(t, n) {
            (0,
            l.default)(this, e),
            t.minitype = "cb";
            var i = (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n));
            return i.checkedValue = "",
            i.conditionCheckedValue = "checked",
            i
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                t.type = "checkbox",
                t.className = this.getUniqueClassname(),
                this.optionValues[0].variantId > 0 && "Premium" === this.settings.plan && (this.isPricedOption = !0,
                this.settings.frontend.option_price_toggle && this.optionValues[0].price > 0 && (this.fields.optionValuePrice = b.ShopifyHelper.displayMoney(this.optionValues[0].price)),
                "EDITABLE" != this.optionValues[0].quantityMode && "EDITABLE_ABSOLUTE" != this.optionValues[0].quantityMode || (this.enableQty = !0,
                this.objQty = new O.default(this,this.optionValues[0].id),
                this.fields.optionQuantity = this.objQty.createInput(this.optionValues[0].id)),
                this.optionValues[0].outOfStock && (this.fields.optionValueNoStock = !0,
                this.fields.outOfStockMessage = this.settings.display.variant_available_error.replace("[variant-name]", this.optionValues[0].name),
                t.disabled = !0)),
                this.optionValues[0].selected && this.optionSet.registerPreselection(this, this.optionValues[0].name);
                var e = document.createElement("input");
                return e.type = "hidden",
                e.className = this.getUniqueClassnameHelper(),
                e.name = "properties[" + this.publicName + "]",
                e.value = "",
                t.outerHTML + e.outerHTML
            }
        }, {
            key: "initializeOption",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "initializeOption", this).call(this),
                this.enableQty && this.objQty.removeAllQuantityOption(this)
            }
        }, {
            key: "generateOptionValues",
            value: function(t) {
                var e = this;
                return t.map(function(t) {
                    return t.name = e.publicName,
                    new C.default(t,e)
                })
            }
        }, {
            key: "deselectOption",
            value: function() {
                var t = this.getInputs()[0]
                  , e = this.DOM.element.getElementsByClassName(this.getUniqueClassnameHelper())[0];
                t && (t.checked = !1,
                t.value = ""),
                e && (e.value = ""),
                this.optionChanged("received_value")
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                if (this.deselectOption(),
                t == this.conditionCheckedValue) {
                    var e = this.getInputs()[0];
                    e && (e.checked = !0,
                    this.optionSet.lastInputChanged = e),
                    this.optionChanged("received_value")
                }
            }
        }, {
            key: "optionChanged",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "condition"
                  , e = ""
                  , n = ""
                  , i = this.getInputs()[0]
                  , o = this.DOM.element.getElementsByClassName(this.getUniqueClassnameHelper())[0];
                i && i.checked && (e = this.checkedValue,
                n = this.conditionCheckedValue),
                o && (o.value = e),
                this.emitChanged(n, t)
            }
        }, {
            key: "getSelectedValues",
            value: function() {
                return this.isVisible() && this.DOM.element.getElementsByClassName(this.getUniqueClassname())[0].checked ? this.optionValues : []
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" == t.DOM.element.getElementsByClassName(t.getUniqueClassnameHelper())[0].value ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default));
    e.default = E
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            (0,
            l.default)(this, e),
            t.minitype = "co";
            var i = (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n));
            return i.addPolyfill(),
            i
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = this.polyfillRequired() ? "text" : "color",
                t.setAttribute("value", "#ffffff"),
                t.outerHTML
            }
        }, {
            key: "addPolyfill",
            value: function() {
                this.app.addPolyfill({
                    name: "jscolor",
                    url: window.BOLD.options.polyfillPath + "jscolor.min.js",
                    isRequired: this.polyfillRequired.bind(this),
                    alreadyLoaded: this.polyfillLoaded.bind(this),
                    callback: this.polyfillBind.bind(this)
                })
            }
        }, {
            key: "show",
            value: function() {
                this.DOM.visible || ((0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "show", this).call(this),
                this.polyfillRequired() && this.polyfillLoaded() && this.polyfillBind())
            }
        }, {
            key: "polyfillLoaded",
            value: function() {
                return "function" == typeof window.jscolor
            }
        }, {
            key: "polyfillRequired",
            value: function() {
                var t = document.createElement("div");
                return t.innerHTML = '<input type="color">',
                "text" === t.firstChild.type
            }
        }, {
            key: "polyfillBind",
            value: function() {
                var t = this.getInputs();
                t.length > 0 && (t = t[0],
                t.className = t.className + " jscolor {hash:true}",
                jscolor.installByClassName("jscolor"))
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" === t.getValue() ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = function() {
        function t(e) {
            (0,
            s.default)(this, t),
            this.option_key = e.option_key,
            this.operator = e.operator,
            this.desiredValue = e.value,
            this.value = void 0
        }
        return (0,
        l.default)(t, [{
            key: "evaluate",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    var i = void 0
                      , o = void 0
                      , r = []
                      , a = t.doConversion(t.desiredValue);
                    t.value instanceof Array && t.value.length ? (r = t.multipleConvert(),
                    i = t.evaluateMultiple(r, a)) : (o = t.doConversion(t.value),
                    i = t.evaluateSingle(o, a)),
                    i ? e() : n()
                }
                )
            }
        }, {
            key: "doConversion",
            value: function(t) {
                var e = this.option_key.split("_")
                  , n = void 0
                  , i = void 0;
                return n = parseInt(t),
                i = Date.parse(t),
                "da" != e[0] || isNaN(i) ? isNaN(n) || -1 !== t.search(/\D/) ? t : n : i
            }
        }, {
            key: "evaluateSingle",
            value: function(t, e) {
                var n = void 0;
                switch (this.operator) {
                case "equal":
                    n = t == e;
                    break;
                case "not_equal":
                    n = t != e;
                    break;
                case "greater_than":
                    n = t > e;
                    break;
                case "less_than":
                    n = t < e
                }
                return n
            }
        }, {
            key: "evaluateMultiple",
            value: function(t, e) {
                var n = !1
                  , i = 0;
                for (i; i < t.length; i++)
                    if (n = this.evaluateSingle(t[i], e))
                        return n
            }
        }, {
            key: "multipleConvert",
            value: function() {
                var t = []
                  , e = 0;
                for (e; e < this.value.length; e++)
                    t[e] = this.doConversion(this.value[e]);
                return t
            }
        }]),
        t
    }();
    e.default = c
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            (0,
            l.default)(this, e),
            t.minitype = "da";
            var i = (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n));
            return i.addPolyfill(),
            i
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = this.polyfillRequired() ? "text" : "date",
                t.outerHTML
            }
        }, {
            key: "addPolyfill",
            value: function() {
                this.app.addPolyfill({
                    name: "pikaday",
                    url: window.BOLD.options.polyfillPath + "pikaday.and.moment.min.js",
                    css: window.BOLD.options.polyfillPath + "pikaday.min.css",
                    isRequired: this.polyfillRequired.bind(this),
                    alreadyLoaded: this.polyfillLoaded.bind(this),
                    callback: this.polyfillBind.bind(this)
                })
            }
        }, {
            key: "show",
            value: function() {
                this.DOM.visible || ((0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "show", this).call(this),
                this.polyfillRequired() && this.polyfillLoaded() && this.polyfillBind())
            }
        }, {
            key: "polyfillLoaded",
            value: function() {
                return "function" == typeof window.Pikaday
            }
        }, {
            key: "polyfillRequired",
            value: function() {
                if (!this.app.settings.use_native_date_picker)
                    return !0;
                var t = document.createElement("div");
                return t.innerHTML = '<input type="date">',
                "text" === t.firstChild.type
            }
        }, {
            key: "polyfillBind",
            value: function() {
                var t = this.getInputs();
                t.length > 0 && (t = t[0],
                t.type = "text",
                void 0 !== this.pickaday && this.pickaday.destroy(),
                this.pickaday = new Pikaday({
                    field: t,
                    format: "YYYY-MM-DD"
                }))
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" === t.getValue() ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(6)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(10)
      , d = i(c)
      , p = n(9)
      , f = i(p)
      , h = n(8)
      , v = i(h)
      , m = function(t) {
        function e(t, n) {
            return (0,
            s.default)(this, e),
            t.minitype = "dt",
            (0,
            d.default)(this, (e.__proto__ || (0,
            r.default)(e)).call(this, t, n))
        }
        return (0,
        f.default)(e, t),
        (0,
        l.default)(e, [{
            key: "createInput",
            value: function() {
                if ("__metadata" === this.internalName)
                    return this.optionSet.metadata = this.optionValues[0].name,
                    "";
                var t = document.createElement("span");
                return t.className = this.getUniqueClassname(),
                this.optionValues.map(function(e) {
                    t.innerHTML = e.name
                }),
                t.outerHTML
            }
        }, {
            key: "receiveValue",
            value: function(t) {}
        }, {
            key: "getValue",
            value: function() {
                return ""
            }
        }, {
            key: "getValueArray",
            value: function() {
                return []
            }
        }]),
        e
    }(v.default);
    e.default = m
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(36)
      , s = i(a)
      , u = n(6)
      , l = i(u)
      , c = n(0)
      , d = i(c)
      , p = n(1)
      , f = i(p)
      , h = n(10)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = n(7)
      , w = i(b)
      , O = n(2)
      , k = i(O)
      , C = n(3)
      , x = function(t) {
        function e(t, n) {
            return (0,
            d.default)(this, e),
            t.minitype = "ddm",
            (0,
            v.default)(this, (e.__proto__ || (0,
            l.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        f.default)(e, [{
            key: "createInput",
            value: function() {
                var t = this
                  , e = document.createElement("select");
                e.multiple = !0,
                e.className = this.getUniqueClassname(),
                this.optionValues.map(function(n, i) {
                    var o = document.createElement("option");
                    o.value = n.name,
                    C.DOMHelper.data(o, "option_value_key", i),
                    n.price > 0 && "Premium" === t.settings.plan && (t.isPricedOption = !0,
                    n.outOfStock && (o.disabled = !0,
                    C.DOMHelper.addClass(o, "bold_option_dropdown_out_of_stock"))),
                    n.selected && t.optionSet.registerPreselection(t, n.name, !0),
                    o.innerHTML = t.pricedOptionDisplay(n),
                    e.appendChild(o)
                });
                var n = document.createElement("input");
                return n.type = "hidden",
                n.className = this.getUniqueClassnameHelper(),
                n.name = "properties[" + this.publicName + "]",
                n.value = "",
                e.outerHTML + n.outerHTML
            }
        }, {
            key: "deselectOption",
            value: function() {
                var t = this.getInputs()[0]
                  , e = t.children;
                (0,
                k.default)(e, function(t) {
                    t.selected = !1
                })
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                this.deselectOption();
                var e = this.getInputs()[0]
                  , n = e.children;
                (0,
                k.default)(t, function(t) {
                    (0,
                    k.default)(n, function(e) {
                        e.value == t && (e.selected = !0)
                    })
                }),
                this.optionSet.lastInputChanged = e,
                this.optionChanged("received_value")
            }
        }, {
            key: "getValue",
            value: function() {
                return this.getValueArray().join(", ")
            }
        }, {
            key: "getValueArray",
            value: function() {
                var t = [];
                return t.push.apply(t, (0,
                s.default)((0,
                w.default)(this.getInputs()[0].children, function(t) {
                    return t.selected
                }).map(function(t) {
                    return t.value
                }))),
                t
            }
        }, {
            key: "optionChanged",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "condition"
                  , e = this.getValueArray();
                this.DOM.element.getElementsByClassName(this.getUniqueClassnameHelper())[0].value = e.join(", "),
                this.emitChanged(e, t)
            }
        }, {
            key: "pricedOptionDisplay",
            value: function(t) {
                var e = t.name;
                return this.settings.frontend.option_price_toggle && t.price > 0 && (this.isPricedOption = !0,
                e = this.settings.frontend.dropdown_price_display.replace(/{\s*option\s*}/gi, e).replace(/{\s*amount\s*}/gi, C.ShopifyHelper.displayMoney(t.price))),
                t.outOfStock && (e += " " + this.settings.display.variant_available_error.replace("[variant-name]", t.name)),
                e
            }
        }, {
            key: "getSelectedValues",
            value: function() {
                var t = this;
                return this.isVisible() ? (0,
                w.default)(this.getInputs()[0].children, function(t) {
                    return t.selected
                }).map(function(e) {
                    return t.optionValues[C.DOMHelper.data(e, "option_value_key")]
                }) : []
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" == t.DOM.element.getElementsByClassName(t.getUniqueClassnameHelper())[0].value ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = x
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = n(7)
      , w = i(b)
      , O = n(3)
      , k = n(35)
      , C = i(k)
      , x = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "dd",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = this
                  , e = document.createElement("select");
                e.name = "properties[" + this.publicName + "]",
                e.className = this.getUniqueClassname();
                var n = document.createElement("option");
                return n.innerHTML = this.dropdownEmptyValue(),
                n.value = "",
                e.appendChild(n),
                this.optionValues.map(function(n, i) {
                    var o = document.createElement("option");
                    o.value = n.name,
                    O.DOMHelper.data(o, "option_value_key", i),
                    o.innerHTML = t.pricedOptionDisplay(n),
                    n.variantId > 0 && "Premium" === t.settings.plan && (t.isPricedOption = !0,
                    "EDITABLE" != n.quantityMode && "EDITABLE_ABSOLUTE" != n.quantityMode || (t.enableQty = !0),
                    n.outOfStock && (o.disabled = !0,
                    O.DOMHelper.addClass(o, "bold_option_dropdown_out_of_stock"))),
                    n.selected && t.optionSet.registerPreselection(t, n.name),
                    e.appendChild(o)
                }),
                this.enableQty && (this.objQty = new C.default(this,0),
                this.fields.optionQuantity = this.objQty.createInput(0)),
                e.outerHTML
            }
        }, {
            key: "initializeOption",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "initializeOption", this).call(this),
                this.enableQty && this.objQty.removeAllQuantityOption(this)
            }
        }, {
            key: "getSelectedValues",
            value: function() {
                var t = [];
                if (this.isVisible()) {
                    var e = (0,
                    w.default)(this.getInputs()[0].children, function(t) {
                        return t.selected
                    })[0]
                      , n = O.DOMHelper.data(e, "option_value_key");
                    void 0 !== n && t.push(this.optionValues[n])
                }
                return t
            }
        }, {
            key: "pricedOptionDisplay",
            value: function(t) {
                var e = t.name;
                return this.settings.frontend.option_price_toggle && t.price > 0 && (this.isPricedOption = !0,
                e = this.settings.frontend.dropdown_price_display.replace(/{\s*option\s*}/gi, e).replace(/{\s*amount\s*}/i, "{amount}").replace("{amount}", O.ShopifyHelper.displayMoney(t.price))),
                t.outOfStock && (e += " " + this.settings.display.variant_available_error.replace("[variant-name]", t.name)),
                e
            }
        }, {
            key: "dropdownEmptyValue",
            value: function() {
                return void 0 !== this.settings.frontend.dropdown_empty_value && null !== this.settings.frontend.dropdown_empty_value ? this.settings.frontend.dropdown_empty_value.replace(/{\s*option\s*}/gi, this.publicName) : ""
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" === t.getValue() ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = x
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "eb",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = "email",
                t.outerHTML
            }
        }, {
            key: "bindEvents",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "bindEvents", this).call(this),
                this.getInputs()[0].addEventListener("keydown", this.onKeyDown.bind(this))
            }
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.optionProduct.addToCartHandler.submit())
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this
                  , e = /^([a-zA-Z0-9+_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/
                  , n = this.getValue().toLowerCase();
                return new r.default(function(i, o) {
                    t.isRequired && "" == n ? (t.DOM.showError(t.requiredMessage),
                    o("not valid")) : "" == n || e.test(n) ? (t.DOM.removeError(),
                    i()) : (t.DOM.showError("Not a valid email address"),
                    o("not valid"))
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "nb",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = "number",
                t.outerHTML
            }
        }, {
            key: "bindEvents",
            value: function() {
                var t = this;
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "bindEvents", this).call(this),
                this.getInputs()[0].addEventListener("keydown", this.onKeyDown.bind(this)),
                this.getInputs()[0].addEventListener("keyup", function(e) {
                    t.optionSet.lastInputChanged = e.target,
                    t.optionChanged("user")
                })
            }
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode ? (t.preventDefault(),
                this.optionProduct.addToCartHandler.submit()) : 69 === t.keyCode && t.preventDefault()
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this
                  , e = this.getValue();
                return new r.default(function(n, i) {
                    t.isRequired && "" == e ? (t.DOM.showError(t.requiredMessage),
                    i("not valid")) : "" != e && isNaN(e) ? (t.DOM.showError("Not a valid number"),
                    i("not valid")) : (t.DOM.removeError(),
                    n())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(188)
      , d = i(c)
      , p = n(2)
      , f = i(p)
      , h = n(7)
      , v = i(h)
      , m = function() {
        function t(e) {
            (0,
            s.default)(this, t),
            this.rules = (0,
            f.default)(e.rules, function(t) {
                return new d.default(t)
            }),
            this.action = e.action
        }
        return (0,
        l.default)(t, [{
            key: "evaluateRules",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    var i = (0,
                    f.default)(t.rules, function(t) {
                        return t.evaluate()
                    });
                    r.default.all(i).then(function(n) {
                        e({
                            is_met: !0,
                            action: t.action
                        })
                    }).catch(function(n) {
                        e({
                            is_met: !1,
                            action: t.action
                        })
                    })
                }
                )
            }
        }, {
            key: "optionChanged",
            value: function(t) {
                var e = this;
                return new r.default(function(n, i) {
                    var o = (0,
                    v.default)(e.rules, function(e) {
                        return e.option_key == t.data.option_key
                    });
                    o.length > 0 ? ((0,
                    f.default)(o, function(e) {
                        e.value = t.data.value
                    }),
                    n({
                        status: "render"
                    })) : n({
                        status: "skip"
                    })
                }
                )
            }
        }]),
        t
    }();
    e.default = m
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0)
      , r = i(o)
      , a = n(1)
      , s = i(a)
      , u = n(190)
      , l = i(u)
      , c = n(192)
      , d = i(c)
      , p = n(191)
      , f = i(p)
      , h = n(186)
      , v = i(h)
      , m = n(202)
      , y = i(m)
      , _ = n(201)
      , g = i(_)
      , b = n(185)
      , w = i(b)
      , O = n(197)
      , k = i(O)
      , C = n(200)
      , x = i(C)
      , E = n(203)
      , S = i(E)
      , T = n(199)
      , D = i(T)
      , M = n(187)
      , P = i(M)
      , I = n(189)
      , B = i(I)
      , L = n(194)
      , j = i(L)
      , A = n(193)
      , V = i(A)
      , q = n(198)
      , N = i(q)
      , H = function() {
        function t() {
            (0,
            r.default)(this, t)
        }
        return (0,
        s.default)(t, [{
            key: "generateOption",
            value: function(t, e) {
                switch (t.type) {
                case "displaytext":
                    return new l.default(t,e);
                case "dropdown":
                    return new d.default(t,e);
                case "dropdownmulti":
                    return new f.default(t,e);
                case "checkbox":
                    return new v.default(t,e);
                case "checkboxmulti":
                    return new w.default(t,e);
                case "email":
                    return new V.default(t,e);
                case "uploadfile":
                    return new S.default(t,e);
                case "textbox":
                    return new y.default(t,e);
                case "number":
                    return new j.default(t,e);
                case "textboxmulti":
                    return new g.default(t,e);
                case "textarea":
                    return new x.default(t,e);
                case "radio":
                    return new k.default(t,e);
                case "telephone":
                    return new D.default(t,e);
                case "color":
                    return new P.default(t,e);
                case "date":
                    return new B.default(t,e);
                case "swatch":
                case "swatch_multi":
                    return new N.default(t,e)
                }
            }
        }]),
        t
    }();
    e.default = H
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = n(7)
      , w = i(b)
      , O = n(3)
      , k = n(35)
      , C = i(k)
      , x = n(2)
      , E = (i(x),
    function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "rb",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = this
                  , e = [];
                return this.optionValues.map(function(n, i) {
                    var o = document.createElement("input");
                    o.type = "radio",
                    o.className = t.getUniqueClassname(),
                    o.name = "properties[" + t.publicName + "]",
                    o.value = n.name,
                    O.DOMHelper.data(o, "option_value_key", i),
                    n.outOfStock && (o.disabled = !0);
                    var r = {
                        optionValueTitle: n.name.replace(/\*\*([\w ]+)\*\*/gi, "<strong>$1</strong>"),
                        optionValueElement: o.outerHTML
                    };
                    n.variantId > 0 && "Premium" === t.settings.plan && (t.isPricedOption = !0,
                    t.settings.frontend.option_price_toggle && n.price > 0 && (r.optionValuePrice = O.ShopifyHelper.displayMoney(n.price)),
                    "EDITABLE" != n.quantityMode && "EDITABLE_ABSOLUTE" != n.quantityMode || (t.enableQty = !0,
                    t.objQty = new C.default(t,n.id),
                    r.optionValueQuantity = t.objQty.createInput(n.id)),
                    n.outOfStock && (r.optionValueNoStock = !0,
                    r.outOfStockMessage = t.settings.display.variant_available_error.replace("[variant-name]", n.name))),
                    e.push(r),
                    n.selected && t.optionSet.registerPreselection(t, n.name)
                }),
                e
            }
        }, {
            key: "initializeOption",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "initializeOption", this).call(this),
                this.enableQty && this.objQty.removeAllQuantityOption(this)
            }
        }, {
            key: "deselectOption",
            value: function() {
                for (var t = this.getInputs(), e = 0; e < t.length; e++) {
                    t[e].checked = !1
                }
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                this.deselectOption();
                for (var e = this.getInputs(), n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.value == t && (i.checked = !0,
                    this.optionSet.lastInputChanged = i,
                    this.optionChanged("received_value"))
                }
            }
        }, {
            key: "getValue",
            value: function() {
                var t = (0,
                w.default)(this.getInputs(), function(t) {
                    return t.checked
                });
                return t.length > 0 ? t[0].value : ""
            }
        }, {
            key: "getSelectedValues",
            value: function() {
                var t = this;
                return this.isVisible() ? (0,
                w.default)(this.DOM.element.getElementsByClassName(this.getUniqueClassname()), function(t) {
                    return t.checked
                }).map(function(e) {
                    return t.optionValues[O.DOMHelper.data(e, "option_value_key")]
                }) : []
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && 0 == t.getSelectedValues().length ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default));
    e.default = E
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(36)
      , r = i(o)
      , a = n(4)
      , s = i(a)
      , u = n(6)
      , l = i(u)
      , c = n(0)
      , d = i(c)
      , p = n(1)
      , f = i(p)
      , h = n(10)
      , v = i(h)
      , m = n(11)
      , y = i(m)
      , _ = n(9)
      , g = i(_)
      , b = n(8)
      , w = i(b)
      , O = n(3)
      , k = n(2)
      , C = i(k)
      , x = n(7)
      , E = i(x)
      , S = n(35)
      , T = i(S)
      , D = function(t) {
        function e(t, n) {
            return (0,
            d.default)(this, e),
            t.minitype = "swatch_multi" === t.type ? "swm" : "sw",
            t.type = "swatch",
            (0,
            v.default)(this, (e.__proto__ || (0,
            l.default)(e)).call(this, t, n))
        }
        return (0,
        g.default)(e, t),
        (0,
        f.default)(e, [{
            key: "getUniqueClassnameColourPicker",
            value: function() {
                return this.minitype + "_" + this.id + "_" + this.optionSet.id + "_picker"
            }
        }, {
            key: "getUniqueClassnameColourPickerValue",
            value: function() {
                return this.minitype + "_" + this.id + "_" + this.optionSet.id + "_pickerValue"
            }
        }, {
            key: "renderSwatch",
            value: function(t) {
                return (0,
                C.default)(t, function(t) {
                    var e = document.createElement("span");
                    return e.style.backgroundColor = t,
                    e
                })
            }
        }, {
            key: "renderImageSwatch",
            value: function(t) {
                var e = document.createElement("span");
                return e.style.backgroundImage = "url('" + t + "')",
                e
            }
        }, {
            key: "createInput",
            value: function() {
                var t = this
                  , e = [];
                this.optionValues.map(function(n, i) {
                    var o = document.createElement("input");
                    o.type = "checkbox",
                    o.className = t.getUniqueClassname(),
                    o.value = n.name,
                    O.DOMHelper.data(o, "option_value_key", i),
                    n.outOfStock && (o.disabled = !0);
                    var r = document.createElement("span");
                    r.className = "bold_option_value_swatch",
                    "array" === O.JSHelper.type(n.swatch) ? (0,
                    C.default)(t.renderSwatch(n.swatch), function(t) {
                        return r.appendChild(t)
                    }) : r.appendChild(t.renderImageSwatch(n.swatch));
                    var a = {
                        optionValueTitle: n.name.replace(/\*\*([\w ]+)\*\*/gi, "<strong>$1</strong>"),
                        optionValueElement: r.outerHTML + o.outerHTML
                    };
                    n.variantId > 0 && "Premium" === t.settings.plan && (t.isPricedOption = !0,
                    "EDITABLE" != n.quantityMode && "EDITABLE_ABSOLUTE" != n.quantityMode || (t.enableQty = !0,
                    t.objQty = new T.default(t,n.id),
                    a.optionQuantity = t.objQty.createInput(n.id)),
                    t.settings.frontend.option_price_toggle && n.price > 0 && (a.optionValuePrice = O.ShopifyHelper.displayMoney(n.price)),
                    n.outOfStock && (a.optionValueNoStock = !0,
                    a.outOfStockMessage = t.settings.display.variant_available_error.replace("[variant-name]", n.name))),
                    n.selected && t.optionSet.registerPreselection(t, n.name, !0),
                    e.push(a)
                });
                var n = document.createElement("input");
                return n.type = "hidden",
                n.className = this.getUniqueClassnameHelper(),
                n.name = "properties[" + this.publicName + "]",
                n.value = "",
                e[e.length - 1].optionValueElement += n.outerHTML,
                e
            }
        }, {
            key: "initializeOption",
            value: function() {
                (0,
                y.default)(e.prototype.__proto__ || (0,
                l.default)(e.prototype), "initializeOption", this).call(this),
                this.enableQty && this.objQty.removeAllQuantityOption(this)
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new s.default(function(e, n) {
                    t.isRequired && "" == t.DOM.element.getElementsByClassName(t.getUniqueClassname())[0].value ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }, {
            key: "bindEvents",
            value: function() {
                var t = this;
                (0,
                C.default)(this.getInputs(), function(e) {
                    return e.addEventListener("change", function(e) {
                        e.preventDefault();
                        var n = e.target.checked;
                        setTimeout(function() {
                            n ? ("sw" === t.minitype && (0,
                            C.default)(t.getInputs(), function(n) {
                                return n !== e.target && t.unCheckSwatch(n)
                            }),
                            t.checkSwatch(e.target)) : t.unCheckSwatch(e.target),
                            t.onDomChange(e)
                        }, 0)
                    }, !1)
                })
            }
        }, {
            key: "checkSwatch",
            value: function(t) {
                t.checked = !0,
                O.DOMHelper.addClass(t.parentElement, "bold_swatch_selected")
            }
        }, {
            key: "unCheckSwatch",
            value: function(t) {
                t.checked = !1,
                O.DOMHelper.removeClass(t.parentElement, "bold_swatch_selected")
            }
        }, {
            key: "deselectOption",
            value: function() {
                var t = this
                  , e = this.getInputs();
                (0,
                C.default)(e, function(e) {
                    t.unCheckSwatch(e)
                })
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                var e = this;
                this.deselectOption();
                var n = this.getInputs();
                (0,
                C.default)(t, function(t) {
                    (0,
                    C.default)(n, function(n) {
                        n.value == t && (n.checked = !0,
                        O.DOMHelper.addClass(n.parentElement, "bold_swatch_selected"),
                        e.optionSet.lastInputChanged = n,
                        e.optionChanged("received_value"))
                    })
                })
            }
        }, {
            key: "getValue",
            value: function() {
                return this.getValueArray().join(", ")
            }
        }, {
            key: "getValueArray",
            value: function() {
                var t = [];
                return t.push.apply(t, (0,
                r.default)((0,
                E.default)(this.getInputs(), function(t) {
                    return t.checked
                }).map(function(t) {
                    return t.value
                }))),
                t
            }
        }, {
            key: "optionChanged",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "condition"
                  , e = this.getValueArray();
                this.DOM.element.getElementsByClassName(this.getUniqueClassnameHelper())[0].value = e.join(", "),
                this.emitChanged(e, t)
            }
        }, {
            key: "getSelectedValues",
            value: function() {
                var t = this;
                return this.isVisible() ? (0,
                E.default)(this.getInputs(), function(t) {
                    return t.checked
                }).map(function(e) {
                    return t.optionValues[O.DOMHelper.data(e, "option_value_key")]
                }) : []
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new s.default(function(e, n) {
                    t.isRequired && "" === t.getValue() ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(w.default);
    e.default = D
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "tel",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = "tel",
                t.outerHTML
            }
        }, {
            key: "bindEvents",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "bindEvents", this).call(this),
                this.getInputs()[0].addEventListener("keydown", this.onKeyDown.bind(this))
            }
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.optionProduct.addToCartHandler.submit())
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this
                  , e = this.getValue();
                return new r.default(function(n, i) {
                    t.isRequired && "" == e ? (t.DOM.showError(t.requiredMessage),
                    i("not valid")) : "" != e && /[a-z]/i.test(e) ? (t.DOM.showError("Not a valid telephone number"),
                    i("not valid")) : (t.DOM.removeError(),
                    n())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "ta",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("textarea");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                this.maxSize > 0 && t.setAttribute("maxlength", this.maxSize),
                t.outerHTML
            }
        }, {
            key: "createMaxSizeDiv",
            value: function() {
                var t = document.createElement("span");
                return t.className = this.getUniqueClassname() + "_max_size",
                t.style.marginLeft = "10px",
                t.outerHTML
            }
        }, {
            key: "bindEvents",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "bindEvents", this).call(this),
                this.getInputs()[0].addEventListener("keyup", this.onKeyUp.bind(this))
            }
        }, {
            key: "onKeyUp",
            value: function(t) {
                this.maxSize > 0 && this.validateMaxSize(t.target)
            }
        }, {
            key: "validateMaxSize",
            value: function(t) {
                if (t.value = t.value.length >= this.maxSize ? t.value.substr(0, this.maxSize) : t.value,
                this.settings.display.max_length_text_display) {
                    this.DOM.element.getElementsByClassName(this.getUniqueClassname() + "_max_size")[0].innerHTML = t.value.length > 0 ? t.value.length + " | " + this.maxSize : ""
                }
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" === t.getValue() ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(36)
      , s = i(a)
      , u = n(6)
      , l = i(u)
      , c = n(0)
      , d = i(c)
      , p = n(1)
      , f = i(p)
      , h = n(10)
      , v = i(h)
      , m = n(11)
      , y = i(m)
      , _ = n(9)
      , g = i(_)
      , b = n(8)
      , w = i(b)
      , O = n(3)
      , k = n(7)
      , C = i(k)
      , x = n(167)
      , E = i(x)
      , S = n(2)
      , T = (i(S),
    function(t) {
        function e(t, n) {
            return (0,
            d.default)(this, e),
            t.minitype = "tbm",
            (0,
            v.default)(this, (e.__proto__ || (0,
            l.default)(e)).call(this, t, n))
        }
        return (0,
        g.default)(e, t),
        (0,
        f.default)(e, [{
            key: "createInput",
            value: function() {
                var t = this
                  , e = [];
                this.optionValues.map(function(n) {
                    var i = document.createElement("input");
                    i.type = "text",
                    i.className = t.getUniqueClassname(),
                    i.value = n.name,
                    O.DOMHelper.data(i, "variant_id", n.variantId),
                    O.DOMHelper.data(i, "product_handle", n.productHandle),
                    O.DOMHelper.data(i, "price", n.price),
                    e.push({
                        optionValueTitle: n.name.replace(/\*\*([\w ]+)\*\*/gi, "<strong>$1</strong>"),
                        optionValueElement: i.outerHTML
                    })
                });
                var n = document.createElement("input");
                return n.type = "hidden",
                n.className = this.getUniqueClassnameHelper(),
                n.name = "properties[" + this.publicName + "]",
                n.value = "",
                e[e.length - 1].optionValueElement += n.outerHTML,
                e
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                for (var e = this.getInputs(), n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.value = t[n],
                    this.optionSet.lastInputChanged = i,
                    this.optionChanged("received_value")
                }
            }
        }, {
            key: "bindEvents",
            value: function() {
                (0,
                y.default)(e.prototype.__proto__ || (0,
                l.default)(e.prototype), "bindEvents", this).call(this);
                for (var t = this.getInputs(), n = 0; n < t.length; n++)
                    t[n].addEventListener("keydown", this.onKeyDown.bind(this))
            }
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.optionProduct.addToCartHandler.submit())
            }
        }, {
            key: "getValue",
            value: function() {
                return (0,
                E.default)(this.getValueArray(), "").join(", ")
            }
        }, {
            key: "getValueArray",
            value: function() {
                var t = [];
                return t.push.apply(t, (0,
                s.default)((0,
                C.default)(this.getInputs(), function(t) {
                    return t
                }).map(function(t) {
                    return t.value
                }))),
                t
            }
        }, {
            key: "optionChanged",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "condition"
                  , e = this.getValueArray();
                this.DOM.element.getElementsByClassName(this.getUniqueClassnameHelper())[0].value = (0,
                E.default)(e, "").join(", "),
                this.emitChanged(e, t)
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    for (var i = !0, o = t.DOM.element.getElementsByClassName(t.getUniqueClassname()), r = 0; r < o.length; r += 1)
                        t.isRequired && "" === o[r].value ? (i = !1,
                        o[r].parentElement.previousElementSibling.className = o[r].parentElement.previousElementSibling.className.replace(" bold_option_not_error", "")) : -1 === o[r].parentElement.previousElementSibling.className.indexOf("bold_option_not_error") && (o[r].parentElement.previousElementSibling.className = o[r].parentElement.previousElementSibling.className + " bold_option_not_error");
                    t.isRequired && !i ? (o.length > 1 ? t.DOM.showError("These options are required.") : t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(w.default));
    e.default = T
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(11)
      , v = i(h)
      , m = n(9)
      , y = i(m)
      , _ = n(8)
      , g = i(_)
      , b = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "tb",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        y.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = "text",
                this.maxSize > 0 && t.setAttribute("maxlength", this.maxSize),
                t.outerHTML
            }
        }, {
            key: "createMaxSizeDiv",
            value: function() {
                var t = document.createElement("span");
                return t.className = this.getUniqueClassname() + "_max_size",
                t.style.marginLeft = "10px",
                t.outerHTML
            }
        }, {
            key: "bindEvents",
            value: function() {
                (0,
                v.default)(e.prototype.__proto__ || (0,
                s.default)(e.prototype), "bindEvents", this).call(this),
                this.getInputs()[0].addEventListener("keyup", this.onKeyUp.bind(this)),
                this.getInputs()[0].addEventListener("keydown", this.onKeyDown.bind(this))
            }
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.optionProduct.addToCartHandler.submit())
            }
        }, {
            key: "onKeyUp",
            value: function(t) {
                this.maxSize > 0 && this.validateMaxSize(t.target),
                this.optionSet.lastInputChanged = t.target,
                this.optionChanged("user")
            }
        }, {
            key: "validateMaxSize",
            value: function(t) {
                if (t.value = t.value.length >= this.maxSize ? t.value.substr(0, this.maxSize) : t.value,
                this.settings.display.max_length_text_display) {
                    this.DOM.element.getElementsByClassName(this.getUniqueClassname() + "_max_size")[0].innerHTML = t.value.length > 0 ? t.value.length + " | " + this.maxSize : ""
                }
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" == t.DOM.element.getElementsByClassName(t.getUniqueClassname())[0].value ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }]),
        e
    }(g.default);
    e.default = b
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(6)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(10)
      , f = i(p)
      , h = n(9)
      , v = i(h)
      , m = n(8)
      , y = i(m)
      , _ = n(3)
      , g = function(t) {
        function e(t, n) {
            return (0,
            l.default)(this, e),
            t.minitype = "uf",
            (0,
            f.default)(this, (e.__proto__ || (0,
            s.default)(e)).call(this, t, n))
        }
        return (0,
        v.default)(e, t),
        (0,
        d.default)(e, [{
            key: "createInput",
            value: function() {
                this.setFormEncryption();
                var t = document.createElement("input");
                return t.name = "properties[" + this.publicName + "]",
                t.className = this.getUniqueClassname(),
                t.type = "file",
                t.outerHTML
            }
        }, {
            key: "receiveValue",
            value: function(t) {
                this.uploadReview = _.DOMHelper.createElement("span", {
                    className: "bold_upload_review",
                    innerHTML: '<input type="hidden" name="properties[' + this.publicName + ']" value="' + t + '" class="' + this.getUniqueClassname() + '">\n\t\t\t\t\t\t<a href="' + t + '" target="_blank">view</a>/',
                    appendChild: _.DOMHelper.createElement("a", {
                        text: "replace",
                        href: "#",
                        click: this.showUploadReplace.bind(this)
                    })
                });
                var e = this.getInputs()[0];
                _.DOMHelper.replaceElement(e, this.uploadReview),
                this.uploadReplace = _.DOMHelper.createElement("span", {
                    className: "bold_upload_replace",
                    appendChildren: [e, document.createTextNode(" "), _.DOMHelper.createElement("a", {
                        text: "cancel",
                        href: "#",
                        click: this.showUploadReview.bind(this)
                    })]
                }),
                this.optionSet.lastInputChanged = e,
                this.optionChanged("received_value")
            }
        }, {
            key: "showUploadReview",
            value: function(t) {
                t.preventDefault(),
                _.DOMHelper.replaceElement(this.uploadReplace, this.uploadReview)
            }
        }, {
            key: "showUploadReplace",
            value: function(t) {
                t.preventDefault(),
                _.DOMHelper.replaceElement(this.uploadReview, this.uploadReplace)
            }
        }, {
            key: "validateOption",
            value: function() {
                var t = this;
                return new r.default(function(e, n) {
                    t.isRequired && "" == t.DOM.element.getElementsByClassName(t.getUniqueClassname())[0].value ? (t.DOM.showError(t.requiredMessage),
                    n("not valid")) : (t.DOM.removeError(),
                    e())
                }
                )
            }
        }, {
            key: "setFormEncryption",
            value: function() {
                this.optionProduct.form && (this.optionProduct.form.enctype = "multipart/form-data")
            }
        }]),
        e
    }(y.default);
    e.default = g
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(115)
      , r = i(o)
      , a = n(51)
      , s = i(a)
      , u = n(4)
      , l = i(u)
      , c = n(0)
      , d = i(c)
      , p = n(1)
      , f = i(p)
      , h = n(3)
      , v = n(7)
      , m = i(v)
      , y = n(2)
      , _ = i(y)
      , g = function() {
        function t(e) {
            (0,
            d.default)(this, t),
            this.app = e,
            this.fakeCartDoctor = new h.BoldCartDoctor(h.JSHelper.cloneObject(window.BOLD.common.cartDoctor.rawCart))
        }
        return (0,
        f.default)(t, [{
            key: "cartAdjusted",
            value: function(t, e) {
                var n = this;
                return this.app.cartDoctor.rawCart = t,
                this.fakeCartDoctor = new h.BoldCartDoctor(h.JSHelper.cloneObject(window.BOLD.common.cartDoctor.rawCart)),
                this.removeAnonymousVariants().then(function() {
                    n.syncShadowVariants().then(function() {
                        return "function" == typeof e && h.ShopifyHelper.getCart().then(function(t) {
                            return e(t)
                        }),
                        l.default.resolve()
                    })
                })
            }
        }, {
            key: "syncShadowVariants",
            value: function() {
                var t = this;
                return this.fakeCartDoctor.refresh(h.JSHelper.cloneObject(this.app.cartDoctor.rawCart)).then(function() {
                    var e = t.fakeCartDoctor.getShadowVariants()
                      , n = {}
                      , i = [];
                    return (0,
                    _.default)(e, function(e) {
                        var o = !1;
                        for (var r in t.fakeCartDoctor.rawCart.items) {
                            var a = t.fakeCartDoctor.rawCart.items[r];
                            if (null !== a.properties && void 0 !== a.properties._boldBuilderId && void 0 === a.properties._boldVariantIds && (o = a.variant_id == e.id && a.properties._boldBuilderId == e.properties_all._boldBuilderId)) {
                                var s = e.quantity - a.quantity;
                                e.quantity !== a.quantity && 0 !== a.quantity ? n[a.key] = e.quantity : s > 0 && s < e.quantity && (e.quantity = s,
                                i.push(e));
                                break
                            }
                        }
                        o || i.push(e)
                    }),
                    t.updateAll(n).then(function() {
                        return t.addNext((0,
                        _.default)(i, function(t) {
                            return {
                                id: t.id,
                                quantity: t.quantity,
                                properties: h.JSHelper.withoutKeys(t.properties_all, ["_parent_line_index", "_is_shadow_variant", "_parent_id", "_qty_mode", "_boldLineIndexInRawCart"])
                            }
                        }))
                    })
                })
            }
        }, {
            key: "updateAll",
            value: function(t) {
                return (0,
                s.default)(t).length > 0 ? h.ShopifyHelper.cartUpdate(t) : l.default.resolve()
            }
        }, {
            key: "updateNext",
            value: function(t) {
                var e = this;
                if (t.length > 0) {
                    var n = t.shift();
                    return h.ShopifyHelper.cartChange(n.line, n.quantity).then(function() {
                        return e.updateNext(t)
                    }).catch(function(t) {
                        console.log(t)
                    })
                }
                return l.default.resolve()
            }
        }, {
            key: "addNext",
            value: function(t) {
                var e = this;
                if (t.length > 0) {
                    var n = t.shift();
                    return h.ShopifyHelper.cartAdd(n.id, n.quantity, n.properties).then(function() {
                        return e.addNext(t)
                    }).catch(function(t) {
                        console.log(t)
                    })
                }
                return l.default.resolve()
            }
        }, {
            key: "removeAnonymousVariants",
            value: function() {
                var t = this
                  , e = "/cart.json";
                return null !== navigator.userAgent.match(/Trident|MSIE/g) && (e += "?_tmp=" + (new Date).getTime()),
                h.JSHelper.get(e, !0).then(function(e) {
                    t.app.cartDoctor.rawCart = e;
                    var n = []
                      , i = !1;
                    if ((0,
                    _.default)(e.items, function(t) {
                        if (null !== t.properties && void 0 !== t.properties._boldBuilderId && void 0 === t.properties._boldVariantIds) {
                            var o = !1
                              , a = !0
                              , s = !1
                              , u = void 0;
                            try {
                                for (var l, c = (0,
                                r.default)(e.items); !(a = (l = c.next()).done); a = !0) {
                                    var d = l.value;
                                    if (o = null !== d.properties && void 0 !== d.properties._boldBuilderId && void 0 !== d.properties._boldVariantIds && d.properties._boldBuilderId == t.properties._boldBuilderId)
                                        break
                                }
                            } catch (t) {
                                s = !0,
                                u = t
                            } finally {
                                try {
                                    !a && c.return && c.return()
                                } finally {
                                    if (s)
                                        throw u
                                }
                            }
                            o ? n.push({
                                key: t.key,
                                quantity: t.quantity
                            }) : (n.push({
                                key: t.key,
                                quantity: 0
                            }),
                            i = !0)
                        } else
                            n.push({
                                key: t.key,
                                quantity: t.quantity
                            })
                    }),
                    i) {
                        var o = (0,
                        _.default)(n, function(t) {
                            return t.quantity
                        })
                          , a = (0,
                        _.default)((0,
                        m.default)(n, function(t) {
                            return 0 == t.quantity
                        }), function(t) {
                            if (0 == t.quantity)
                                return t.key
                        });
                        return h.ShopifyHelper.cartUpdate(o).then(function() {
                            return t.app.ee.emit("anonymous_variants_removed", {
                                data: {
                                    anonymous_line_keys: a
                                }
                            }),
                            t.app.callThemeCartCallback(),
                            a
                        }).catch(function(t) {
                            console.log(t)
                        })
                    }
                })
            }
        }]),
        t
    }();
    e.default = g
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(4)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(3)
      , d = n(2)
      , p = i(d)
      , f = n(7)
      , h = i(f)
      , v = n(113)
      , m = i(v)
      , y = function() {
        function t(e) {
            (0,
            s.default)(this, t),
            this.optionProduct = e,
            this.ee = e.ee,
            this.app = e.app,
            this.settings = e.app.settings,
            this.addToCartQueue = "addToCart_" + e.eventNamespace,
            this.addToCartInProgress = !1,
            this.ee.on("options_loaded", this.init, this),
            this.app.ee.on("dom_loaded", this.cloneAddToCartButton, this)
        }
        return (0,
        l.default)(t, [{
            key: "init",
            value: function(t) {
                this.productId = t.data.product_id,
                this.cloneAddToCartButton(),
                this.preventEnterInThemeQtyField()
            }
        }, {
            key: "cloneAddToCartButton",
            value: function() {
                this.optionProduct.form && this.cloneButtons(c.ShopifyHelper.getAddProductButtons(this.optionProduct.form))
            }
        }, {
            key: "cloneButtons",
            value: function(t) {
                for (var e = 0; e < t.length; e++)
                    this.cloneButton(t[e])
            }
        }, {
            key: "cloneButton",
            value: function(t) {
                var e = this;
                if (arguments.length > 1 && void 0 !== arguments[1] && arguments[1] || !c.DOMHelper.matchesSelectorInArray(t, this.app.settings.no_clone_selectors)) {
                    var n = c.BoldEventQueuer.cloneButton(this.addToCartQueue, t);
                    c.BoldEventQueuer.validationEvent(this.addToCartQueue, "Product Options Validation", this.addToCart.bind(this)),
                    this.settings.v1_variant_mode && c.BoldEventQueuer.event(this.addToCartQueue, "Product Options Add Priced Variants", this.createPricedOptions.bind(this)),
                    this.ee.emit("add_to_cart_cloned", {
                        original: t,
                        clone: n,
                        queue: this.addToCartQueue
                    }),
                    c.BoldEventQueuer.postFinalEvent(this.addToCartQueue, "Checkout Clone Attempts", function() {
                        window.setTimeout(e.app.checkoutFix.bind(e.app), 1e3),
                        window.setTimeout(e.app.checkoutFix.bind(e.app), 4e3)
                    })
                }
            }
        }, {
            key: "createPricedOptions",
            value: function() {
                var t = this;
                if (void 0 !== this.optionProduct.form.elements["properties[_boldVariantIds]"]) {
                    new m.default(this.app).addPricedOptions(this.optionProduct.form).then(function() {
                        c.BoldEventQueuer.run(t.addToCartQueue)
                    }).catch(function(e) {
                        console.warn(e.message),
                        c.BoldEventQueuer.run(t.addToCartQueue)
                    })
                } else
                    c.BoldEventQueuer.run(this.addToCartQueue)
            }
        }, {
            key: "addToCart",
            value: function() {
                var t = this;
                this.addToCartInProgress || (this.addToCartInProgress = !0,
                this.getValidationResults().then(function() {
                    t.ee.emit("validation_passed"),
                    t.postValidation(),
                    c.BoldEventQueuer.run(t.addToCartQueue),
                    t.addToCartInProgress = !1
                }).catch(function(e) {
                    t.ee.emit("validation_failed", {
                        error: e
                    }),
                    console.log(e),
                    c.BoldEventQueuer.redo(t.addToCartQueue),
                    t.addToCartInProgress = !1
                }))
            }
        }, {
            key: "getValidationResults",
            value: function() {
                var t = [this.optionProduct.validateOptions()];
                return this.settings.display.check_inventory && t.push(this.app.inventoryHandler.checkOptionProduct(this.optionProduct)),
                r.default.all(t)
            }
        }, {
            key: "postValidation",
            value: function() {
                try {
                    localStorage.setItem("pricedOptionsAddedToCart", this.optionProduct.willAddVariants() ? "yes" : "no")
                } catch (t) {}
                this.saveEditInCartData(),
                this.addBuilderId(),
                this.removeEmptyInputs(),
                this.ee.emit("adding_to_cart")
            }
        }, {
            key: "addBuilderId",
            value: function() {
                this.optionProduct.priceHandler.propertyInputs.boldBuilderId.value = this.optionProduct.priceHandler.createHashForBuilderId()
            }
        }, {
            key: "saveEditInCartData",
            value: function() {
                if (this.settings.cart.enabled) {
                    var t = this.ee.save(this.productId);
                    t && this.addPropInput("_boldOptionLocalStorageId", t)
                }
            }
        }, {
            key: "removeEmptyInputs",
            value: function() {
                if (this.optionProduct.priceHandler.removeEmptyInputs(),
                this.settings.remove_empty_props) {
                    var t = [".bold_option_element input[type=hidden]", ".bold_option_element input[type=text]", ".bold_option_element input[type=date]", ".bold_option_element input[type=email]", ".bold_option_element input[type=number]", ".bold_option_element input[type=tel]", ".bold_option_element select", ".bold_option_element textarea"]
                      , e = document.querySelectorAll(t.join(","));
                    (0,
                    p.default)((0,
                    h.default)(e, function(t) {
                        return "" === t.value && "" !== t.name
                    }), function(t) {
                        return c.DOMHelper.remove(t)
                    })
                }
            }
        }, {
            key: "addPropInput",
            value: function(t, e) {
                var n = this.optionProduct.form.elements["properties[_boldOptionLocalStorageId]"];
                if (void 0 !== n)
                    n.value = e;
                else {
                    var i = this.optionProduct.element;
                    document.body.contains(i) || (i = this.optionProduct.form);
                    try {
                        i.appendChild(c.DOMHelper.createElement("input", {
                            type: "hidden",
                            name: "properties[" + t + "]",
                            value: e
                        }))
                    } catch (t) {
                        console.warn("Unable to create input for boldOptionLocalStorageId")
                    }
                }
            }
        }, {
            key: "submit",
            value: function() {
                var t = this.optionProduct.addToCartHandler.addToCartQueue
                  , e = c.JSHelper.windowGet("BOLD.common.eventQueues." + t + ".buttons");
                if (void 0 !== e && void 0 !== e[0] && void 0 !== e[0].clone) {
                    e[0].clone.click()
                }
            }
        }, {
            key: "preventEnterInThemeQtyField",
            value: function() {
                if (this.optionProduct.form && void 0 !== this.optionProduct.form.quantity) {
                    this.optionProduct.form.quantity.addEventListener("keydown", this.onKeyDown.bind(this))
                }
            }
        }, {
            key: "onKeyDown",
            value: function(t) {
                13 === t.keyCode && (t.preventDefault(),
                this.optionProduct.addToCartHandler.submit())
            }
        }]),
        t
    }();
    e.default = y
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(0)
      , r = i(o)
      , a = n(1)
      , s = i(a)
      , u = n(196)
      , l = i(u)
      , c = n(2)
      , d = i(c)
      , p = n(50)
      , f = i(p)
      , h = n(7)
      , v = i(h)
      , m = function() {
        function t(e, n) {
            var i = this;
            !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            (0,
            r.default)(this, t),
            this.optionProduct = e,
            this.app = e.app,
            this.id = n.id,
            this.internal_name = n.internal_name,
            this.lastInputChanged = null,
            this.preselections = {},
            this.initializeTemplate(),
            this.options = this.generateOptions(n.options),
            this.preselectionsLoaded = !1,
            this.optionProduct.ee.on("options_loaded", function() {
                i.preselectionsLoaded || ((0,
                d.default)(i.preselections, function(t) {
                    return t.option.receiveValue(t.value)
                }),
                i.optionProduct.ee.emit("preselections_loaded"),
                i.preselectionsLoaded = !0)
            })
        }
        return (0,
        s.default)(t, [{
            key: "initializeTemplate",
            value: function() {
                var t = {
                    optionSetTitle: this.internal_name
                };
                this.DOM = new f.default("optionset",t,this.optionProduct.element)
            }
        }, {
            key: "generateOptions",
            value: function(t) {
                var e = this
                  , n = new l.default;
                return null !== t ? t.map(function(t) {
                    return n.generateOption(t, e)
                }) : []
            }
        }, {
            key: "validateOptions",
            value: function() {
                return (0,
                d.default)((0,
                v.default)(this.options, function(t) {
                    return t.isVisible()
                }), function(t) {
                    return t.validateOption()
                })
            }
        }, {
            key: "reload",
            value: function() {
                this.initializeTemplate(),
                this.preselectionsLoaded = !1,
                (0,
                d.default)(this.options, function(t) {
                    return t.reload()
                })
            }
        }, {
            key: "registerPreselection",
            value: function(t, e) {
                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
                  , i = t.getUniqueClassname()
                  , o = {
                    option: t,
                    value: n ? [e] : e
                };
                void 0 !== this.preselections[i] && n ? this.preselections[i].value.push(o.value[0]) : this.preselections[i] = o
            }
        }]),
        t
    }();
    e.default = m
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(70)
      , r = i(o)
      , a = n(51)
      , s = i(a)
      , u = n(0)
      , l = i(u)
      , c = n(1)
      , d = i(c)
      , p = n(3)
      , f = n(2)
      , h = i(f)
      , v = n(33)
      , m = i(v)
      , y = function() {
        function t(e) {
            (0,
            l.default)(this, t),
            this.optionProduct = e,
            this.app = e.app,
            this.ee = new p.BoldEventEmitter(e.eventNamespace,"OPTIONS"),
            this.events = {},
            this.eventsToLog = ["option_changed", "priced_option_quantity_changed"]
        }
        return (0,
        d.default)(t, [{
            key: "on",
            value: function(t, e, n) {
                this.ee.on(t, e, n)
            }
        }, {
            key: "onOut",
            value: function(t, e, n) {
                this.ee.onOut(t, e, n)
            }
        }, {
            key: "emit",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                e.option_product = this.optionProduct,
                e.target_namespace = this.optionProduct.eventNamespace,
                this.ee.emit(t, e),
                this.log(t, e)
            }
        }, {
            key: "emitOut",
            value: function(t, e) {
                this.ee.emitOut(t, e)
            }
        }, {
            key: "removeListener",
            value: function(t) {
                this.ee.removeListener(t)
            }
        }, {
            key: "setNamespace",
            value: function(t) {
                this.ee.setNamespace(t)
            }
        }, {
            key: "log",
            value: function(t, e) {
                if (void 0 !== e && void 0 !== e.option_key && void 0 !== (0,
                m.default)(this.eventsToLog, function(e) {
                    return e == t
                })) {
                    var n = e.quantity_key ? e.quantity_key : e.option_key;
                    this.events[n] = this.events[n] || {},
                    this.events[n][t] = e
                }
            }
        }, {
            key: "save",
            value: function(t) {
                var e = this
                  , n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                  , i = (0,
                s.default)(this.events);
                i.sort();
                var o = {};
                (0,
                h.default)(i, function(t) {
                    (0,
                    h.default)(e.eventsToLog, function(n) {
                        void 0 !== e.events[t][n] && (o[t] = o[t] || {},
                        o[t][n] = e.events[t][n])
                    })
                });
                var a = (0,
                r.default)(o, function(t, e) {
                    if (!p.JSHelper.inArray(["option", "option_product", "source_input", "source"], t))
                        return e
                })
                  , u = t;
                n && (u += "_" + p.JSHelper.hashString(a));
                try {
                    localStorage.setItem(u, a)
                } catch (t) {
                    u = !1
                }
                return u
            }
        }]),
        t
    }();
    e.default = y
}
, function(t, e, n) {
    "use strict";
    function i(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }
    Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var o = n(51)
      , r = i(o)
      , a = n(0)
      , s = i(a)
      , u = n(1)
      , l = i(u)
      , c = n(106)
      , d = i(c)
      , p = n(3)
      , f = n(2)
      , h = i(f)
      , v = n(7)
      , m = i(v)
      , y = function() {
        function t(e) {
            var n = this;
            (0,
            s.default)(this, t),
            this.optionProduct = e,
            this.app = e.app,
            this.ee = e.ee,
            this.priceAdjustments = {},
            this.total = 0,
            this.propertyInputs = {
                variantNames: this.createHiddenInput("_boldVariantNames"),
                variantIds: this.createHiddenInput("_boldVariantIds"),
                productIds: this.createHiddenInput("_boldProductIds"),
                variantPrices: this.createHiddenInput("_boldVariantPrices"),
                variantQtys: this.createHiddenInput("_boldVariantQtys"),
                lineItemOneTime: this.createHiddenInput("_boldLineItemOneTime"),
                productOneTime: this.createHiddenInput("_boldProductOneTime"),
                orderOneTime: this.createHiddenInput("_boldOrderOneTime"),
                boldBuilderId: this.createHiddenInput("_boldBuilderId")
            },
            this.priceDisplayMode = "default",
            this.variantsToAdd = [],
            this.templates = {},
            this.contentsInDOM = !1,
            this.ee.on("option_changed", this.onPricedOptionChange, this),
            this.ee.onOut("BOLD_COMMON_variant_changed", this.onShopifyVariantChange, this),
            this.app.ee.on("settings_loaded", function() {
                return n.priceDisplayMode = n.app.settings.frontend.option_price_display_mode
            })
        }
        return (0,
        l.default)(t, [{
            key: "onPricedOptionChange",
            value: function(t) {
                if (t.data.is_priced_option) {
                    var e = this.total;
                    this.priceAdjustments[t.data.option_key] = t.data.option.getSelectedValues(),
                    this.update(),
                    e !== this.total && this.optionProduct.ee.emit("total_changed", {
                        old_total: e,
                        total: this.total,
                        last_option_to_update_price: {
                            option_key: t.data.option_key,
                            option: t.data.option,
                            values: t.data.values
                        }
                    })
                }
            }
        }, {
            key: "onShopifyVariantChange",
            value: function(t) {
                var e = this;
                if (void 0 !== t && void 0 !== t.variant)
                    this.optionProduct.productId === p.ShopifyHelper.getProductId(t.variant.id) && this.updateTotalElement(!0, {
                        variant: t.variant
                    });
                else {
                    var n = this.optionProduct.form.id;
                    if (n) {
                        var i = n.value
                          , o = p.ShopifyHelper.getProductHandleById(i);
                        o && p.ShopifyHelper.getVariant(o, i).then(function(t) {
                            e.optionProduct.productId === p.ShopifyHelper.getProductId(i) && e.updateTotalElement(!0, {
                                variant: t
                            })
                        })
                    }
                }
            }
        }, {
            key: "update",
            value: function() {
                var t = this
                  , e = []
                  , n = []
                  , i = []
                  , o = []
                  , a = []
                  , s = []
                  , u = []
                  , l = []
                  , c = 0
                  , d = (0,
                r.default)(this.priceAdjustments);
                d.sort();
                var p = !0;
                (0,
                h.default)(d, function(r) {
                    (0,
                    h.default)((0,
                    m.default)(t.priceAdjustments[r], function(t) {
                        return void 0 !== t && t.variantId > 0
                    }), function(t) {
                        var r = "checkbox" === t.option.type ? t.option.publicName : t.name;
                        e.push(r.replace(",", "%2C")),
                        n.push(t.variantId),
                        i.push(t.productId),
                        o.push(t.price),
                        "EDITABLE_ABSOLUTE" == t.quantityMode ? (a.push(t.qty + "*"),
                        p = !1) : a.push(t.qty),
                        "ONE_TIME_PER_LINE_ITEM" == t.quantityMode ? s.push(t.variantId) : "ONE_TIME_PER_PROD" == t.quantityMode ? u.push(t.variantId) : "ONE_TIME_PER_ORDER" == t.quantityMode && l.push(t.variantId),
                        t.qty > 1 && (p = !1),
                        c += t.price * t.qty
                    })
                }),
                this.propertyInputs.variantNames.value = e.join(","),
                this.propertyInputs.variantIds.value = n.join(","),
                this.propertyInputs.productIds.value = i.join(","),
                this.propertyInputs.variantPrices.value = o.join(","),
                this.propertyInputs.variantQtys.value = p ? "" : a.join(","),
                this.propertyInputs.lineItemOneTime.value = s.join(","),
                this.propertyInputs.productOneTime.value = u.join(","),
                this.propertyInputs.orderOneTime.value = l.join(","),
                this.propertyInputs.boldBuilderId.value = this.createHashForBuilderId(),
                this.variantsToAdd = n,
                this.total = c,
                n.length > 0 ? (this.addElements(),
                this.updateTotalElement()) : (this.removeElements(),
                this.removeTotal())
            }
        }, {
            key: "createHashForBuilderId",
            value: function() {
                var t = this.optionProduct.form.id.value;
                return (0,
                h.default)(this.optionProduct.form.querySelectorAll("[name^='properties[']"), function(e) {
                    var n = "radio" !== e.type || e.checked;
                    "properties[_boldBuilderId]" != e.name && "properties[_boldOptionLocalStorageId]" != e.name && "" != e.value && n && (t += e.name + ":" + e.value + ",")
                }),
                p.JSHelper.hashString(t)
            }
        }, {
            key: "addElements",
            value: function() {
                if (void 0 === this.DOMElement && (this.DOMElement = document.createElement("div"),
                this.DOMElement.className = "bold_option_total"),
                this.contentsInDOM)
                    for (var t in this.propertyInputs) {
                        var e = this.propertyInputs[t].getAttribute("name");
                        void 0 === this.optionProduct.form.elements[e] && this.DOMElement.appendChild(this.propertyInputs[t])
                    }
                else {
                    this.optionProduct.element.appendChild(this.DOMElement),
                    void 0 === this.DOMElementsForTotal && (this.DOMElementsForTotal = this.getTotalElements()),
                    "default" === this.priceDisplayMode && this.DOMElement.appendChild(this.DOMElementsForTotal[0]);
                    for (var n in this.propertyInputs)
                        this.DOMElement.appendChild(this.propertyInputs[n]);
                    this.contentsInDOM = !0
                }
            }
        }, {
            key: "removeElements",
            value: function() {
                this.contentsInDOM && (this.DOMElement.parentNode.removeChild(this.DOMElement),
                this.contentsInDOM = !1)
            }
        }, {
            key: "getTotalElements",
            value: function() {
                if ("default" !== this.priceDisplayMode) {
                    var t = document.getElementsByClassName(this.app.settings.frontend.option_price_display_class + " " + this.optionProduct.productId);
                    if (t.length > 0)
                        return t;
                    if (t = document.getElementsByClassName(this.app.settings.frontend.option_price_display_class),
                    t.length > 0)
                        return t
                }
                var e = void 0;
                return "disabled" !== this.priceDisplayMode ? (this.priceDisplayMode = "default",
                e = [document.createElement("div")]) : e = [],
                e
            }
        }, {
            key: "updateTotalElement",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0]
                  , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                if (null !== e && void 0 !== e.variant && (this.currentVariant = e.variant),
                void 0 !== this.DOMElementsForTotal) {
                    switch (this.priceDisplayMode) {
                    case "default":
                    case "class":
                        this.replaceWithTotal();
                        break;
                    case "addtoprice":
                        this.addTotal(t);
                        break;
                    case "appendtoprice":
                        this.appendTotal(t)
                    }
                    this.ee.emit("price_updated", {
                        element: this.DOMElementsForTotal[0],
                        elements: this.DOMElementsForTotal
                    })
                }
            }
        }, {
            key: "replaceWithTotal",
            value: function() {
                void 0 === this.totalOriginalContents && (this.totalOriginalContents = this.DOMElementsForTotal[0].innerHTML);
                var t = {
                    pre_total_text: this.app.settings.display.pre_total_text,
                    total: p.ShopifyHelper.displayMoney(this.total),
                    post_total_text: this.app.settings.display.post_total_text
                }
                  , e = this.getTemplate("priced_options_total")
                  , n = d.default.render(e, t);
                p.DOMHelper.innerHTML(this.DOMElementsForTotal, n)
            }
        }, {
            key: "addTotal",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                if (void 0 === this.totalOriginalContents || t)
                    if (void 0 === this.currentVariant) {
                        this.totalOriginalContents = this.DOMElementsForTotal[0].innerHTML;
                        var e = this.totalOriginalContents.replace(/\D/g, "")
                          , n = window.BOLD.common.Shopify.shop.money_format;
                        -1 != n.indexOf("}}0") && (e = e.slice(0, e.length - 1)),
                        -1 !== n.indexOf("amount_no_decimals") && (e += "00"),
                        e = parseInt(e),
                        isNaN(e) && (e = this.totalOriginalContents),
                        this.productPrice = e
                    } else
                        this.productPrice = this.currentVariant.price,
                        this.totalOriginalContents = p.ShopifyHelper.displayMoney(this.currentVariant.price);
                if (!isNaN(this.productPrice)) {
                    var i = {
                        product_price_with_total: p.ShopifyHelper.displayMoney(this.productPrice + this.total)
                    }
                      , o = this.getTemplate("priced_options_addtoprice")
                      , r = d.default.render(o, i);
                    p.DOMHelper.innerHTML(this.DOMElementsForTotal, r)
                }
            }
        }, {
            key: "appendTotal",
            value: function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                (void 0 === this.totalOriginalContents || t) && (void 0 === this.currentVariant ? this.totalOriginalContents = this.DOMElementsForTotal[0].innerHTML : this.totalOriginalContents = p.ShopifyHelper.displayMoney(this.currentVariant.price));
                var e = {
                    product_price: this.totalOriginalContents,
                    total: p.ShopifyHelper.displayMoney(this.total)
                }
                  , n = this.getTemplate("priced_options_appendtoprice")
                  , i = d.default.render(n, e);
                p.DOMHelper.innerHTML(this.DOMElementsForTotal, i)
            }
        }, {
            key: "removeTotal",
            value: function() {
                void 0 !== this.totalOriginalContents && p.DOMHelper.innerHTML(this.DOMElementsForTotal, this.totalOriginalContents)
            }
        }, {
            key: "removeEmptyInputs",
            value: function() {
                for (var t in this.propertyInputs)
                    if ("" === this.propertyInputs[t].value) {
                        var e = this.propertyInputs[t].parentNode;
                        e && e.removeChild(this.propertyInputs[t])
                    }
            }
        }, {
            key: "getTemplate",
            value: function(t) {
                if (void 0 === this.templates[t]) {
                    var e = window.BOLD.options.templates[t];
                    d.default.parse(e),
                    this.templates[t] = e
                }
                return this.templates[t]
            }
        }, {
            key: "createHiddenInput",
            value: function(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                  , n = document.createElement("input");
                return n.type = "hidden",
                n.name = "properties[" + t + "]",
                p.DOMHelper.data(n, "property-name", t),
                n.value = e,
                n
            }
        }, {
            key: "getHiddenInputNames",
            value: function() {
                var t = [];
                for (var e in this.propertyInputs)
                    t.push(p.DOMHelper.data(this.propertyInputs[e], "property-name"));
                return t
            }
        }, {
            key: "reload",
            value: function() {
                this.contentsInDOM = !1,
                this.update()
            }
        }]),
        t
    }();
    e.default = y
}
, function(t, e, n) {
    "use strict";
    var i = n(3)
      , o = n(168)
      , r = function(t) {
        return t && t.__esModule ? t : {
            default: t
        }
    }(o);
    window.BOLD = window.BOLD || {},
    window.BOLD.options = window.BOLD.options || {},
    window.BOLD.csp = window.BOLD.csp || {},
    n(169),
    n(170),
    window.BOLD.options.version = "2.15.20",
    window.BOLD.options.path = {
        path: "https://options.shopapps.site/v2/",
        polyfillPath: "https://options.shopapps.site/js/polyfills/",
        csp_path: "https://csp.boldapps.net"
    }.path,
    window.BOLD.options.polyfillPath = {
        path: "https://options.shopapps.site/v2/",
        polyfillPath: "https://options.shopapps.site/js/polyfills/",
        csp_path: "https://csp.boldapps.net"
    }.polyfillPath,
    window.BOLD.csp.path = window.BOLD.csp.path || {
        path: "https://options.shopapps.site/v2/",
        polyfillPath: "https://options.shopapps.site/js/polyfills/",
        csp_path: "https://csp.boldapps.net"
    }.csp_path,
    void 0 === window.BOLD.common ? console.error("BOLD.common not found. snippets/bold-common.liquid does not exist or is not included.") : (i.BoldHelpers.load(),
    new r.default)
}
, function(t, e, n) {
    t.exports = {
        default: n(217),
        __esModule: !0
    }
}
, function(t, e, n) {
    t.exports = {
        default: n(220),
        __esModule: !0
    }
}
, function(t, e, n) {
    t.exports = {
        default: n(221),
        __esModule: !0
    }
}
, function(t, e, n) {
    t.exports = {
        default: n(222),
        __esModule: !0
    }
}
, function(t, e, n) {
    t.exports = {
        default: n(225),
        __esModule: !0
    }
}
, function(t, e, n) {
    t.exports = {
        default: n(227),
        __esModule: !0
    }
}
, function(t, e, n) {
    t.exports = {
        default: n(228),
        __esModule: !0
    }
}
, function(t, e, n) {
    n(56),
    n(251),
    t.exports = n(5).Array.from
}
, function(t, e, n) {
    n(87),
    n(56),
    t.exports = n(250)
}
, function(t, e, n) {
    var i = n(5)
      , o = i.JSON || (i.JSON = {
        stringify: JSON.stringify
    });
    t.exports = function(t) {
        return o.stringify.apply(o, arguments)
    }
}
, function(t, e, n) {
    n(253);
    var i = n(5).Object;
    t.exports = function(t, e) {
        return i.create(t, e)
    }
}
, function(t, e, n) {
    n(254);
    var i = n(5).Object;
    t.exports = function(t, e, n) {
        return i.defineProperty(t, e, n)
    }
}
, function(t, e, n) {
    n(255);
    var i = n(5).Object;
    t.exports = function(t, e) {
        return i.getOwnPropertyDescriptor(t, e)
    }
}
, function(t, e, n) {
    n(256),
    t.exports = n(5).Object.getPrototypeOf
}
, function(t, e, n) {
    n(257),
    t.exports = n(5).Object.keys
}
, function(t, e, n) {
    n(258),
    t.exports = n(5).Object.setPrototypeOf
}
, function(t, e, n) {
    n(133),
    n(56),
    n(87),
    n(259),
    n(261),
    n(262),
    t.exports = n(5).Promise
}
, function(t, e, n) {
    n(260),
    n(133),
    n(263),
    n(264),
    t.exports = n(5).Symbol
}
, function(t, e, n) {
    n(56),
    n(87),
    t.exports = n(85).f("iterator")
}
, function(t, e) {
    t.exports = function() {}
}
, function(t, e) {
    t.exports = function(t, e, n, i) {
        if (!(t instanceof e) || void 0 !== i && i in t)
            throw TypeError(n + ": incorrect invocation!");
        return t
    }
}
, function(t, e, n) {
    var i = n(26)
      , o = n(82)
      , r = n(248);
    t.exports = function(t) {
        return function(e, n, a) {
            var s, u = i(e), l = o(u.length), c = r(a, l);
            if (t && n != n) {
                for (; l > c; )
                    if ((s = u[c++]) != s)
                        return !0
            } else
                for (; l > c; c++)
                    if ((t || c in u) && u[c] === n)
                        return t || c || 0;
            return !t && -1
        }
    }
}
, function(t, e, n) {
    "use strict";
    var i = n(19)
      , o = n(41);
    t.exports = function(t, e, n) {
        e in t ? i.f(t, e, o(0, n)) : t[e] = n
    }
}
, function(t, e, n) {
    var i = n(53)
      , o = n(125)
      , r = n(77);
    t.exports = function(t) {
        var e = i(t)
          , n = o.f;
        if (n)
            for (var a, s = n(t), u = r.f, l = 0; s.length > l; )
                u.call(t, a = s[l++]) && e.push(a);
        return e
    }
}
, function(t, e, n) {
    var i = n(29)
      , o = n(121)
      , r = n(120)
      , a = n(15)
      , s = n(82)
      , u = n(86)
      , l = {}
      , c = {}
      , e = t.exports = function(t, e, n, d, p) {
        var f, h, v, m, y = p ? function() {
            return t
        }
        : u(t), _ = i(n, d, e ? 2 : 1), g = 0;
        if ("function" != typeof y)
            throw TypeError(t + " is not iterable!");
        if (r(y)) {
            for (f = s(t.length); f > g; g++)
                if ((m = e ? _(a(h = t[g])[0], h[1]) : _(t[g])) === l || m === c)
                    return m
        } else
            for (v = y.call(t); !(h = v.next()).done; )
                if ((m = o(v, _, h.value, e)) === l || m === c)
                    return m
    }
    ;
    e.BREAK = l,
    e.RETURN = c
}
, function(t, e) {
    t.exports = function(t, e, n) {
        var i = void 0 === n;
        switch (e.length) {
        case 0:
            return i ? t() : t.call(n);
        case 1:
            return i ? t(e[0]) : t.call(n, e[0]);
        case 2:
            return i ? t(e[0], e[1]) : t.call(n, e[0], e[1]);
        case 3:
            return i ? t(e[0], e[1], e[2]) : t.call(n, e[0], e[1], e[2]);
        case 4:
            return i ? t(e[0], e[1], e[2], e[3]) : t.call(n, e[0], e[1], e[2], e[3])
        }
        return t.apply(n, e)
    }
}
, function(t, e, n) {
    var i = n(37);
    t.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
        return "String" == i(t) ? t.split("") : Object(t)
    }
}
, function(t, e, n) {
    var i = n(37);
    t.exports = Array.isArray || function(t) {
        return "Array" == i(t)
    }
}
, function(t, e, n) {
    "use strict";
    var i = n(75)
      , o = n(41)
      , r = n(54)
      , a = {};
    n(25)(a, n(14)("iterator"), function() {
        return this
    }),
    t.exports = function(t, e, n) {
        t.prototype = i(a, {
            next: o(1, n)
        }),
        r(t, e + " Iterator")
    }
}
, function(t, e) {
    t.exports = function(t, e) {
        return {
            value: e,
            done: !!t
        }
    }
}
, function(t, e, n) {
    var i = n(55)("meta")
      , o = n(23)
      , r = n(24)
      , a = n(19).f
      , s = 0
      , u = Object.isExtensible || function() {
        return !0
    }
      , l = !n(38)(function() {
        return u(Object.preventExtensions({}))
    })
      , c = function(t) {
        a(t, i, {
            value: {
                i: "O" + ++s,
                w: {}
            }
        })
    }
      , d = function(t, e) {
        if (!o(t))
            return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
        if (!r(t, i)) {
            if (!u(t))
                return "F";
            if (!e)
                return "E";
            c(t)
        }
        return t[i].i
    }
      , p = function(t, e) {
        if (!r(t, i)) {
            if (!u(t))
                return !0;
            if (!e)
                return !1;
            c(t)
        }
        return t[i].w
    }
      , f = function(t) {
        return l && h.NEED && u(t) && !r(t, i) && c(t),
        t
    }
      , h = t.exports = {
        KEY: i,
        NEED: !1,
        fastKey: d,
        getWeak: p,
        onFreeze: f
    }
}
, function(t, e, n) {
    var i = n(12)
      , o = n(132).set
      , r = i.MutationObserver || i.WebKitMutationObserver
      , a = i.process
      , s = i.Promise
      , u = "process" == n(37)(a);
    t.exports = function() {
        var t, e, n, l = function() {
            var i, o;
            for (u && (i = a.domain) && i.exit(); t; ) {
                o = t.fn,
                t = t.next;
                try {
                    o()
                } catch (i) {
                    throw t ? n() : e = void 0,
                    i
                }
            }
            e = void 0,
            i && i.enter()
        };
        if (u)
            n = function() {
                a.nextTick(l)
            }
            ;
        else if (!r || i.navigator && i.navigator.standalone)
            if (s && s.resolve) {
                var c = s.resolve(void 0);
                n = function() {
                    c.then(l)
                }
            } else
                n = function() {
                    o.call(i, l)
                }
                ;
        else {
            var d = !0
              , p = document.createTextNode("");
            new r(l).observe(p, {
                characterData: !0
            }),
            n = function() {
                p.data = d = !d
            }
        }
        return function(i) {
            var o = {
                fn: i,
                next: void 0
            };
            e && (e.next = o),
            t || (t = o,
            n()),
            e = o
        }
    }
}
, function(t, e, n) {
    var i = n(19)
      , o = n(15)
      , r = n(53);
    t.exports = n(22) ? Object.defineProperties : function(t, e) {
        o(t);
        for (var n, a = r(e), s = a.length, u = 0; s > u; )
            i.f(t, n = a[u++], e[n]);
        return t
    }
}
, function(t, e, n) {
    var i = n(26)
      , o = n(124).f
      , r = {}.toString
      , a = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []
      , s = function(t) {
        try {
            return o(t)
        } catch (t) {
            return a.slice()
        }
    };
    t.exports.f = function(t) {
        return a && "[object Window]" == r.call(t) ? s(t) : o(i(t))
    }
}
, function(t, e, n) {
    var i = n(25);
    t.exports = function(t, e, n) {
        for (var o in e)
            n && t[o] ? t[o] = e[o] : i(t, o, e[o]);
        return t
    }
}
, function(t, e, n) {
    var i = n(23)
      , o = n(15)
      , r = function(t, e) {
        if (o(t),
        !i(e) && null !== e)
            throw TypeError(e + ": can't set as prototype!")
    };
    t.exports = {
        set: Object.setPrototypeOf || ("__proto__"in {} ? function(t, e, i) {
            try {
                i = n(29)(Function.call, n(76).f(Object.prototype, "__proto__").set, 2),
                i(t, []),
                e = !(t instanceof Array)
            } catch (t) {
                e = !0
            }
            return function(t, n) {
                return r(t, n),
                e ? t.__proto__ = n : i(t, n),
                t
            }
        }({}, !1) : void 0),
        check: r
    }
}
, function(t, e, n) {
    "use strict";
    var i = n(12)
      , o = n(5)
      , r = n(19)
      , a = n(22)
      , s = n(14)("species");
    t.exports = function(t) {
        var e = "function" == typeof o[t] ? o[t] : i[t];
        a && e && !e[s] && r.f(e, s, {
            configurable: !0,
            get: function() {
                return this
            }
        })
    }
}
, function(t, e, n) {
    var i = n(81)
      , o = n(71);
    t.exports = function(t) {
        return function(e, n) {
            var r, a, s = String(o(e)), u = i(n), l = s.length;
            return u < 0 || u >= l ? t ? "" : void 0 : (r = s.charCodeAt(u),
            r < 55296 || r > 56319 || u + 1 === l || (a = s.charCodeAt(u + 1)) < 56320 || a > 57343 ? t ? s.charAt(u) : r : t ? s.slice(u, u + 2) : a - 56320 + (r - 55296 << 10) + 65536)
        }
    }
}
, function(t, e, n) {
    var i = n(81)
      , o = Math.max
      , r = Math.min;
    t.exports = function(t, e) {
        return t = i(t),
        t < 0 ? o(t + e, 0) : r(t, e)
    }
}
, function(t, e, n) {
    var i = n(12)
      , o = i.navigator;
    t.exports = o && o.userAgent || ""
}
, function(t, e, n) {
    var i = n(15)
      , o = n(86);
    t.exports = n(5).getIterator = function(t) {
        var e = o(t);
        if ("function" != typeof e)
            throw TypeError(t + " is not iterable!");
        return i(e.call(t))
    }
}
, function(t, e, n) {
    "use strict";
    var i = n(29)
      , o = n(16)
      , r = n(42)
      , a = n(121)
      , s = n(120)
      , u = n(82)
      , l = n(232)
      , c = n(86);
    o(o.S + o.F * !n(123)(function(t) {
        Array.from(t)
    }), "Array", {
        from: function(t) {
            var e, n, o, d, p = r(t), f = "function" == typeof this ? this : Array, h = arguments.length, v = h > 1 ? arguments[1] : void 0, m = void 0 !== v, y = 0, _ = c(p);
            if (m && (v = i(v, h > 2 ? arguments[2] : void 0, 2)),
            void 0 == _ || f == Array && s(_))
                for (e = u(p.length),
                n = new f(e); e > y; y++)
                    l(n, y, m ? v(p[y], y) : p[y]);
            else
                for (d = _.call(p),
                n = new f; !(o = d.next()).done; y++)
                    l(n, y, m ? a(d, v, [o.value, y], !0) : o.value);
            return n.length = y,
            n
        }
    })
}
, function(t, e, n) {
    "use strict";
    var i = n(229)
      , o = n(239)
      , r = n(39)
      , a = n(26);
    t.exports = n(122)(Array, "Array", function(t, e) {
        this._t = a(t),
        this._i = 0,
        this._k = e
    }, function() {
        var t = this._t
          , e = this._k
          , n = this._i++;
        return !t || n >= t.length ? (this._t = void 0,
        o(1)) : "keys" == e ? o(0, n) : "values" == e ? o(0, t[n]) : o(0, [n, t[n]])
    }, "values"),
    r.Arguments = r.Array,
    i("keys"),
    i("values"),
    i("entries")
}
, function(t, e, n) {
    var i = n(16);
    i(i.S, "Object", {
        create: n(75)
    })
}
, function(t, e, n) {
    var i = n(16);
    i(i.S + i.F * !n(22), "Object", {
        defineProperty: n(19).f
    })
}
, function(t, e, n) {
    var i = n(26)
      , o = n(76).f;
    n(78)("getOwnPropertyDescriptor", function() {
        return function(t, e) {
            return o(i(t), e)
        }
    })
}
, function(t, e, n) {
    var i = n(42)
      , o = n(126);
    n(78)("getPrototypeOf", function() {
        return function(t) {
            return o(i(t))
        }
    })
}
, function(t, e, n) {
    var i = n(42)
      , o = n(53);
    n(78)("keys", function() {
        return function(t) {
            return o(i(t))
        }
    })
}
, function(t, e, n) {
    var i = n(16);
    i(i.S, "Object", {
        setPrototypeOf: n(245).set
    })
}
, function(t, e, n) {
    "use strict";
    var i, o, r, a, s = n(40), u = n(12), l = n(29), c = n(117), d = n(16), p = n(23), f = n(52), h = n(230), v = n(234), m = n(131), y = n(132).set, _ = n(241)(), g = n(74), b = n(128), w = n(249), O = n(129), k = u.TypeError, C = u.process, x = C && C.versions, E = x && x.v8 || "", S = u.Promise, T = "process" == c(C), D = function() {}, M = o = g.f, P = !!function() {
        try {
            var t = S.resolve(1)
              , e = (t.constructor = {})[n(14)("species")] = function(t) {
                t(D, D)
            }
            ;
            return (T || "function" == typeof PromiseRejectionEvent) && t.then(D)instanceof e && 0 !== E.indexOf("6.6") && -1 === w.indexOf("Chrome/66")
        } catch (t) {}
    }(), I = function(t) {
        var e;
        return !(!p(t) || "function" != typeof (e = t.then)) && e
    }, B = function(t, e) {
        if (!t._n) {
            t._n = !0;
            var n = t._c;
            _(function() {
                for (var i = t._v, o = 1 == t._s, r = 0; n.length > r; )
                    !function(e) {
                        var n, r, a, s = o ? e.ok : e.fail, u = e.resolve, l = e.reject, c = e.domain;
                        try {
                            s ? (o || (2 == t._h && A(t),
                            t._h = 1),
                            !0 === s ? n = i : (c && c.enter(),
                            n = s(i),
                            c && (c.exit(),
                            a = !0)),
                            n === e.promise ? l(k("Promise-chain cycle")) : (r = I(n)) ? r.call(n, u, l) : u(n)) : l(i)
                        } catch (t) {
                            c && !a && c.exit(),
                            l(t)
                        }
                    }(n[r++]);
                t._c = [],
                t._n = !1,
                e && !t._h && L(t)
            })
        }
    }, L = function(t) {
        y.call(u, function() {
            var e, n, i, o = t._v, r = j(t);
            if (r && (e = b(function() {
                T ? C.emit("unhandledRejection", o, t) : (n = u.onunhandledrejection) ? n({
                    promise: t,
                    reason: o
                }) : (i = u.console) && i.error && i.error("Unhandled promise rejection", o)
            }),
            t._h = T || j(t) ? 2 : 1),
            t._a = void 0,
            r && e.e)
                throw e.v
        })
    }, j = function(t) {
        return 1 !== t._h && 0 === (t._a || t._c).length
    }, A = function(t) {
        y.call(u, function() {
            var e;
            T ? C.emit("rejectionHandled", t) : (e = u.onrejectionhandled) && e({
                promise: t,
                reason: t._v
            })
        })
    }, V = function(t) {
        var e = this;
        e._d || (e._d = !0,
        e = e._w || e,
        e._v = t,
        e._s = 2,
        e._a || (e._a = e._c.slice()),
        B(e, !0))
    }, q = function(t) {
        var e, n = this;
        if (!n._d) {
            n._d = !0,
            n = n._w || n;
            try {
                if (n === t)
                    throw k("Promise can't be resolved itself");
                (e = I(t)) ? _(function() {
                    var i = {
                        _w: n,
                        _d: !1
                    };
                    try {
                        e.call(t, l(q, i, 1), l(V, i, 1))
                    } catch (t) {
                        V.call(i, t)
                    }
                }) : (n._v = t,
                n._s = 1,
                B(n, !1))
            } catch (t) {
                V.call({
                    _w: n,
                    _d: !1
                }, t)
            }
        }
    };
    P || (S = function(t) {
        h(this, S, "Promise", "_h"),
        f(t),
        i.call(this);
        try {
            t(l(q, this, 1), l(V, this, 1))
        } catch (t) {
            V.call(this, t)
        }
    }
    ,
    i = function(t) {
        this._c = [],
        this._a = void 0,
        this._s = 0,
        this._d = !1,
        this._v = void 0,
        this._h = 0,
        this._n = !1
    }
    ,
    i.prototype = n(244)(S.prototype, {
        then: function(t, e) {
            var n = M(m(this, S));
            return n.ok = "function" != typeof t || t,
            n.fail = "function" == typeof e && e,
            n.domain = T ? C.domain : void 0,
            this._c.push(n),
            this._a && this._a.push(n),
            this._s && B(this, !1),
            n.promise
        },
        catch: function(t) {
            return this.then(void 0, t)
        }
    }),
    r = function() {
        var t = new i;
        this.promise = t,
        this.resolve = l(q, t, 1),
        this.reject = l(V, t, 1)
    }
    ,
    g.f = M = function(t) {
        return t === S || t === a ? new r(t) : o(t)
    }
    ),
    d(d.G + d.W + d.F * !P, {
        Promise: S
    }),
    n(54)(S, "Promise"),
    n(246)("Promise"),
    a = n(5).Promise,
    d(d.S + d.F * !P, "Promise", {
        reject: function(t) {
            var e = M(this);
            return (0,
            e.reject)(t),
            e.promise
        }
    }),
    d(d.S + d.F * (s || !P), "Promise", {
        resolve: function(t) {
            return O(s && this === a ? S : this, t)
        }
    }),
    d(d.S + d.F * !(P && n(123)(function(t) {
        S.all(t).catch(D)
    })), "Promise", {
        all: function(t) {
            var e = this
              , n = M(e)
              , i = n.resolve
              , o = n.reject
              , r = b(function() {
                var n = []
                  , r = 0
                  , a = 1;
                v(t, !1, function(t) {
                    var s = r++
                      , u = !1;
                    n.push(void 0),
                    a++,
                    e.resolve(t).then(function(t) {
                        u || (u = !0,
                        n[s] = t,
                        --a || i(n))
                    }, o)
                }),
                --a || i(n)
            });
            return r.e && o(r.v),
            n.promise
        },
        race: function(t) {
            var e = this
              , n = M(e)
              , i = n.reject
              , o = b(function() {
                v(t, !1, function(t) {
                    e.resolve(t).then(n.resolve, i)
                })
            });
            return o.e && i(o.v),
            n.promise
        }
    })
}
, function(t, e, n) {
    "use strict";
    var i = n(12)
      , o = n(24)
      , r = n(22)
      , a = n(16)
      , s = n(130)
      , u = n(240).KEY
      , l = n(38)
      , c = n(80)
      , d = n(54)
      , p = n(55)
      , f = n(14)
      , h = n(85)
      , v = n(84)
      , m = n(233)
      , y = n(237)
      , _ = n(15)
      , g = n(23)
      , b = n(42)
      , w = n(26)
      , O = n(83)
      , k = n(41)
      , C = n(75)
      , x = n(243)
      , E = n(76)
      , S = n(125)
      , T = n(19)
      , D = n(53)
      , M = E.f
      , P = T.f
      , I = x.f
      , B = i.Symbol
      , L = i.JSON
      , j = L && L.stringify
      , A = f("_hidden")
      , V = f("toPrimitive")
      , q = {}.propertyIsEnumerable
      , N = c("symbol-registry")
      , H = c("symbols")
      , F = c("op-symbols")
      , R = Object.prototype
      , U = "function" == typeof B && !!S.f
      , Q = i.QObject
      , z = !Q || !Q.prototype || !Q.prototype.findChild
      , J = r && l(function() {
        return 7 != C(P({}, "a", {
            get: function() {
                return P(this, "a", {
                    value: 7
                }).a
            }
        })).a
    }) ? function(t, e, n) {
        var i = M(R, e);
        i && delete R[e],
        P(t, e, n),
        i && t !== R && P(R, e, i)
    }
    : P
      , G = function(t) {
        var e = H[t] = C(B.prototype);
        return e._k = t,
        e
    }
      , K = U && "symbol" == typeof B.iterator ? function(t) {
        return "symbol" == typeof t
    }
    : function(t) {
        return t instanceof B
    }
      , W = function(t, e, n) {
        return t === R && W(F, e, n),
        _(t),
        e = O(e, !0),
        _(n),
        o(H, e) ? (n.enumerable ? (o(t, A) && t[A][e] && (t[A][e] = !1),
        n = C(n, {
            enumerable: k(0, !1)
        })) : (o(t, A) || P(t, A, k(1, {})),
        t[A][e] = !0),
        J(t, e, n)) : P(t, e, n)
    }
      , $ = function(t, e) {
        _(t);
        for (var n, i = m(e = w(e)), o = 0, r = i.length; r > o; )
            W(t, n = i[o++], e[n]);
        return t
    }
      , Y = function(t, e) {
        return void 0 === e ? C(t) : $(C(t), e)
    }
      , X = function(t) {
        var e = q.call(this, t = O(t, !0));
        return !(this === R && o(H, t) && !o(F, t)) && (!(e || !o(this, t) || !o(H, t) || o(this, A) && this[A][t]) || e)
    }
      , Z = function(t, e) {
        if (t = w(t),
        e = O(e, !0),
        t !== R || !o(H, e) || o(F, e)) {
            var n = M(t, e);
            return !n || !o(H, e) || o(t, A) && t[A][e] || (n.enumerable = !0),
            n
        }
    }
      , tt = function(t) {
        for (var e, n = I(w(t)), i = [], r = 0; n.length > r; )
            o(H, e = n[r++]) || e == A || e == u || i.push(e);
        return i
    }
      , et = function(t) {
        for (var e, n = t === R, i = I(n ? F : w(t)), r = [], a = 0; i.length > a; )
            !o(H, e = i[a++]) || n && !o(R, e) || r.push(H[e]);
        return r
    };
    U || (B = function() {
        if (this instanceof B)
            throw TypeError("Symbol is not a constructor!");
        var t = p(arguments.length > 0 ? arguments[0] : void 0)
          , e = function(n) {
            this === R && e.call(F, n),
            o(this, A) && o(this[A], t) && (this[A][t] = !1),
            J(this, t, k(1, n))
        };
        return r && z && J(R, t, {
            configurable: !0,
            set: e
        }),
        G(t)
    }
    ,
    s(B.prototype, "toString", function() {
        return this._k
    }),
    E.f = Z,
    T.f = W,
    n(124).f = x.f = tt,
    n(77).f = X,
    S.f = et,
    r && !n(40) && s(R, "propertyIsEnumerable", X, !0),
    h.f = function(t) {
        return G(f(t))
    }
    ),
    a(a.G + a.W + a.F * !U, {
        Symbol: B
    });
    for (var nt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), it = 0; nt.length > it; )
        f(nt[it++]);
    for (var ot = D(f.store), rt = 0; ot.length > rt; )
        v(ot[rt++]);
    a(a.S + a.F * !U, "Symbol", {
        for: function(t) {
            return o(N, t += "") ? N[t] : N[t] = B(t)
        },
        keyFor: function(t) {
            if (!K(t))
                throw TypeError(t + " is not a symbol!");
            for (var e in N)
                if (N[e] === t)
                    return e
        },
        useSetter: function() {
            z = !0
        },
        useSimple: function() {
            z = !1
        }
    }),
    a(a.S + a.F * !U, "Object", {
        create: Y,
        defineProperty: W,
        defineProperties: $,
        getOwnPropertyDescriptor: Z,
        getOwnPropertyNames: tt,
        getOwnPropertySymbols: et
    });
    var at = l(function() {
        S.f(1)
    });
    a(a.S + a.F * at, "Object", {
        getOwnPropertySymbols: function(t) {
            return S.f(b(t))
        }
    }),
    L && a(a.S + a.F * (!U || l(function() {
        var t = B();
        return "[null]" != j([t]) || "{}" != j({
            a: t
        }) || "{}" != j(Object(t))
    })), "JSON", {
        stringify: function(t) {
            for (var e, n, i = [t], o = 1; arguments.length > o; )
                i.push(arguments[o++]);
            if (n = e = i[1],
            (g(e) || void 0 !== t) && !K(t))
                return y(e) || (e = function(t, e) {
                    if ("function" == typeof n && (e = n.call(this, t, e)),
                    !K(e))
                        return e
                }
                ),
                i[1] = e,
                j.apply(L, i)
        }
    }),
    B.prototype[V] || n(25)(B.prototype, V, B.prototype.valueOf),
    d(B, "Symbol"),
    d(Math, "Math", !0),
    d(i.JSON, "JSON", !0)
}
, function(t, e, n) {
    "use strict";
    var i = n(16)
      , o = n(5)
      , r = n(12)
      , a = n(131)
      , s = n(129);
    i(i.P + i.R, "Promise", {
        finally: function(t) {
            var e = a(this, o.Promise || r.Promise)
              , n = "function" == typeof t;
            return this.then(n ? function(n) {
                return s(e, t()).then(function() {
                    return n
                })
            }
            : t, n ? function(n) {
                return s(e, t()).then(function() {
                    throw n
                })
            }
            : t)
        }
    })
}
, function(t, e, n) {
    "use strict";
    var i = n(16)
      , o = n(74)
      , r = n(128);
    i(i.S, "Promise", {
        try: function(t) {
            var e = o.f(this)
              , n = r(t);
            return (n.e ? e.reject : e.resolve)(n.v),
            e.promise
        }
    })
}
, function(t, e, n) {
    n(84)("asyncIterator")
}
, function(t, e, n) {
    n(84)("observable")
}
, function(t, e, n) {
    var i = n(27)
      , o = n(17)
      , r = i(o, "DataView");
    t.exports = r
}
, function(t, e, n) {
    function i(t) {
        var e = -1
          , n = null == t ? 0 : t.length;
        for (this.clear(); ++e < n; ) {
            var i = t[e];
            this.set(i[0], i[1])
        }
    }
    var o = n(329)
      , r = n(330)
      , a = n(331)
      , s = n(332)
      , u = n(333);
    i.prototype.clear = o,
    i.prototype.delete = r,
    i.prototype.get = a,
    i.prototype.has = s,
    i.prototype.set = u,
    t.exports = i
}
, function(t, e, n) {
    var i = n(27)
      , o = n(17)
      , r = i(o, "Promise");
    t.exports = r
}
, function(t, e, n) {
    var i = n(27)
      , o = n(17)
      , r = i(o, "Set");
    t.exports = r
}
, function(t, e, n) {
    var i = n(27)
      , o = n(17)
      , r = i(o, "WeakMap");
    t.exports = r
}
, function(t, e) {
    function n(t, e, n) {
        switch (n.length) {
        case 0:
            return t.call(e);
        case 1:
            return t.call(e, n[0]);
        case 2:
            return t.call(e, n[0], n[1]);
        case 3:
            return t.call(e, n[0], n[1], n[2])
        }
        return t.apply(e, n)
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length; ++n < i && !1 !== e(t[n], n, t); )
            ;
        return t
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e) {
        return !!(null == t ? 0 : t.length) && o(t, e, 0) > -1
    }
    var o = n(144);
    t.exports = i
}
, function(t, e) {
    function n(t, e, n) {
        for (var i = -1, o = null == t ? 0 : t.length; ++i < o; )
            if (n(e, t[i]))
                return !0;
        return !1
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e, n, i) {
        var o = -1
          , r = null == t ? 0 : t.length;
        for (i && r && (n = t[++o]); ++o < r; )
            n = e(n, t[o], o, t);
        return n
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e) {
        for (var n = -1, i = null == t ? 0 : t.length; ++n < i; )
            if (e(t[n], n, t))
                return !0;
        return !1
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e) {
        return t && o(e, r(e), t)
    }
    var o = n(44)
      , r = n(34);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return t && o(e, r(e), t)
    }
    var o = n(44)
      , r = n(47);
    t.exports = i
}
, function(t, e) {
    function n(t, e, n) {
        return t === t && (void 0 !== n && (t = t <= n ? t : n),
        void 0 !== e && (t = t >= e ? t : e)),
        t
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e, n, L, j, A) {
        var V, q = e & E, N = e & S, H = e & T;
        if (n && (V = j ? n(t, L, j, A) : n(t)),
        void 0 !== V)
            return V;
        if (!O(t))
            return t;
        var F = g(t);
        if (F) {
            if (V = m(t),
            !q)
                return c(t, V)
        } else {
            var R = v(t)
              , U = R == M || R == P;
            if (b(t))
                return l(t, q);
            if (R == I || R == D || U && !j) {
                if (V = N || U ? {} : _(t),
                !q)
                    return N ? p(t, u(V, t)) : d(t, s(V, t))
            } else {
                if (!B[R])
                    return j ? t : {};
                V = y(t, R, q)
            }
        }
        A || (A = new o);
        var Q = A.get(t);
        if (Q)
            return Q;
        A.set(t, V),
        k(t) ? t.forEach(function(o) {
            V.add(i(o, e, n, o, t, A))
        }) : w(t) && t.forEach(function(o, r) {
            V.set(r, i(o, e, n, r, t, A))
        });
        var z = H ? N ? h : f : N ? x : C
          , J = F ? void 0 : z(t);
        return r(J || t, function(o, r) {
            J && (r = o,
            o = t[r]),
            a(V, r, i(o, e, n, r, t, A))
        }),
        V
    }
    var o = n(58)
      , r = n(271)
      , a = n(140)
      , s = n(276)
      , u = n(277)
      , l = n(148)
      , c = n(150)
      , d = n(315)
      , p = n(316)
      , f = n(154)
      , h = n(324)
      , v = n(62)
      , m = n(334)
      , y = n(335)
      , _ = n(156)
      , g = n(13)
      , b = n(66)
      , w = n(376)
      , O = n(18)
      , k = n(378)
      , C = n(34)
      , x = n(47)
      , E = 1
      , S = 2
      , T = 4
      , D = "[object Arguments]"
      , M = "[object Function]"
      , P = "[object GeneratorFunction]"
      , I = "[object Object]"
      , B = {};
    B[D] = B["[object Array]"] = B["[object ArrayBuffer]"] = B["[object DataView]"] = B["[object Boolean]"] = B["[object Date]"] = B["[object Float32Array]"] = B["[object Float64Array]"] = B["[object Int8Array]"] = B["[object Int16Array]"] = B["[object Int32Array]"] = B["[object Map]"] = B["[object Number]"] = B[I] = B["[object RegExp]"] = B["[object Set]"] = B["[object String]"] = B["[object Symbol]"] = B["[object Uint8Array]"] = B["[object Uint8ClampedArray]"] = B["[object Uint16Array]"] = B["[object Uint32Array]"] = !0,
    B["[object Error]"] = B[M] = B["[object WeakMap]"] = !1,
    t.exports = i
}
, function(t, e, n) {
    var i = n(18)
      , o = Object.create
      , r = function() {
        function t() {}
        return function(e) {
            if (!i(e))
                return {};
            if (o)
                return o(e);
            t.prototype = e;
            var n = new t;
            return t.prototype = void 0,
            n
        }
    }();
    t.exports = r
}
, function(t, e, n) {
    function i(t, e, n, i) {
        var d = -1
          , p = r
          , f = !0
          , h = t.length
          , v = []
          , m = e.length;
        if (!h)
            return v;
        n && (e = s(e, u(n))),
        i ? (p = a,
        f = !1) : e.length >= c && (p = l,
        f = !1,
        e = new o(e));
        t: for (; ++d < h; ) {
            var y = t[d]
              , _ = null == n ? y : n(y);
            if (y = i || 0 !== y ? y : 0,
            f && _ === _) {
                for (var g = m; g--; )
                    if (e[g] === _)
                        continue t;
                v.push(y)
            } else
                p(e, _, i) || v.push(y)
        }
        return v
    }
    var o = n(135)
      , r = n(272)
      , a = n(273)
      , s = n(90)
      , u = n(60)
      , l = n(147)
      , c = 200;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, i) {
        var a = t.length;
        for (n = o(n),
        n < 0 && (n = -n > a ? 0 : a + n),
        i = void 0 === i || i > a ? a : o(i),
        i < 0 && (i += a),
        i = n > i ? 0 : r(i); n < i; )
            t[n++] = e;
        return t
    }
    var o = n(68)
      , r = n(386);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = [];
        return o(t, function(t, i, o) {
            e(t, i, o) && n.push(t)
        }),
        n
    }
    var o = n(93);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, a, s) {
        var u = -1
          , l = t.length;
        for (n || (n = r),
        s || (s = []); ++u < l; ) {
            var c = t[u];
            e > 0 && n(c) ? e > 1 ? i(c, e - 1, n, a, s) : o(s, c) : a || (s[s.length] = c)
        }
        return s
    }
    var o = n(91)
      , r = n(336);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return t && o(t, e, r)
    }
    var o = n(142)
      , r = n(34);
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        return null != t && e in Object(t)
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return r(t) && o(t) == a
    }
    var o = n(31)
      , r = n(20)
      , a = "[object Arguments]";
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, i, m, _) {
        var g = l(t)
          , b = l(e)
          , w = g ? h : u(t)
          , O = b ? h : u(e);
        w = w == f ? v : w,
        O = O == f ? v : O;
        var k = w == v
          , C = O == v
          , x = w == O;
        if (x && c(t)) {
            if (!c(e))
                return !1;
            g = !0,
            k = !1
        }
        if (x && !k)
            return _ || (_ = new o),
            g || d(t) ? r(t, e, n, i, m, _) : a(t, e, w, n, i, m, _);
        if (!(n & p)) {
            var E = k && y.call(t, "__wrapped__")
              , S = C && y.call(e, "__wrapped__");
            if (E || S) {
                var T = E ? t.value() : t
                  , D = S ? e.value() : e;
                return _ || (_ = new o),
                m(T, D, n, i, _)
            }
        }
        return !!x && (_ || (_ = new o),
        s(t, e, n, i, m, _))
    }
    var o = n(58)
      , r = n(152)
      , a = n(322)
      , s = n(323)
      , u = n(62)
      , l = n(13)
      , c = n(66)
      , d = n(105)
      , p = 1
      , f = "[object Arguments]"
      , h = "[object Array]"
      , v = "[object Object]"
      , m = Object.prototype
      , y = m.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return r(t) && o(t) == a
    }
    var o = n(62)
      , r = n(20)
      , a = "[object Map]";
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, i) {
        var u = n.length
          , l = u
          , c = !i;
        if (null == t)
            return !l;
        for (t = Object(t); u--; ) {
            var d = n[u];
            if (c && d[2] ? d[1] !== t[d[0]] : !(d[0]in t))
                return !1
        }
        for (; ++u < l; ) {
            d = n[u];
            var p = d[0]
              , f = t[p]
              , h = d[1];
            if (c && d[2]) {
                if (void 0 === f && !(p in t))
                    return !1
            } else {
                var v = new o;
                if (i)
                    var m = i(f, h, p, t, e, v);
                if (!(void 0 === m ? r(h, f, a | s, i, v) : m))
                    return !1
            }
        }
        return !0
    }
    var o = n(58)
      , r = n(145)
      , a = 1
      , s = 2;
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return t !== t
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return !(!a(t) || r(t)) && (o(t) ? h : l).test(s(t))
    }
    var o = n(103)
      , r = n(338)
      , a = n(18)
      , s = n(162)
      , u = /[\\^$.*+?()[\]{}|]/g
      , l = /^\[object .+?Constructor\]$/
      , c = Function.prototype
      , d = Object.prototype
      , p = c.toString
      , f = d.hasOwnProperty
      , h = RegExp("^" + p.call(f).replace(u, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return r(t) && o(t) == a
    }
    var o = n(62)
      , r = n(20)
      , a = "[object Set]";
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return a(t) && r(t.length) && !!s[o(t)]
    }
    var o = n(31)
      , r = n(104)
      , a = n(20)
      , s = {};
    s["[object Float32Array]"] = s["[object Float64Array]"] = s["[object Int8Array]"] = s["[object Int16Array]"] = s["[object Int32Array]"] = s["[object Uint8Array]"] = s["[object Uint8ClampedArray]"] = s["[object Uint16Array]"] = s["[object Uint32Array]"] = !0,
    s["[object Arguments]"] = s["[object Array]"] = s["[object ArrayBuffer]"] = s["[object Boolean]"] = s["[object DataView]"] = s["[object Date]"] = s["[object Error]"] = s["[object Function]"] = s["[object Map]"] = s["[object Number]"] = s["[object Object]"] = s["[object RegExp]"] = s["[object Set]"] = s["[object String]"] = s["[object WeakMap]"] = !1,
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        if (!o(t))
            return r(t);
        var e = [];
        for (var n in Object(t))
            s.call(t, n) && "constructor" != n && e.push(n);
        return e
    }
    var o = n(100)
      , r = n(351)
      , a = Object.prototype
      , s = a.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        if (!o(t))
            return a(t);
        var e = r(t)
          , n = [];
        for (var i in t)
            ("constructor" != i || !e && u.call(t, i)) && n.push(i);
        return n
    }
    var o = n(18)
      , r = n(100)
      , a = n(352)
      , s = Object.prototype
      , u = s.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = -1
          , i = r(t) ? Array(t.length) : [];
        return o(t, function(t, o, r) {
            i[++n] = e(t, o, r)
        }),
        i
    }
    var o = n(93)
      , r = n(28);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = r(t);
        return 1 == e.length && e[0][2] ? a(e[0][0], e[0][1]) : function(n) {
            return n === t || o(n, t, e)
        }
    }
    var o = n(290)
      , r = n(325)
      , a = n(159);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return s(t) && u(e) ? l(c(t), e) : function(n) {
            var i = r(n, t);
            return void 0 === i && i === e ? a(n, t) : o(e, i, d | p)
        }
    }
    var o = n(145)
      , r = n(373)
      , a = n(374)
      , s = n(99)
      , u = n(158)
      , l = n(159)
      , c = n(45)
      , d = 1
      , p = 2;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, d, p) {
        t !== e && a(e, function(a, l) {
            if (p || (p = new o),
            u(a))
                s(t, e, l, n, i, d, p);
            else {
                var f = d ? d(c(t, l), a, l + "", t, e, p) : void 0;
                void 0 === f && (f = a),
                r(t, l, f)
            }
        }, l)
    }
    var o = n(58)
      , r = n(139)
      , a = n(142)
      , s = n(301)
      , u = n(18)
      , l = n(47)
      , c = n(161);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, i, g, b, w) {
        var O = y(t, n)
          , k = y(e, n)
          , C = w.get(k);
        if (C)
            return void o(t, n, C);
        var x = b ? b(O, k, n + "", t, e, w) : void 0
          , E = void 0 === x;
        if (E) {
            var S = c(k)
              , T = !S && p(k)
              , D = !S && !T && m(k);
            x = k,
            S || T || D ? c(O) ? x = O : d(O) ? x = s(O) : T ? (E = !1,
            x = r(k, !0)) : D ? (E = !1,
            x = a(k, !0)) : x = [] : v(k) || l(k) ? (x = O,
            l(O) ? x = _(O) : h(O) && !f(O) || (x = u(k))) : E = !1
        }
        E && (w.set(k, x),
        g(x, k, i, b, w),
        w.delete(k)),
        o(t, n, x)
    }
    var o = n(139)
      , r = n(148)
      , a = n(149)
      , s = n(150)
      , u = n(156)
      , l = n(65)
      , c = n(13)
      , d = n(164)
      , p = n(66)
      , f = n(103)
      , h = n(18)
      , v = n(377)
      , m = n(105)
      , y = n(161)
      , _ = n(388);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return function(e) {
            return null == e ? void 0 : e[t]
        }
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return function(e) {
            return o(e, t)
        }
    }
    var o = n(94);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        for (var n = t ? e.length : 0, i = n - 1; n--; ) {
            var a = e[n];
            if (n == i || a !== u) {
                var u = a;
                r(a) ? s.call(t, a, 1) : o(t, a)
            }
        }
        return t
    }
    var o = n(311)
      , r = n(63)
      , a = Array.prototype
      , s = a.splice;
    t.exports = i
}
, function(t, e) {
    function n(t, e, n, i, o) {
        return o(t, function(t, o, r) {
            n = i ? (i = !1,
            t) : e(n, t, o, r)
        }),
        n
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(370)
      , o = n(151)
      , r = n(102)
      , a = o ? function(t, e) {
        return o(t, "toString", {
            configurable: !0,
            enumerable: !1,
            value: i(e),
            writable: !0
        })
    }
    : r;
    t.exports = a
}
, function(t, e) {
    function n(t, e, n) {
        var i = -1
          , o = t.length;
        e < 0 && (e = -e > o ? 0 : o + e),
        n = n > o ? o : n,
        n < 0 && (n += o),
        o = e > n ? 0 : n - e >>> 0,
        e >>>= 0;
        for (var r = Array(o); ++i < o; )
            r[i] = t[i + e];
        return r
    }
    t.exports = n
}
, function(t, e) {
    function n(t, e) {
        for (var n = -1, i = Array(t); ++n < t; )
            i[n] = e(n);
        return i
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        if ("string" == typeof t)
            return t;
        if (a(t))
            return r(t, i) + "";
        if (s(t))
            return c ? c.call(t) : "";
        var e = t + "";
        return "0" == e && 1 / t == -u ? "-0" : e
    }
    var o = n(30)
      , r = n(90)
      , a = n(13)
      , s = n(67)
      , u = 1 / 0
      , l = o ? o.prototype : void 0
      , c = l ? l.toString : void 0;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return t ? t.slice(0, o(t) + 1).replace(r, "") : t
    }
    var o = n(368)
      , r = /^\s+/;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return e = o(e, t),
        null == (t = a(t, e)) || delete t[s(r(e))]
    }
    var o = n(95)
      , r = n(379)
      , a = n(355)
      , s = n(45);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = e ? o(t.buffer) : t.buffer;
        return new t.constructor(n,t.byteOffset,t.byteLength)
    }
    var o = n(96);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = new t.constructor(t.source,i.exec(t));
        return e.lastIndex = t.lastIndex,
        e
    }
    var i = /\w*$/;
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return a ? Object(a.call(t)) : {}
    }
    var o = n(30)
      , r = o ? o.prototype : void 0
      , a = r ? r.valueOf : void 0;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return o(t, r(t), e)
    }
    var o = n(44)
      , r = n(98);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return o(t, r(t), e)
    }
    var o = n(44)
      , r = n(155);
    t.exports = i
}
, function(t, e, n) {
    var i = n(17)
      , o = i["__core-js_shared__"];
    t.exports = o
}
, function(t, e, n) {
    function i(t) {
        return o(function(e, n) {
            var i = -1
              , o = n.length
              , a = o > 1 ? n[o - 1] : void 0
              , s = o > 2 ? n[2] : void 0;
            for (a = t.length > 3 && "function" == typeof a ? (o--,
            a) : void 0,
            s && r(n[0], n[1], s) && (a = o < 3 ? void 0 : a,
            o = 1),
            e = Object(e); ++i < o; ) {
                var u = n[i];
                u && t(e, u, i, a)
            }
            return e
        })
    }
    var o = n(146)
      , r = n(157);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return function(n, i) {
            if (null == n)
                return n;
            if (!o(n))
                return t(n, i);
            for (var r = n.length, a = e ? r : -1, s = Object(n); (e ? a-- : ++a < r) && !1 !== i(s[a], a, s); )
                ;
            return n
        }
    }
    var o = n(28);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return function(e, n, i) {
            for (var o = -1, r = Object(e), a = i(e), s = a.length; s--; ) {
                var u = a[t ? s : ++o];
                if (!1 === n(r[u], u, r))
                    break
            }
            return e
        }
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return function(e, n, i) {
            var s = Object(e);
            if (!r(e)) {
                var u = o(n, 3);
                e = a(e),
                n = function(t) {
                    return u(s[t], t, s)
                }
            }
            var l = t(e, n, i);
            return l > -1 ? s[u ? e[l] : l] : void 0
        }
    }
    var o = n(32)
      , r = n(28)
      , a = n(34);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, i, o, k, x) {
        switch (n) {
        case O:
            if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                return !1;
            t = t.buffer,
            e = e.buffer;
        case w:
            return !(t.byteLength != e.byteLength || !k(new r(t), new r(e)));
        case p:
        case f:
        case m:
            return a(+t, +e);
        case h:
            return t.name == e.name && t.message == e.message;
        case y:
        case g:
            return t == e + "";
        case v:
            var E = u;
        case _:
            var S = i & c;
            if (E || (E = l),
            t.size != e.size && !S)
                return !1;
            var T = x.get(t);
            if (T)
                return T == e;
            i |= d,
            x.set(t, e);
            var D = s(E(t), E(e), i, o, k, x);
            return x.delete(t),
            D;
        case b:
            if (C)
                return C.call(t) == C.call(e)
        }
        return !1
    }
    var o = n(30)
      , r = n(136)
      , a = n(46)
      , s = n(152)
      , u = n(349)
      , l = n(358)
      , c = 1
      , d = 2
      , p = "[object Boolean]"
      , f = "[object Date]"
      , h = "[object Error]"
      , v = "[object Map]"
      , m = "[object Number]"
      , y = "[object RegExp]"
      , _ = "[object Set]"
      , g = "[object String]"
      , b = "[object Symbol]"
      , w = "[object ArrayBuffer]"
      , O = "[object DataView]"
      , k = o ? o.prototype : void 0
      , C = k ? k.valueOf : void 0;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n, i, a, u) {
        var l = n & r
          , c = o(t)
          , d = c.length;
        if (d != o(e).length && !l)
            return !1;
        for (var p = d; p--; ) {
            var f = c[p];
            if (!(l ? f in e : s.call(e, f)))
                return !1
        }
        var h = u.get(t)
          , v = u.get(e);
        if (h && v)
            return h == e && v == t;
        var m = !0;
        u.set(t, e),
        u.set(e, t);
        for (var y = l; ++p < d; ) {
            f = c[p];
            var _ = t[f]
              , g = e[f];
            if (i)
                var b = l ? i(g, _, f, e, t, u) : i(_, g, f, t, e, u);
            if (!(void 0 === b ? _ === g || a(_, g, n, i, u) : b)) {
                m = !1;
                break
            }
            y || (y = "constructor" == f)
        }
        if (m && !y) {
            var w = t.constructor
              , O = e.constructor;
            w != O && "constructor"in t && "constructor"in e && !("function" == typeof w && w instanceof w && "function" == typeof O && O instanceof O) && (m = !1)
        }
        return u.delete(t),
        u.delete(e),
        m
    }
    var o = n(154)
      , r = 1
      , a = Object.prototype
      , s = a.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return o(t, a, r)
    }
    var o = n(143)
      , r = n(155)
      , a = n(47);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        for (var e = r(t), n = e.length; n--; ) {
            var i = e[n]
              , a = t[i];
            e[n] = [i, a, o(a)]
        }
        return e
    }
    var o = n(158)
      , r = n(34);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = a.call(t, u)
          , n = t[u];
        try {
            t[u] = void 0;
            var i = !0
        } catch (t) {}
        var o = s.call(t);
        return i && (e ? t[u] = n : delete t[u]),
        o
    }
    var o = n(30)
      , r = Object.prototype
      , a = r.hasOwnProperty
      , s = r.toString
      , u = o ? o.toStringTag : void 0;
    t.exports = i
}
, function(t, e) {
    function n(t, e) {
        return null == t ? void 0 : t[e]
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e, n) {
        e = o(e, t);
        for (var i = -1, c = e.length, d = !1; ++i < c; ) {
            var p = l(e[i]);
            if (!(d = null != t && n(t, p)))
                break;
            t = t[p]
        }
        return d || ++i != c ? d : !!(c = null == t ? 0 : t.length) && u(c) && s(p, c) && (a(t) || r(t))
    }
    var o = n(95)
      , r = n(65)
      , a = n(13)
      , s = n(63)
      , u = n(104)
      , l = n(45);
    t.exports = i
}
, function(t, e, n) {
    function i() {
        this.__data__ = o ? o(null) : {},
        this.size = 0
    }
    var o = n(64);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = this.has(t) && delete this.__data__[t];
        return this.size -= e ? 1 : 0,
        e
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        var e = this.__data__;
        if (o) {
            var n = e[t];
            return n === r ? void 0 : n
        }
        return s.call(e, t) ? e[t] : void 0
    }
    var o = n(64)
      , r = "__lodash_hash_undefined__"
      , a = Object.prototype
      , s = a.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = this.__data__;
        return o ? void 0 !== e[t] : a.call(e, t)
    }
    var o = n(64)
      , r = Object.prototype
      , a = r.hasOwnProperty;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = this.__data__;
        return this.size += this.has(t) ? 0 : 1,
        n[t] = o && void 0 === e ? r : e,
        this
    }
    var o = n(64)
      , r = "__lodash_hash_undefined__";
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = t.length
          , n = new t.constructor(e);
        return e && "string" == typeof t[0] && o.call(t, "index") && (n.index = t.index,
        n.input = t.input),
        n
    }
    var i = Object.prototype
      , o = i.hasOwnProperty;
    t.exports = n
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = t.constructor;
        switch (e) {
        case y:
            return o(t);
        case l:
        case c:
            return new i(+t);
        case _:
            return r(t, n);
        case g:
        case b:
        case w:
        case O:
        case k:
        case C:
        case x:
        case E:
        case S:
            return u(t, n);
        case d:
            return new i;
        case p:
        case v:
            return new i(t);
        case f:
            return a(t);
        case h:
            return new i;
        case m:
            return s(t)
        }
    }
    var o = n(96)
      , r = n(312)
      , a = n(313)
      , s = n(314)
      , u = n(149)
      , l = "[object Boolean]"
      , c = "[object Date]"
      , d = "[object Map]"
      , p = "[object Number]"
      , f = "[object RegExp]"
      , h = "[object Set]"
      , v = "[object String]"
      , m = "[object Symbol]"
      , y = "[object ArrayBuffer]"
      , _ = "[object DataView]"
      , g = "[object Float32Array]"
      , b = "[object Float64Array]"
      , w = "[object Int8Array]"
      , O = "[object Int16Array]"
      , k = "[object Int32Array]"
      , C = "[object Uint8Array]"
      , x = "[object Uint8ClampedArray]"
      , E = "[object Uint16Array]"
      , S = "[object Uint32Array]";
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return a(t) || r(t) || !!(s && t && t[s])
    }
    var o = n(30)
      , r = n(65)
      , a = n(13)
      , s = o ? o.isConcatSpreadable : void 0;
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = typeof t;
        return "string" == e || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== t : null === t
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return !!r && r in t
    }
    var o = n(317)
      , r = function() {
        var t = /[^.]+$/.exec(o && o.keys && o.keys.IE_PROTO || "");
        return t ? "Symbol(src)_1." + t : ""
    }();
    t.exports = i
}
, function(t, e) {
    function n() {
        this.__data__ = [],
        this.size = 0
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        var e = this.__data__
          , n = o(e, t);
        return !(n < 0) && (n == e.length - 1 ? e.pop() : a.call(e, n, 1),
        --this.size,
        !0)
    }
    var o = n(59)
      , r = Array.prototype
      , a = r.splice;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = this.__data__
          , n = o(e, t);
        return n < 0 ? void 0 : e[n][1]
    }
    var o = n(59);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return o(this.__data__, t) > -1
    }
    var o = n(59);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = this.__data__
          , i = o(n, t);
        return i < 0 ? (++this.size,
        n.push([t, e])) : n[i][1] = e,
        this
    }
    var o = n(59);
    t.exports = i
}
, function(t, e, n) {
    function i() {
        this.size = 0,
        this.__data__ = {
            hash: new o,
            map: new (a || r),
            string: new o
        }
    }
    var o = n(266)
      , r = n(57)
      , a = n(88);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        var e = o(this, t).delete(t);
        return this.size -= e ? 1 : 0,
        e
    }
    var o = n(61);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return o(this, t).get(t)
    }
    var o = n(61);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return o(this, t).has(t)
    }
    var o = n(61);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = o(this, t)
          , i = n.size;
        return n.set(t, e),
        this.size += n.size == i ? 0 : 1,
        this
    }
    var o = n(61);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = -1
          , n = Array(t.size);
        return t.forEach(function(t, i) {
            n[++e] = [i, t]
        }),
        n
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        var e = o(t, function(t) {
            return n.size === r && n.clear(),
            t
        })
          , n = e.cache;
        return e
    }
    var o = n(380)
      , r = 500;
    t.exports = i
}
, function(t, e, n) {
    var i = n(160)
      , o = i(Object.keys, Object);
    t.exports = o
}
, function(t, e) {
    function n(t) {
        var e = [];
        if (null != t)
            for (var n in Object(t))
                e.push(n);
        return e
    }
    t.exports = n
}
, function(t, e) {
    function n(t) {
        return o.call(t)
    }
    var i = Object.prototype
      , o = i.toString;
    t.exports = n
}
, function(t, e, n) {
    function i(t, e, n) {
        return e = r(void 0 === e ? t.length - 1 : e, 0),
        function() {
            for (var i = arguments, a = -1, s = r(i.length - e, 0), u = Array(s); ++a < s; )
                u[a] = i[e + a];
            a = -1;
            for (var l = Array(e + 1); ++a < e; )
                l[a] = i[a];
            return l[e] = n(u),
            o(t, this, l)
        }
    }
    var o = n(270)
      , r = Math.max;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return e.length < 2 ? t : o(t, r(e, 0, -1))
    }
    var o = n(94)
      , r = n(307);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return this.__data__.set(t, i),
        this
    }
    var i = "__lodash_hash_undefined__";
    t.exports = n
}
, function(t, e) {
    function n(t) {
        return this.__data__.has(t)
    }
    t.exports = n
}
, function(t, e) {
    function n(t) {
        var e = -1
          , n = Array(t.size);
        return t.forEach(function(t) {
            n[++e] = t
        }),
        n
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(306)
      , o = n(360)
      , r = o(i);
    t.exports = r
}
, function(t, e) {
    function n(t) {
        var e = 0
          , n = 0;
        return function() {
            var a = r()
              , s = o - (a - n);
            if (n = a,
            s > 0) {
                if (++e >= i)
                    return arguments[0]
            } else
                e = 0;
            return t.apply(void 0, arguments)
        }
    }
    var i = 800
      , o = 16
      , r = Date.now;
    t.exports = n
}
, function(t, e, n) {
    function i() {
        this.__data__ = new o,
        this.size = 0
    }
    var o = n(57);
    t.exports = i
}
, function(t, e) {
    function n(t) {
        var e = this.__data__
          , n = e.delete(t);
        return this.size = e.size,
        n
    }
    t.exports = n
}
, function(t, e) {
    function n(t) {
        return this.__data__.get(t)
    }
    t.exports = n
}
, function(t, e) {
    function n(t) {
        return this.__data__.has(t)
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e) {
        var n = this.__data__;
        if (n instanceof o) {
            var i = n.__data__;
            if (!r || i.length < s - 1)
                return i.push([t, e]),
                this.size = ++n.size,
                this;
            n = this.__data__ = new a(i)
        }
        return n.set(t, e),
        this.size = n.size,
        this
    }
    var o = n(57)
      , r = n(88)
      , a = n(89)
      , s = 200;
    t.exports = i
}
, function(t, e) {
    function n(t, e, n) {
        for (var i = n - 1, o = t.length; ++i < o; )
            if (t[i] === e)
                return i;
        return -1
    }
    t.exports = n
}
, function(t, e, n) {
    var i = n(350)
      , o = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
      , r = /\\(\\)?/g
      , a = i(function(t) {
        var e = [];
        return 46 === t.charCodeAt(0) && e.push(""),
        t.replace(o, function(t, n, i, o) {
            e.push(i ? o.replace(r, "$1") : n || t)
        }),
        e
    });
    t.exports = a
}
, function(t, e) {
    function n(t) {
        for (var e = t.length; e-- && i.test(t.charAt(e)); )
            ;
        return e
    }
    var i = /\s/;
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        return o(t, r | a)
    }
    var o = n(279)
      , r = 1
      , a = 4;
    t.exports = i
}
, function(t, e) {
    function n(t) {
        return function() {
            return t
        }
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e, n, i) {
        var a = null == t ? 0 : t.length;
        return a ? (n && "number" != typeof n && r(t, e, n) && (n = 0,
        i = a),
        o(t, e, n, i)) : []
    }
    var o = n(282)
      , r = n(157);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = null == t ? 0 : t.length;
        if (!i)
            return -1;
        var u = null == n ? 0 : a(n);
        return u < 0 && (u = s(i + u, 0)),
        o(t, r(e, 3), u)
    }
    var o = n(141)
      , r = n(32)
      , a = n(68)
      , s = Math.max;
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = null == t ? void 0 : o(t, e);
        return void 0 === i ? n : i
    }
    var o = n(94);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        return null != t && r(t, e, o)
    }
    var o = n(286)
      , r = n(328);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = null == t ? 0 : t.length;
        if (!i)
            return -1;
        var s = null == n ? 0 : r(n);
        return s < 0 && (s = a(i + s, 0)),
        o(t, e, s)
    }
    var o = n(144)
      , r = n(68)
      , a = Math.max;
    t.exports = i
}
, function(t, e, n) {
    var i = n(289)
      , o = n(60)
      , r = n(101)
      , a = r && r.isMap
      , s = a ? o(a) : i;
    t.exports = s
}
, function(t, e, n) {
    function i(t) {
        if (!a(t) || o(t) != s)
            return !1;
        var e = r(t);
        if (null === e)
            return !0;
        var n = d.call(e, "constructor") && e.constructor;
        return "function" == typeof n && n instanceof n && c.call(n) == p
    }
    var o = n(31)
      , r = n(97)
      , a = n(20)
      , s = "[object Object]"
      , u = Function.prototype
      , l = Object.prototype
      , c = u.toString
      , d = l.hasOwnProperty
      , p = c.call(Object);
    t.exports = i
}
, function(t, e, n) {
    var i = n(293)
      , o = n(60)
      , r = n(101)
      , a = r && r.isSet
      , s = a ? o(a) : i;
    t.exports = s
}
, function(t, e) {
    function n(t) {
        var e = null == t ? 0 : t.length;
        return e ? t[e - 1] : void 0
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t, e) {
        if ("function" != typeof t || null != e && "function" != typeof e)
            throw new TypeError(r);
        var n = function() {
            var i = arguments
              , o = e ? e.apply(this, i) : i[0]
              , r = n.cache;
            if (r.has(o))
                return r.get(o);
            var a = t.apply(this, i);
            return n.cache = r.set(o, a) || r,
            a
        };
        return n.cache = new (i.Cache || o),
        n
    }
    var o = n(89)
      , r = "Expected a function";
    i.Cache = o,
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return a(t) ? o(s(t)) : r(t)
    }
    var o = n(302)
      , r = n(303)
      , a = n(99)
      , s = n(45);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e, n) {
        var i = u(t) ? o : s
          , l = arguments.length < 3;
        return i(t, a(e, 4), n, l, r)
    }
    var o = n(274)
      , r = n(93)
      , a = n(32)
      , s = n(305)
      , u = n(13);
    t.exports = i
}
, function(t, e, n) {
    function i(t, e) {
        var n = [];
        if (!t || !t.length)
            return n;
        var i = -1
          , a = []
          , s = t.length;
        for (e = o(e, 3); ++i < s; ) {
            var u = t[i];
            e(u, i, t) && (n.push(u),
            a.push(i))
        }
        return r(t, a),
        n
    }
    var o = n(32)
      , r = n(304);
    t.exports = i
}
, function(t, e) {
    function n() {
        return !1
    }
    t.exports = n
}
, function(t, e, n) {
    function i(t) {
        if (!t)
            return 0 === t ? t : 0;
        if ((t = o(t)) === r || t === -r) {
            return (t < 0 ? -1 : 1) * a
        }
        return t === t ? t : 0
    }
    var o = n(387)
      , r = 1 / 0
      , a = 1.7976931348623157e308;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return t ? o(r(t), 0, a) : 0
    }
    var o = n(278)
      , r = n(68)
      , a = 4294967295;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        if ("number" == typeof t)
            return t;
        if (a(t))
            return s;
        if (r(t)) {
            var e = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = r(e) ? e + "" : e
        }
        if ("string" != typeof t)
            return 0 === t ? t : +t;
        t = o(t);
        var n = l.test(t);
        return n || c.test(t) ? d(t.slice(2), n ? 2 : 8) : u.test(t) ? s : +t
    }
    var o = n(310)
      , r = n(18)
      , a = n(67)
      , s = NaN
      , u = /^[-+]0x[0-9a-f]+$/i
      , l = /^0b[01]+$/i
      , c = /^0o[0-7]+$/i
      , d = parseInt;
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return o(t, r(t))
    }
    var o = n(44)
      , r = n(47);
    t.exports = i
}
, function(t, e, n) {
    function i(t) {
        return null == t ? "" : o(t)
    }
    var o = n(309);
    t.exports = i
}
, function(t, e) {
    function n() {
        throw new Error("setTimeout has not been defined")
    }
    function i() {
        throw new Error("clearTimeout has not been defined")
    }
    function o(t) {
        if (c === setTimeout)
            return setTimeout(t, 0);
        if ((c === n || !c) && setTimeout)
            return c = setTimeout,
            setTimeout(t, 0);
        try {
            return c(t, 0)
        } catch (e) {
            try {
                return c.call(null, t, 0)
            } catch (e) {
                return c.call(this, t, 0)
            }
        }
    }
    function r(t) {
        if (d === clearTimeout)
            return clearTimeout(t);
        if ((d === i || !d) && clearTimeout)
            return d = clearTimeout,
            clearTimeout(t);
        try {
            return d(t)
        } catch (e) {
            try {
                return d.call(null, t)
            } catch (e) {
                return d.call(this, t)
            }
        }
    }
    function a() {
        v && f && (v = !1,
        f.length ? h = f.concat(h) : m = -1,
        h.length && s())
    }
    function s() {
        if (!v) {
            var t = o(a);
            v = !0;
            for (var e = h.length; e; ) {
                for (f = h,
                h = []; ++m < e; )
                    f && f[m].run();
                m = -1,
                e = h.length
            }
            f = null,
            v = !1,
            r(t)
        }
    }
    function u(t, e) {
        this.fun = t,
        this.array = e
    }
    function l() {}
    var c, d, p = t.exports = {};
    !function() {
        try {
            c = "function" == typeof setTimeout ? setTimeout : n
        } catch (t) {
            c = n
        }
        try {
            d = "function" == typeof clearTimeout ? clearTimeout : i
        } catch (t) {
            d = i
        }
    }();
    var f, h = [], v = !1, m = -1;
    p.nextTick = function(t) {
        var e = new Array(arguments.length - 1);
        if (arguments.length > 1)
            for (var n = 1; n < arguments.length; n++)
                e[n - 1] = arguments[n];
        h.push(new u(t,e)),
        1 !== h.length || v || o(s)
    }
    ,
    u.prototype.run = function() {
        this.fun.apply(null, this.array)
    }
    ,
    p.title = "browser",
    p.browser = !0,
    p.env = {},
    p.argv = [],
    p.version = "",
    p.versions = {},
    p.on = l,
    p.addListener = l,
    p.once = l,
    p.off = l,
    p.removeListener = l,
    p.removeAllListeners = l,
    p.emit = l,
    p.prependListener = l,
    p.prependOnceListener = l,
    p.listeners = function(t) {
        return []
    }
    ,
    p.binding = function(t) {
        throw new Error("process.binding is not supported")
    }
    ,
    p.cwd = function() {
        return "/"
    }
    ,
    p.chdir = function(t) {
        throw new Error("process.chdir is not supported")
    }
    ,
    p.umask = function() {
        return 0
    }
}
]);

(()=>{
    var Cs = Object.defineProperty
      , Es = Object.defineProperties;
    var Ss = Object.getOwnPropertyDescriptors;
    var Gn = Object.getOwnPropertySymbols;
    var As = Object.prototype.hasOwnProperty
      , Is = Object.prototype.propertyIsEnumerable;
    var De = (D,g,w)=>g in D ? Cs(D, g, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: w
    }) : D[g] = w
      , T = (D,g)=>{
        for (var w in g || (g = {}))
            As.call(g, w) && De(D, w, g[w]);
        if (Gn)
            for (var w of Gn(g))
                Is.call(g, w) && De(D, w, g[w]);
        return D
    }
      , x = (D,g)=>Es(D, Ss(g));
    var Os = (D,g)=>()=>(g || D((g = {
        exports: {}
    }).exports, g),
    g.exports);
    var m = (D,g,w)=>(De(D, typeof g != "symbol" ? g + "" : g, w),
    w);
    var O = (D,g,w)=>new Promise((Wt,Pt)=>{
        var Yt = B=>{
            try {
                _t(w.next(B))
            } catch (k) {
                Pt(k)
            }
        }
          , Vt = B=>{
            try {
                _t(w.throw(B))
            } catch (k) {
                Pt(k)
            }
        }
          , _t = B=>B.done ? Wt(B.value) : Promise.resolve(B.value).then(Yt, Vt);
        _t((w = w.apply(D, g)).next())
    }
    );
    var Ds = Os(($,R)=>{
        (function() {
            "use strict";
            function D() {
                this.__data__ = [],
                this.size = 0
            }
            function g(t, e) {
                return t === e || t !== t && e !== e
            }
            function w(t, e) {
                for (var n = t.length; n--; )
                    if (g(t[n][0], e))
                        return n;
                return -1
            }
            var Wt = Array.prototype
              , Pt = Wt.splice;
            function Yt(t) {
                var e = this.__data__
                  , n = w(e, t);
                if (n < 0)
                    return !1;
                var r = e.length - 1;
                return n == r ? e.pop() : Pt.call(e, n, 1),
                --this.size,
                !0
            }
            function Vt(t) {
                var e = this.__data__
                  , n = w(e, t);
                return n < 0 ? void 0 : e[n][1]
            }
            function _t(t) {
                return w(this.__data__, t) > -1
            }
            function B(t, e) {
                var n = this.__data__
                  , r = w(n, t);
                return r < 0 ? (++this.size,
                n.push([t, e])) : n[r][1] = e,
                this
            }
            function k(t) {
                var e = -1
                  , n = t == null ? 0 : t.length;
                for (this.clear(); ++e < n; ) {
                    var r = t[e];
                    this.set(r[0], r[1])
                }
            }
            k.prototype.clear = D,
            k.prototype.delete = Yt,
            k.prototype.get = Vt,
            k.prototype.has = _t,
            k.prototype.set = B;
            function Kn() {
                this.__data__ = new k,
                this.size = 0
            }
            function Wn(t) {
                var e = this.__data__
                  , n = e.delete(t);
                return this.size = e.size,
                n
            }
            function Yn(t) {
                return this.__data__.get(t)
            }
            function Vn(t) {
                return this.__data__.has(t)
            }
            var Pe = typeof global == "object" && global && global.Object === Object && global
              , Jn = typeof self == "object" && self && self.Object === Object && self
              , L = Pe || Jn || Function("return this")()
              , q = L.Symbol
              , ke = Object.prototype
              , Xn = ke.hasOwnProperty
              , Zn = ke.toString
              , ft = q ? q.toStringTag : void 0;
            function Qn(t) {
                var e = Xn.call(t, ft)
                  , n = t[ft];
                try {
                    t[ft] = void 0;
                    var r = !0
                } catch (a) {}
                var i = Zn.call(t);
                return r && (e ? t[ft] = n : delete t[ft]),
                i
            }
            var tr = Object.prototype
              , er = tr.toString;
            function nr(t) {
                return er.call(t)
            }
            var rr = "[object Null]"
              , ir = "[object Undefined]"
              , xe = q ? q.toStringTag : void 0;
            function X(t) {
                return t == null ? t === void 0 ? ir : rr : xe && xe in Object(t) ? Qn(t) : nr(t)
            }
            function Y(t) {
                var e = typeof t;
                return t != null && (e == "object" || e == "function")
            }
            var ar = "[object AsyncFunction]"
              , or = "[object Function]"
              , cr = "[object GeneratorFunction]"
              , sr = "[object Proxy]";
            function $e(t) {
                if (!Y(t))
                    return !1;
                var e = X(t);
                return e == or || e == cr || e == ar || e == sr
            }
            var Jt = L["__core-js_shared__"]
              , Re = function() {
                var t = /[^.]+$/.exec(Jt && Jt.keys && Jt.keys.IE_PROTO || "");
                return t ? "Symbol(src)_1." + t : ""
            }();
            function ur(t) {
                return !!Re && Re in t
            }
            var lr = Function.prototype
              , dr = lr.toString;
            function Z(t) {
                if (t != null) {
                    try {
                        return dr.call(t)
                    } catch (e) {}
                    try {
                        return t + ""
                    } catch (e) {}
                }
                return ""
            }
            var pr = /[\\^$.*+?()[\]{}|]/g
              , _r = /^\[object .+?Constructor\]$/
              , fr = Function.prototype
              , hr = Object.prototype
              , mr = fr.toString
              , gr = hr.hasOwnProperty
              , vr = RegExp("^" + mr.call(gr).replace(pr, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
            function yr(t) {
                if (!Y(t) || ur(t))
                    return !1;
                var e = $e(t) ? vr : _r;
                return e.test(Z(t))
            }
            function wr(t, e) {
                return t == null ? void 0 : t[e]
            }
            function Q(t, e) {
                var n = wr(t, e);
                return yr(n) ? n : void 0
            }
            var ht = Q(L, "Map")
              , mt = Q(Object, "create");
            function br() {
                this.__data__ = mt ? mt(null) : {},
                this.size = 0
            }
            function Tr(t) {
                var e = this.has(t) && delete this.__data__[t];
                return this.size -= e ? 1 : 0,
                e
            }
            var Cr = "__lodash_hash_undefined__"
              , Er = Object.prototype
              , Sr = Er.hasOwnProperty;
            function Ar(t) {
                var e = this.__data__;
                if (mt) {
                    var n = e[t];
                    return n === Cr ? void 0 : n
                }
                return Sr.call(e, t) ? e[t] : void 0
            }
            var Ir = Object.prototype
              , Or = Ir.hasOwnProperty;
            function Dr(t) {
                var e = this.__data__;
                return mt ? e[t] !== void 0 : Or.call(e, t)
            }
            var Pr = "__lodash_hash_undefined__";
            function kr(t, e) {
                var n = this.__data__;
                return this.size += this.has(t) ? 0 : 1,
                n[t] = mt && e === void 0 ? Pr : e,
                this
            }
            function tt(t) {
                var e = -1
                  , n = t == null ? 0 : t.length;
                for (this.clear(); ++e < n; ) {
                    var r = t[e];
                    this.set(r[0], r[1])
                }
            }
            tt.prototype.clear = br,
            tt.prototype.delete = Tr,
            tt.prototype.get = Ar,
            tt.prototype.has = Dr,
            tt.prototype.set = kr;
            function xr() {
                this.size = 0,
                this.__data__ = {
                    hash: new tt,
                    map: new (ht || k),
                    string: new tt
                }
            }
            function $r(t) {
                var e = typeof t;
                return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null
            }
            function kt(t, e) {
                var n = t.__data__;
                return $r(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map
            }
            function Rr(t) {
                var e = kt(this, t).delete(t);
                return this.size -= e ? 1 : 0,
                e
            }
            function qr(t) {
                return kt(this, t).get(t)
            }
            function Nr(t) {
                return kt(this, t).has(t)
            }
            function Lr(t, e) {
                var n = kt(this, t)
                  , r = n.size;
                return n.set(t, e),
                this.size += n.size == r ? 0 : 1,
                this
            }
            function z(t) {
                var e = -1
                  , n = t == null ? 0 : t.length;
                for (this.clear(); ++e < n; ) {
                    var r = t[e];
                    this.set(r[0], r[1])
                }
            }
            z.prototype.clear = xr,
            z.prototype.delete = Rr,
            z.prototype.get = qr,
            z.prototype.has = Nr,
            z.prototype.set = Lr;
            var Hr = 200;
            function Ur(t, e) {
                var n = this.__data__;
                if (n instanceof k) {
                    var r = n.__data__;
                    if (!ht || r.length < Hr - 1)
                        return r.push([t, e]),
                        this.size = ++n.size,
                        this;
                    n = this.__data__ = new z(r)
                }
                return n.set(t, e),
                this.size = n.size,
                this
            }
            function H(t) {
                var e = this.__data__ = new k(t);
                this.size = e.size
            }
            H.prototype.clear = Kn,
            H.prototype.delete = Wn,
            H.prototype.get = Yn,
            H.prototype.has = Vn,
            H.prototype.set = Ur;
            function jr(t, e) {
                for (var n = -1, r = t == null ? 0 : t.length; ++n < r && e(t[n], n, t) !== !1; )
                    ;
                return t
            }
            var xt = function() {
                try {
                    var t = Q(Object, "defineProperty");
                    return t({}, "", {}),
                    t
                } catch (e) {}
            }();
            function qe(t, e, n) {
                e == "__proto__" && xt ? xt(t, e, {
                    configurable: !0,
                    enumerable: !0,
                    value: n,
                    writable: !0
                }) : t[e] = n
            }
            var Mr = Object.prototype
              , Br = Mr.hasOwnProperty;
            function Xt(t, e, n) {
                var r = t[e];
                (!(Br.call(t, e) && g(r, n)) || n === void 0 && !(e in t)) && qe(t, e, n)
            }
            function gt(t, e, n, r) {
                var i = !n;
                n || (n = {});
                for (var a = -1, o = e.length; ++a < o; ) {
                    var c = e[a]
                      , s = r ? r(n[c], t[c], c, n, t) : void 0;
                    s === void 0 && (s = t[c]),
                    i ? qe(n, c, s) : Xt(n, c, s)
                }
                return n
            }
            function zr(t, e) {
                for (var n = -1, r = Array(t); ++n < t; )
                    r[n] = e(n);
                return r
            }
            function F(t) {
                return t != null && typeof t == "object"
            }
            var Fr = "[object Arguments]";
            function Ne(t) {
                return F(t) && X(t) == Fr
            }
            var Le = Object.prototype
              , Gr = Le.hasOwnProperty
              , Kr = Le.propertyIsEnumerable
              , Zt = Ne(function() {
                return arguments
            }()) ? Ne : function(t) {
                return F(t) && Gr.call(t, "callee") && !Kr.call(t, "callee")
            }
              , N = Array.isArray;
            function Wr() {
                return !1
            }
            var He = typeof $ == "object" && $ && !$.nodeType && $
              , Ue = He && typeof R == "object" && R && !R.nodeType && R
              , Yr = Ue && Ue.exports === He
              , je = Yr ? L.Buffer : void 0
              , Vr = je ? je.isBuffer : void 0
              , $t = Vr || Wr
              , Jr = 9007199254740991
              , Xr = /^(?:0|[1-9]\d*)$/;
            function Qt(t, e) {
                var n = typeof t;
                return e = e == null ? Jr : e,
                !!e && (n == "number" || n != "symbol" && Xr.test(t)) && t > -1 && t % 1 == 0 && t < e
            }
            var Zr = 9007199254740991;
            function te(t) {
                return typeof t == "number" && t > -1 && t % 1 == 0 && t <= Zr
            }
            var Qr = "[object Arguments]"
              , ti = "[object Array]"
              , ei = "[object Boolean]"
              , ni = "[object Date]"
              , ri = "[object Error]"
              , ii = "[object Function]"
              , ai = "[object Map]"
              , oi = "[object Number]"
              , ci = "[object Object]"
              , si = "[object RegExp]"
              , ui = "[object Set]"
              , li = "[object String]"
              , di = "[object WeakMap]"
              , pi = "[object ArrayBuffer]"
              , _i = "[object DataView]"
              , fi = "[object Float32Array]"
              , hi = "[object Float64Array]"
              , mi = "[object Int8Array]"
              , gi = "[object Int16Array]"
              , vi = "[object Int32Array]"
              , yi = "[object Uint8Array]"
              , wi = "[object Uint8ClampedArray]"
              , bi = "[object Uint16Array]"
              , Ti = "[object Uint32Array]"
              , y = {};
            y[fi] = y[hi] = y[mi] = y[gi] = y[vi] = y[yi] = y[wi] = y[bi] = y[Ti] = !0,
            y[Qr] = y[ti] = y[pi] = y[ei] = y[_i] = y[ni] = y[ri] = y[ii] = y[ai] = y[oi] = y[ci] = y[si] = y[ui] = y[li] = y[di] = !1;
            function Ci(t) {
                return F(t) && te(t.length) && !!y[X(t)]
            }
            function ee(t) {
                return function(e) {
                    return t(e)
                }
            }
            var Me = typeof $ == "object" && $ && !$.nodeType && $
              , vt = Me && typeof R == "object" && R && !R.nodeType && R
              , Ei = vt && vt.exports === Me
              , ne = Ei && Pe.process
              , ot = function() {
                try {
                    var t = vt && vt.require && vt.require("util").types;
                    return t || ne && ne.binding && ne.binding("util")
                } catch (e) {}
            }()
              , Be = ot && ot.isTypedArray
              , ze = Be ? ee(Be) : Ci
              , Si = Object.prototype
              , Ai = Si.hasOwnProperty;
            function Fe(t, e) {
                var n = N(t)
                  , r = !n && Zt(t)
                  , i = !n && !r && $t(t)
                  , a = !n && !r && !i && ze(t)
                  , o = n || r || i || a
                  , c = o ? zr(t.length, String) : []
                  , s = c.length;
                for (var l in t)
                    (e || Ai.call(t, l)) && !(o && (l == "length" || i && (l == "offset" || l == "parent") || a && (l == "buffer" || l == "byteLength" || l == "byteOffset") || Qt(l, s))) && c.push(l);
                return c
            }
            var Ii = Object.prototype;
            function re(t) {
                var e = t && t.constructor
                  , n = typeof e == "function" && e.prototype || Ii;
                return t === n
            }
            function Ge(t, e) {
                return function(n) {
                    return t(e(n))
                }
            }
            var Oi = Ge(Object.keys, Object)
              , Di = Object.prototype
              , Pi = Di.hasOwnProperty;
            function ki(t) {
                if (!re(t))
                    return Oi(t);
                var e = [];
                for (var n in Object(t))
                    Pi.call(t, n) && n != "constructor" && e.push(n);
                return e
            }
            function Rt(t) {
                return t != null && te(t.length) && !$e(t)
            }
            function yt(t) {
                return Rt(t) ? Fe(t) : ki(t)
            }
            function xi(t, e) {
                return t && gt(e, yt(e), t)
            }
            function $i(t) {
                var e = [];
                if (t != null)
                    for (var n in Object(t))
                        e.push(n);
                return e
            }
            var Ri = Object.prototype
              , qi = Ri.hasOwnProperty;
            function Ni(t) {
                if (!Y(t))
                    return $i(t);
                var e = re(t)
                  , n = [];
                for (var r in t)
                    r == "constructor" && (e || !qi.call(t, r)) || n.push(r);
                return n
            }
            function ie(t) {
                return Rt(t) ? Fe(t, !0) : Ni(t)
            }
            function Li(t, e) {
                return t && gt(e, ie(e), t)
            }
            var Ke = typeof $ == "object" && $ && !$.nodeType && $
              , We = Ke && typeof R == "object" && R && !R.nodeType && R
              , Hi = We && We.exports === Ke
              , Ye = Hi ? L.Buffer : void 0
              , Ve = Ye ? Ye.allocUnsafe : void 0;
            function Ui(t, e) {
                if (e)
                    return t.slice();
                var n = t.length
                  , r = Ve ? Ve(n) : new t.constructor(n);
                return t.copy(r),
                r
            }
            function ji(t, e) {
                var n = -1
                  , r = t.length;
                for (e || (e = Array(r)); ++n < r; )
                    e[n] = t[n];
                return e
            }
            function Mi(t, e) {
                for (var n = -1, r = t == null ? 0 : t.length, i = 0, a = []; ++n < r; ) {
                    var o = t[n];
                    e(o, n, t) && (a[i++] = o)
                }
                return a
            }
            function Je() {
                return []
            }
            var Bi = Object.prototype
              , zi = Bi.propertyIsEnumerable
              , Xe = Object.getOwnPropertySymbols
              , ae = Xe ? function(t) {
                return t == null ? [] : (t = Object(t),
                Mi(Xe(t), function(e) {
                    return zi.call(t, e)
                }))
            }
            : Je;
            function Fi(t, e) {
                return gt(t, ae(t), e)
            }
            function oe(t, e) {
                for (var n = -1, r = e.length, i = t.length; ++n < r; )
                    t[i + n] = e[n];
                return t
            }
            var ce = Ge(Object.getPrototypeOf, Object)
              , Gi = Object.getOwnPropertySymbols
              , Ze = Gi ? function(t) {
                for (var e = []; t; )
                    oe(e, ae(t)),
                    t = ce(t);
                return e
            }
            : Je;
            function Ki(t, e) {
                return gt(t, Ze(t), e)
            }
            function Qe(t, e, n) {
                var r = e(t);
                return N(t) ? r : oe(r, n(t))
            }
            function se(t) {
                return Qe(t, yt, ae)
            }
            function ue(t) {
                return Qe(t, ie, Ze)
            }
            var le = Q(L, "DataView")
              , de = Q(L, "Promise")
              , pe = Q(L, "Set")
              , _e = Q(L, "WeakMap")
              , tn = "[object Map]"
              , Wi = "[object Object]"
              , en = "[object Promise]"
              , nn = "[object Set]"
              , rn = "[object WeakMap]"
              , an = "[object DataView]"
              , Yi = Z(le)
              , Vi = Z(ht)
              , Ji = Z(de)
              , Xi = Z(pe)
              , Zi = Z(_e)
              , et = X;
            (le && et(new le(new ArrayBuffer(1))) != an || ht && et(new ht) != tn || de && et(de.resolve()) != en || pe && et(new pe) != nn || _e && et(new _e) != rn) && (et = function(t) {
                var e = X(t)
                  , n = e == Wi ? t.constructor : void 0
                  , r = n ? Z(n) : "";
                if (r)
                    switch (r) {
                    case Yi:
                        return an;
                    case Vi:
                        return tn;
                    case Ji:
                        return en;
                    case Xi:
                        return nn;
                    case Zi:
                        return rn
                    }
                return e
            }
            );
            var wt = et
              , Qi = Object.prototype
              , ta = Qi.hasOwnProperty;
            function ea(t) {
                var e = t.length
                  , n = new t.constructor(e);
                return e && typeof t[0] == "string" && ta.call(t, "index") && (n.index = t.index,
                n.input = t.input),
                n
            }
            var qt = L.Uint8Array;
            function fe(t) {
                var e = new t.constructor(t.byteLength);
                return new qt(e).set(new qt(t)),
                e
            }
            function na(t, e) {
                var n = e ? fe(t.buffer) : t.buffer;
                return new t.constructor(n,t.byteOffset,t.byteLength)
            }
            var ra = /\w*$/;
            function ia(t) {
                var e = new t.constructor(t.source,ra.exec(t));
                return e.lastIndex = t.lastIndex,
                e
            }
            var on = q ? q.prototype : void 0
              , cn = on ? on.valueOf : void 0;
            function aa(t) {
                return cn ? Object(cn.call(t)) : {}
            }
            function oa(t, e) {
                var n = e ? fe(t.buffer) : t.buffer;
                return new t.constructor(n,t.byteOffset,t.length)
            }
            var ca = "[object Boolean]"
              , sa = "[object Date]"
              , ua = "[object Map]"
              , la = "[object Number]"
              , da = "[object RegExp]"
              , pa = "[object Set]"
              , _a = "[object String]"
              , fa = "[object Symbol]"
              , ha = "[object ArrayBuffer]"
              , ma = "[object DataView]"
              , ga = "[object Float32Array]"
              , va = "[object Float64Array]"
              , ya = "[object Int8Array]"
              , wa = "[object Int16Array]"
              , ba = "[object Int32Array]"
              , Ta = "[object Uint8Array]"
              , Ca = "[object Uint8ClampedArray]"
              , Ea = "[object Uint16Array]"
              , Sa = "[object Uint32Array]";
            function Aa(t, e, n) {
                var r = t.constructor;
                switch (e) {
                case ha:
                    return fe(t);
                case ca:
                case sa:
                    return new r(+t);
                case ma:
                    return na(t, n);
                case ga:
                case va:
                case ya:
                case wa:
                case ba:
                case Ta:
                case Ca:
                case Ea:
                case Sa:
                    return oa(t, n);
                case ua:
                    return new r;
                case la:
                case _a:
                    return new r(t);
                case da:
                    return ia(t);
                case pa:
                    return new r;
                case fa:
                    return aa(t)
                }
            }
            var sn = Object.create
              , Ia = function() {
                function t() {}
                return function(e) {
                    if (!Y(e))
                        return {};
                    if (sn)
                        return sn(e);
                    t.prototype = e;
                    var n = new t;
                    return t.prototype = void 0,
                    n
                }
            }();
            function Oa(t) {
                return typeof t.constructor == "function" && !re(t) ? Ia(ce(t)) : {}
            }
            var Da = "[object Map]";
            function Pa(t) {
                return F(t) && wt(t) == Da
            }
            var un = ot && ot.isMap
              , ka = un ? ee(un) : Pa
              , xa = "[object Set]";
            function $a(t) {
                return F(t) && wt(t) == xa
            }
            var ln = ot && ot.isSet
              , Ra = ln ? ee(ln) : $a
              , qa = 1
              , Na = 2
              , La = 4
              , dn = "[object Arguments]"
              , Ha = "[object Array]"
              , Ua = "[object Boolean]"
              , ja = "[object Date]"
              , Ma = "[object Error]"
              , pn = "[object Function]"
              , Ba = "[object GeneratorFunction]"
              , za = "[object Map]"
              , Fa = "[object Number]"
              , _n = "[object Object]"
              , Ga = "[object RegExp]"
              , Ka = "[object Set]"
              , Wa = "[object String]"
              , Ya = "[object Symbol]"
              , Va = "[object WeakMap]"
              , Ja = "[object ArrayBuffer]"
              , Xa = "[object DataView]"
              , Za = "[object Float32Array]"
              , Qa = "[object Float64Array]"
              , to = "[object Int8Array]"
              , eo = "[object Int16Array]"
              , no = "[object Int32Array]"
              , ro = "[object Uint8Array]"
              , io = "[object Uint8ClampedArray]"
              , ao = "[object Uint16Array]"
              , oo = "[object Uint32Array]"
              , v = {};
            v[dn] = v[Ha] = v[Ja] = v[Xa] = v[Ua] = v[ja] = v[Za] = v[Qa] = v[to] = v[eo] = v[no] = v[za] = v[Fa] = v[_n] = v[Ga] = v[Ka] = v[Wa] = v[Ya] = v[ro] = v[io] = v[ao] = v[oo] = !0,
            v[Ma] = v[pn] = v[Va] = !1;
            function bt(t, e, n, r, i, a) {
                var o, c = e & qa, s = e & Na, l = e & La;
                if (n && (o = i ? n(t, r, i, a) : n(t)),
                o !== void 0)
                    return o;
                if (!Y(t))
                    return t;
                var _ = N(t);
                if (_) {
                    if (o = ea(t),
                    !c)
                        return ji(t, o)
                } else {
                    var p = wt(t)
                      , d = p == pn || p == Ba;
                    if ($t(t))
                        return Ui(t, c);
                    if (p == _n || p == dn || d && !i) {
                        if (o = s || d ? {} : Oa(t),
                        !c)
                            return s ? Ki(t, Li(o, t)) : Fi(t, xi(o, t))
                    } else {
                        if (!v[p])
                            return i ? t : {};
                        o = Aa(t, p, c)
                    }
                }
                a || (a = new H);
                var b = a.get(t);
                if (b)
                    return b;
                a.set(t, o),
                Ra(t) ? t.forEach(function(E) {
                    o.add(bt(E, e, n, E, t, a))
                }) : ka(t) && t.forEach(function(E, A) {
                    o.set(A, bt(E, e, n, A, t, a))
                });
                var C = l ? s ? ue : se : s ? ie : yt
                  , S = _ ? void 0 : C(t);
                return jr(S || t, function(E, A) {
                    S && (A = E,
                    E = t[A]),
                    Xt(o, A, bt(E, e, n, A, t, a))
                }),
                o
            }
            var co = 1
              , so = 4;
            function he(t) {
                return bt(t, co | so)
            }
            var fn = q ? q.isConcatSpreadable : void 0;
            function uo(t) {
                return N(t) || Zt(t) || !!(fn && t && t[fn])
            }
            function me(t, e, n, r, i) {
                var a = -1
                  , o = t.length;
                for (n || (n = uo),
                i || (i = []); ++a < o; ) {
                    var c = t[a];
                    e > 0 && n(c) ? e > 1 ? me(c, e - 1, n, r, i) : oe(i, c) : r || (i[i.length] = c)
                }
                return i
            }
            function Nt(t, e) {
                for (var n = -1, r = t == null ? 0 : t.length, i = Array(r); ++n < r; )
                    i[n] = e(t[n], n, t);
                return i
            }
            var lo = "__lodash_hash_undefined__";
            function po(t) {
                return this.__data__.set(t, lo),
                this
            }
            function _o(t) {
                return this.__data__.has(t)
            }
            function Lt(t) {
                var e = -1
                  , n = t == null ? 0 : t.length;
                for (this.__data__ = new z; ++e < n; )
                    this.add(t[e])
            }
            Lt.prototype.add = Lt.prototype.push = po,
            Lt.prototype.has = _o;
            function fo(t, e) {
                for (var n = -1, r = t == null ? 0 : t.length; ++n < r; )
                    if (e(t[n], n, t))
                        return !0;
                return !1
            }
            function ho(t, e) {
                return t.has(e)
            }
            var mo = 1
              , go = 2;
            function hn(t, e, n, r, i, a) {
                var o = n & mo
                  , c = t.length
                  , s = e.length;
                if (c != s && !(o && s > c))
                    return !1;
                var l = a.get(t)
                  , _ = a.get(e);
                if (l && _)
                    return l == e && _ == t;
                var p = -1
                  , d = !0
                  , b = n & go ? new Lt : void 0;
                for (a.set(t, e),
                a.set(e, t); ++p < c; ) {
                    var C = t[p]
                      , S = e[p];
                    if (r)
                        var E = o ? r(S, C, p, e, t, a) : r(C, S, p, t, e, a);
                    if (E !== void 0) {
                        if (E)
                            continue;
                        d = !1;
                        break
                    }
                    if (b) {
                        if (!fo(e, function(A, M) {
                            if (!ho(b, M) && (C === A || i(C, A, n, r, a)))
                                return b.push(M)
                        })) {
                            d = !1;
                            break
                        }
                    } else if (!(C === S || i(C, S, n, r, a))) {
                        d = !1;
                        break
                    }
                }
                return a.delete(t),
                a.delete(e),
                d
            }
            function vo(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach(function(r, i) {
                    n[++e] = [i, r]
                }),
                n
            }
            function yo(t) {
                var e = -1
                  , n = Array(t.size);
                return t.forEach(function(r) {
                    n[++e] = r
                }),
                n
            }
            var wo = 1
              , bo = 2
              , To = "[object Boolean]"
              , Co = "[object Date]"
              , Eo = "[object Error]"
              , So = "[object Map]"
              , Ao = "[object Number]"
              , Io = "[object RegExp]"
              , Oo = "[object Set]"
              , Do = "[object String]"
              , Po = "[object Symbol]"
              , ko = "[object ArrayBuffer]"
              , xo = "[object DataView]"
              , mn = q ? q.prototype : void 0
              , ge = mn ? mn.valueOf : void 0;
            function $o(t, e, n, r, i, a, o) {
                switch (n) {
                case xo:
                    if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                        return !1;
                    t = t.buffer,
                    e = e.buffer;
                case ko:
                    return !(t.byteLength != e.byteLength || !a(new qt(t), new qt(e)));
                case To:
                case Co:
                case Ao:
                    return g(+t, +e);
                case Eo:
                    return t.name == e.name && t.message == e.message;
                case Io:
                case Do:
                    return t == e + "";
                case So:
                    var c = vo;
                case Oo:
                    var s = r & wo;
                    if (c || (c = yo),
                    t.size != e.size && !s)
                        return !1;
                    var l = o.get(t);
                    if (l)
                        return l == e;
                    r |= bo,
                    o.set(t, e);
                    var _ = hn(c(t), c(e), r, i, a, o);
                    return o.delete(t),
                    _;
                case Po:
                    if (ge)
                        return ge.call(t) == ge.call(e)
                }
                return !1
            }
            var Ro = 1
              , qo = Object.prototype
              , No = qo.hasOwnProperty;
            function Lo(t, e, n, r, i, a) {
                var o = n & Ro
                  , c = se(t)
                  , s = c.length
                  , l = se(e)
                  , _ = l.length;
                if (s != _ && !o)
                    return !1;
                for (var p = s; p--; ) {
                    var d = c[p];
                    if (!(o ? d in e : No.call(e, d)))
                        return !1
                }
                var b = a.get(t)
                  , C = a.get(e);
                if (b && C)
                    return b == e && C == t;
                var S = !0;
                a.set(t, e),
                a.set(e, t);
                for (var E = o; ++p < s; ) {
                    d = c[p];
                    var A = t[d]
                      , M = e[d];
                    if (r)
                        var I = o ? r(M, A, d, e, t, a) : r(A, M, d, t, e, a);
                    if (!(I === void 0 ? A === M || i(A, M, n, r, a) : I)) {
                        S = !1;
                        break
                    }
                    E || (E = d == "constructor")
                }
                if (S && !E) {
                    var Gt = t.constructor
                      , Kt = e.constructor;
                    Gt != Kt && "constructor"in t && "constructor"in e && !(typeof Gt == "function" && Gt instanceof Gt && typeof Kt == "function" && Kt instanceof Kt) && (S = !1)
                }
                return a.delete(t),
                a.delete(e),
                S
            }
            var Ho = 1
              , gn = "[object Arguments]"
              , vn = "[object Array]"
              , Ht = "[object Object]"
              , Uo = Object.prototype
              , yn = Uo.hasOwnProperty;
            function jo(t, e, n, r, i, a) {
                var o = N(t)
                  , c = N(e)
                  , s = o ? vn : wt(t)
                  , l = c ? vn : wt(e);
                s = s == gn ? Ht : s,
                l = l == gn ? Ht : l;
                var _ = s == Ht
                  , p = l == Ht
                  , d = s == l;
                if (d && $t(t)) {
                    if (!$t(e))
                        return !1;
                    o = !0,
                    _ = !1
                }
                if (d && !_)
                    return a || (a = new H),
                    o || ze(t) ? hn(t, e, n, r, i, a) : $o(t, e, s, n, r, i, a);
                if (!(n & Ho)) {
                    var b = _ && yn.call(t, "__wrapped__")
                      , C = p && yn.call(e, "__wrapped__");
                    if (b || C) {
                        var S = b ? t.value() : t
                          , E = C ? e.value() : e;
                        return a || (a = new H),
                        i(S, E, n, r, a)
                    }
                }
                return d ? (a || (a = new H),
                Lo(t, e, n, r, i, a)) : !1
            }
            function ve(t, e, n, r, i) {
                return t === e ? !0 : t == null || e == null || !F(t) && !F(e) ? t !== t && e !== e : jo(t, e, n, r, ve, i)
            }
            var Mo = 1
              , Bo = 2;
            function zo(t, e, n, r) {
                var i = n.length
                  , a = i
                  , o = !r;
                if (t == null)
                    return !a;
                for (t = Object(t); i--; ) {
                    var c = n[i];
                    if (o && c[2] ? c[1] !== t[c[0]] : !(c[0]in t))
                        return !1
                }
                for (; ++i < a; ) {
                    c = n[i];
                    var s = c[0]
                      , l = t[s]
                      , _ = c[1];
                    if (o && c[2]) {
                        if (l === void 0 && !(s in t))
                            return !1
                    } else {
                        var p = new H;
                        if (r)
                            var d = r(l, _, s, t, e, p);
                        if (!(d === void 0 ? ve(_, l, Mo | Bo, r, p) : d))
                            return !1
                    }
                }
                return !0
            }
            function wn(t) {
                return t === t && !Y(t)
            }
            function Fo(t) {
                for (var e = yt(t), n = e.length; n--; ) {
                    var r = e[n]
                      , i = t[r];
                    e[n] = [r, i, wn(i)]
                }
                return e
            }
            function bn(t, e) {
                return function(n) {
                    return n == null ? !1 : n[t] === e && (e !== void 0 || t in Object(n))
                }
            }
            function Go(t) {
                var e = Fo(t);
                return e.length == 1 && e[0][2] ? bn(e[0][0], e[0][1]) : function(n) {
                    return n === t || zo(n, t, e)
                }
            }
            var Ko = "[object Symbol]";
            function ye(t) {
                return typeof t == "symbol" || F(t) && X(t) == Ko
            }
            var Wo = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
              , Yo = /^\w*$/;
            function we(t, e) {
                if (N(t))
                    return !1;
                var n = typeof t;
                return n == "number" || n == "symbol" || n == "boolean" || t == null || ye(t) ? !0 : Yo.test(t) || !Wo.test(t) || e != null && t in Object(e)
            }
            var Vo = "Expected a function";
            function be(t, e) {
                if (typeof t != "function" || e != null && typeof e != "function")
                    throw new TypeError(Vo);
                var n = function() {
                    var r = arguments
                      , i = e ? e.apply(this, r) : r[0]
                      , a = n.cache;
                    if (a.has(i))
                        return a.get(i);
                    var o = t.apply(this, r);
                    return n.cache = a.set(i, o) || a,
                    o
                };
                return n.cache = new (be.Cache || z),
                n
            }
            be.Cache = z;
            var Jo = 500;
            function Xo(t) {
                var e = be(t, function(r) {
                    return n.size === Jo && n.clear(),
                    r
                })
                  , n = e.cache;
                return e
            }
            var Zo = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
              , Qo = /\\(\\)?/g
              , tc = Xo(function(t) {
                var e = [];
                return t.charCodeAt(0) === 46 && e.push(""),
                t.replace(Zo, function(n, r, i, a) {
                    e.push(i ? a.replace(Qo, "$1") : r || n)
                }),
                e
            })
              , ec = 1 / 0
              , Tn = q ? q.prototype : void 0
              , Cn = Tn ? Tn.toString : void 0;
            function En(t) {
                if (typeof t == "string")
                    return t;
                if (N(t))
                    return Nt(t, En) + "";
                if (ye(t))
                    return Cn ? Cn.call(t) : "";
                var e = t + "";
                return e == "0" && 1 / t == -ec ? "-0" : e
            }
            function nc(t) {
                return t == null ? "" : En(t)
            }
            function ct(t, e) {
                return N(t) ? t : we(t, e) ? [t] : tc(nc(t))
            }
            var rc = 1 / 0;
            function st(t) {
                if (typeof t == "string" || ye(t))
                    return t;
                var e = t + "";
                return e == "0" && 1 / t == -rc ? "-0" : e
            }
            function Ut(t, e) {
                e = ct(e, t);
                for (var n = 0, r = e.length; t != null && n < r; )
                    t = t[st(e[n++])];
                return n && n == r ? t : void 0
            }
            function f(t, e, n) {
                var r = t == null ? void 0 : Ut(t, e);
                return r === void 0 ? n : r
            }
            function ic(t, e) {
                return t != null && e in Object(t)
            }
            function ac(t, e, n) {
                e = ct(e, t);
                for (var r = -1, i = e.length, a = !1; ++r < i; ) {
                    var o = st(e[r]);
                    if (!(a = t != null && n(t, o)))
                        break;
                    t = t[o]
                }
                return a || ++r != i ? a : (i = t == null ? 0 : t.length,
                !!i && te(i) && Qt(o, i) && (N(t) || Zt(t)))
            }
            function oc(t, e) {
                return t != null && ac(t, e, ic)
            }
            var cc = 1
              , sc = 2;
            function uc(t, e) {
                return we(t) && wn(e) ? bn(st(t), e) : function(n) {
                    var r = f(n, t);
                    return r === void 0 && r === e ? oc(n, t) : ve(e, r, cc | sc)
                }
            }
            function ut(t) {
                return t
            }
            function lc(t) {
                return function(e) {
                    return e == null ? void 0 : e[t]
                }
            }
            function dc(t) {
                return function(e) {
                    return Ut(e, t)
                }
            }
            function pc(t) {
                return we(t) ? lc(st(t)) : dc(t)
            }
            function Sn(t) {
                return typeof t == "function" ? t : t == null ? ut : typeof t == "object" ? N(t) ? uc(t[0], t[1]) : Go(t) : pc(t)
            }
            function _c(t) {
                return function(e, n, r) {
                    for (var i = -1, a = Object(e), o = r(e), c = o.length; c--; ) {
                        var s = o[t ? c : ++i];
                        if (n(a[s], s, a) === !1)
                            break
                    }
                    return e
                }
            }
            var fc = _c();
            function hc(t, e) {
                return t && fc(t, e, yt)
            }
            function mc(t, e) {
                return function(n, r) {
                    if (n == null)
                        return n;
                    if (!Rt(n))
                        return t(n, r);
                    for (var i = n.length, a = e ? i : -1, o = Object(n); (e ? a-- : ++a < i) && r(o[a], a, o) !== !1; )
                        ;
                    return n
                }
            }
            var gc = mc(hc);
            function vc(t, e) {
                var n = -1
                  , r = Rt(t) ? Array(t.length) : [];
                return gc(t, function(i, a, o) {
                    r[++n] = e(i, a, o)
                }),
                r
            }
            function yc(t, e) {
                var n = N(t) ? Nt : vc;
                return n(t, Sn(e))
            }
            function wc(t, e) {
                return me(yc(t, e), 1)
            }
            function bc(t, e) {
                for (var n, r = -1, i = t.length; ++r < i; ) {
                    var a = e(t[r]);
                    a !== void 0 && (n = n === void 0 ? a : n + a)
                }
                return n
            }
            function Te(t) {
                return t && t.length ? bc(t, ut) : 0
            }
            const An = "6LeGYxwhAAAAAP9Bir4YuVEzjkepElmCMle47VjN"
              , lt = "HAS_ADD_TO_CART_KEY"
              , Ce = "HAS_BEGIN_CHECKOUT_KEY"
              , Ee = "SERVER_HAS_BEGIN_CHECKOUT_KEY"
              , In = "popup_current_cart"
              , On = "popup_crypto_user_key"
              , Dn = "prize_wheel_index_key"
              , Pn = "zalify_pixel_context"
              , Tc = "PIXEL_SESSION_HAS_DONE_KEY";
            function Cc(t) {
                try {
                    return btoa(encodeURIComponent(t))
                } catch (e) {
                    return console.log(e, "encrypt:" + t),
                    ""
                }
            }
            function Ec(t) {
                try {
                    return decodeURIComponent(atob(t))
                } catch (e) {
                    return console.log(e, "decrypt:" + t),
                    ""
                }
            }
            function U(t) {
                const e = t + "="
                  , n = document.cookie.split(";");
                for (let r = 0; r < n.length; r++) {
                    const i = n[r].trim();
                    if (i.indexOf(e) == 0)
                        return i.substring(e.length, i.length)
                }
                return ""
            }
            let kn = !1;
            const h = {
                setHasAddToCart(t) {
                    t ? (kn = !0,
                    localStorage.setItem(lt, "true")) : localStorage.removeItem(lt)
                },
                getCartToken() {
                    var t;
                    return ((t = h.getCurrentCart()) == null ? void 0 : t.token) || U("cart")
                },
                getHasAddToCart() {
                    return localStorage.getItem(lt) || kn
                },
                setSessionHasAddToCart(t) {
                    t ? sessionStorage.setItem(lt, "true") : sessionStorage.removeItem(lt)
                },
                getSessionHasAddToCart() {
                    return sessionStorage.getItem(lt)
                },
                getPixelSessionHasDone(t, e) {
                    return sessionStorage.getItem(xn(t, e))
                },
                setPixelSessionHasDone(t, e) {
                    return sessionStorage.setItem(xn(t, e), "true")
                },
                setSessionHasBeginCheckout(t) {
                    t ? sessionStorage.setItem(Ce, "true") : sessionStorage.removeItem(Ce)
                },
                getSessionHasBeginCheckout() {
                    return sessionStorage.getItem(Ce)
                },
                getUserData() {
                    try {
                        const t = localStorage.getItem(On);
                        return t ? JSON.parse(Ec(t)) : null
                    } catch (t) {
                        return null
                    }
                },
                setUserData(t) {
                    const e = h.getUserData();
                    localStorage.setItem(On, Cc(JSON.stringify(T(T({}, e), t))))
                },
                getPrizeWheelIndex() {
                    const t = localStorage.getItem(Dn);
                    return typeof t == "string" ? Number(t) : void 0
                },
                setPrizeWheelIndex(t) {
                    return localStorage.setItem(Dn, t.toString())
                },
                getCurrentCart() {
                    try {
                        const t = localStorage.getItem(In);
                        return t ? JSON.parse(t) : null
                    } catch (t) {
                        return null
                    }
                },
                setCurrentCart(t) {
                    return localStorage.setItem(In, JSON.stringify(t))
                },
                setSessionServerHasBeginCheckout(t) {
                    t ? sessionStorage.setItem(Ee, "true") : sessionStorage.removeItem(Ee)
                },
                getSessionServerHasBeginCheckout() {
                    return sessionStorage.getItem(Ee)
                }
            }
              , xn = (t,e)=>`${Tc}_${t}_${e}`
              , Sc = location.host;
            class Tt {
                static fetchCollections(e) {
                    let n = 0;
                    e.forEach(r=>O(this, null, function*() {
                        var i;
                        try {
                            const a = yield fetch(`https://${Sc}/collections/${r}/products.json?limit=250`).then(o=>O(this, null, function*() {
                                const c = yield o.json();
                                if (o.status >= 200 && o.status < 300)
                                    return c;
                                throw {
                                    message: (c == null ? void 0 : c.description) || "Network error",
                                    code: o.status
                                }
                            }));
                            this.map[r] = (i = a == null ? void 0 : a.products) == null ? void 0 : i.map(o=>({
                                productId: o.id,
                                title: o.title
                            }))
                        } catch (a) {} finally {
                            n += 1,
                            n === e.length && (this.inited = !0)
                        }
                    }))
                }
                static init(e) {
                    return O(this, null, function*() {
                        this.pixels = e;
                        const n = [...new Set(wc(Object.values(e).map(r=>r.map(i=>i.collection))).filter(Boolean))];
                        this.fetchCollections(n)
                    })
                }
                static awaitInit() {
                    return new Promise(e=>{
                        const n = ()=>{
                            this.inited ? e(!0) : setTimeout(()=>{
                                n()
                            }
                            , 0)
                        }
                        ;
                        n()
                    }
                    )
                }
                static getTrackData(e) {
                    return O(this, null, function*() {
                        let n = {
                            canTrack: !1,
                            isCollection: !1,
                            eventData: he(e.eventData)
                        };
                        const r = this.pixels[e.pixelType];
                        if (!r || h.getPixelSessionHasDone(e.pixelId, e.event))
                            return n;
                        const i = r.find(o=>o.id === e.pixelId);
                        if (!i)
                            return n;
                        if (!i.collection)
                            return n.canTrack = !0,
                            n;
                        n.isCollection = !0,
                        yield this.awaitInit();
                        const a = this.map[i.collection];
                        return a && (n.canTrack = !0,
                        e.pixelType === "META" && (n.eventData.items = n.eventData.items.filter(o=>a.some(c=>c.productId.toString() === o.item_id.toString())),
                        n.eventData.value = Te(n.eventData.items.map(o=>o.price * (o.quantity || 1))).toFixed(2),
                        n.eventData.subtotal_price = Te(n.eventData.items.map(o=>o.price * (o.quantity || 1))).toFixed(2),
                        n.eventData.total_price = n.eventData.subtotal_price),
                        n.eventData.items.length === 0 && (n.canTrack = !1)),
                        n
                    })
                }
            }
            m(Tt, "pixels"),
            m(Tt, "map", {}),
            m(Tt, "inited", !1);
            function G(t) {
                var e;
                return ((e = t == null ? void 0 : t.Checkout) == null ? void 0 : e.step) === "thank_you"
            }
            function V() {
                var t, e, n, r, i;
                if (!G(window.Shopify))
                    return null;
                try {
                    const a = window.Shopify.checkout
                      , o = (t = a.phone) == null ? void 0 : t.replace("+", "")
                      , c = (n = (e = a == null ? void 0 : a.shipping_address) == null ? void 0 : e.phone) == null ? void 0 : n.replace("+", "")
                      , s = (i = (r = a == null ? void 0 : a.billing_address) == null ? void 0 : r.phone) == null ? void 0 : i.replace("+", "");
                    return o || c || s || null
                } catch (a) {
                    return null
                }
            }
            function nt(t, e) {
                var o, c, s, l, _, p;
                const n = {
                    email: f(e, "eventData.email"),
                    country: f(e, "eventData.shipping_address.country_code"),
                    city: f(e, "eventData.shipping_address.city"),
                    street: f(e, "eventData.shipping_address.address1"),
                    first_name: f(e, "eventData.shipping_address.first_name"),
                    last_name: f(e, "eventData.shipping_address.last_name"),
                    phone_number: f(e, "eventData.shipping_address.phone"),
                    region: f(e, "eventData.shipping_address.province"),
                    postal_code: f(e, "eventData.shipping_address.zip")
                }
                  , r = {
                    dlv_items: JSON.stringify(f(e, "eventData.items")),
                    dlv_item_name: f(e, "eventData.items.0.item_name"),
                    dlv_item_variant: f(e, "eventData.items.0.item_variant"),
                    dlv_item_price: f(e, "eventData.items.0.price"),
                    dlv_subtotal_price: f(e, "eventData.subtotal_price"),
                    dlv_item_id: (o = f(e, "eventData.items.0.item_id")) == null ? void 0 : o.toString(),
                    dlv_item_ids: (((s = (c = e.eventData) == null ? void 0 : c.items) == null ? void 0 : s.map(d=>d.item_id.toString())) || []).join(),
                    dlv_currency: f(e, "eventData.items.0.currency") || ((l = h.getCurrentCart()) == null ? void 0 : l.currency) || ((p = (_ = window.Shopify) == null ? void 0 : _.currency) == null ? void 0 : p.active),
                    dlv_purchase_item_name: f(e, "eventData.items.0.item_name"),
                    dlv_purchase_value: f(e, "eventData.value"),
                    dlv_purchase_currency: f(e, "eventData.items.0.currency"),
                    dlv_purchase_content_id: f(e, "eventData.transaction_id"),
                    dlv_transaction_id: f(e, "eventData.transaction_id"),
                    dlv_user_email: n.email,
                    dlv_user_first_name: n.first_name,
                    dlv_user_last_name: n.last_name,
                    dlv_user_phone_number: f(e, "eventData.shipping_address.phone") || V(),
                    dlv_user_city: n.city,
                    dlv_zip: n.postal_code,
                    dlv_user_country: n.country,
                    dlv_user_address: n.street,
                    dlv_user_province: n.region,
                    dlv_user_provided_data: n,
                    dlv_coupon: f(e, "eventData.coupon"),
                    "Browser ID": U("_fbp"),
                    "Clicks ID": U("_fbc"),
                    dlv_event_id: f(e, "eventData.event_id"),
                    dlv_event_time: f(e, "eventData.event_time")
                }
                  , i = d=>{
                    for (let b in d) {
                        const C = d[b];
                        typeof C == "string" && (d[b] = C.replace(/{{([\s\S]+?)}}/g, (S,E)=>f(r, E, ""))),
                        typeof C == "object" && i(C)
                    }
                }
                ;
                let a = he(t);
                return i(a),
                a
            }
            const Ot = class {
                static init(e) {
                    this.bingIds = [e],
                    this.inited = !0;
                    const n = document.createElement("script");
                    n.id = "zalify-bing-pixel-install",
                    n.innerHTML = `
    (function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:"${e}"};o.q=w[u],w[u]=new UET(o),w[u].push("pageLoad")},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=="loaded"&&s!=="complete"||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,"script","//bat.bing.com/bat.js","uetq");

    window.uetq = window.uetq || [];

    `,
                    document.body.appendChild(n),
                    this.checkInit()
                }
                static track(e, n, r) {
                    var a;
                    const i = r ? nt(n, r) : n;
                    !window.uetq || !this.inited ? this.queue.push([e, i]) : (console.log("Bing trackData", e, i),
                    this.bingIds.forEach(o=>{
                        window.uetq.push("event", e, i)
                    }
                    ),
                    (a = window.zalifyPixelLogs) == null || a.bing.push(T({
                        event: e
                    }, i)))
                }
                static viewProduct(e) {
                    this.track("view_item", {
                        ecomm_pagetype: "product",
                        items: e.eventData.items.map(n=>({
                            id: n.item_id,
                            quantity: 1,
                            price: n.price
                        }))
                    }, e)
                }
                static addToCart(e) {
                    var n, r, i;
                    this.track("add_to_cart", {
                        ecomm_totalvalue: (n = e.eventData.items[0]) == null ? void 0 : n.price,
                        revenue_value: (r = e.eventData.items[0]) == null ? void 0 : r.price,
                        event_label: "{{dlv_item_name}}",
                        event_value: (i = e.eventData.items[0]) == null ? void 0 : i.price,
                        currency: "{{dlv_currency}}",
                        items: e.eventData.items.map(a=>({
                            id: a.item_id,
                            quantity: 1,
                            price: a.price
                        }))
                    }, e)
                }
                static initiateCheckout(e) {
                    this.track("begin_checkout", {
                        coupon: "{{dlv_coupon}}",
                        revenue_value: +e.eventData.subtotal_price,
                        event_value: +e.eventData.subtotal_price,
                        currency: "{{dlv_currency}}",
                        items: e.eventData.items.map(n=>({
                            id: n.item_id,
                            quantity: n.quantity,
                            price: n.price
                        }))
                    }, e)
                }
                static purchase(e) {
                    this.track("purchase", {
                        coupon: "{{dlv_coupon}}",
                        transaction_id: "{{dlv_transaction_id}}",
                        ecomm_pagetype: "purchase",
                        ecomm_totalvalue: +e.eventData.value,
                        revenue_value: +e.eventData.value,
                        event_value: +e.eventData.value,
                        currency: "{{dlv_currency}}",
                        items: e.eventData.items.map(n=>({
                            id: n.item_id,
                            quantity: n.quantity,
                            price: n.price
                        }))
                    }, e)
                }
            }
            ;
            let rt = Ot;
            m(rt, "queue", []),
            m(rt, "bingIds", []),
            m(rt, "inited", !1),
            m(rt, "checkInit", ()=>{
                window.uetq ? Ot.queue.forEach(([e,n])=>{
                    Ot.track(e, n)
                }
                ) : setTimeout(()=>{
                    Ot.checkInit()
                }
                , 100)
            }
            );
            function Ac(t) {
                var e = t == null ? 0 : t.length;
                return e ? t[e - 1] : void 0
            }
            function Ic(t, e, n) {
                var r = -1
                  , i = t.length;
                e < 0 && (e = -e > i ? 0 : i + e),
                n = n > i ? i : n,
                n < 0 && (n += i),
                i = e > n ? 0 : n - e >>> 0,
                e >>>= 0;
                for (var a = Array(i); ++r < i; )
                    a[r] = t[r + e];
                return a
            }
            function Oc(t, e) {
                return e.length < 2 ? t : Ut(t, Ic(e, 0, -1))
            }
            function Dc(t, e) {
                return e = ct(e, t),
                t = Oc(t, e),
                t == null || delete t[st(Ac(e))]
            }
            var Pc = "[object Object]"
              , kc = Function.prototype
              , xc = Object.prototype
              , $n = kc.toString
              , $c = xc.hasOwnProperty
              , Rc = $n.call(Object);
            function qc(t) {
                if (!F(t) || X(t) != Pc)
                    return !1;
                var e = ce(t);
                if (e === null)
                    return !0;
                var n = $c.call(e, "constructor") && e.constructor;
                return typeof n == "function" && n instanceof n && $n.call(n) == Rc
            }
            function Nc(t) {
                return qc(t) ? void 0 : t
            }
            function Lc(t) {
                var e = t == null ? 0 : t.length;
                return e ? me(t, 1) : []
            }
            function Hc(t, e, n) {
                switch (n.length) {
                case 0:
                    return t.call(e);
                case 1:
                    return t.call(e, n[0]);
                case 2:
                    return t.call(e, n[0], n[1]);
                case 3:
                    return t.call(e, n[0], n[1], n[2])
                }
                return t.apply(e, n)
            }
            var Rn = Math.max;
            function Uc(t, e, n) {
                return e = Rn(e === void 0 ? t.length - 1 : e, 0),
                function() {
                    for (var r = arguments, i = -1, a = Rn(r.length - e, 0), o = Array(a); ++i < a; )
                        o[i] = r[e + i];
                    i = -1;
                    for (var c = Array(e + 1); ++i < e; )
                        c[i] = r[i];
                    return c[e] = n(o),
                    Hc(t, this, c)
                }
            }
            function jc(t) {
                return function() {
                    return t
                }
            }
            var Mc = xt ? function(t, e) {
                return xt(t, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: jc(e),
                    writable: !0
                })
            }
            : ut
              , Bc = 800
              , zc = 16
              , Fc = Date.now;
            function Gc(t) {
                var e = 0
                  , n = 0;
                return function() {
                    var r = Fc()
                      , i = zc - (r - n);
                    if (n = r,
                    i > 0) {
                        if (++e >= Bc)
                            return arguments[0]
                    } else
                        e = 0;
                    return t.apply(void 0, arguments)
                }
            }
            var Kc = Gc(Mc);
            function Wc(t) {
                return Kc(Uc(t, void 0, Lc), t + "")
            }
            var Yc = 1
              , Vc = 2
              , Jc = 4
              , Ct = Wc(function(t, e) {
                var n = {};
                if (t == null)
                    return n;
                var r = !1;
                e = Nt(e, function(a) {
                    return a = ct(a, t),
                    r || (r = a.length > 1),
                    a
                }),
                gt(t, ue(t), n),
                r && (n = bt(n, Yc | Vc | Jc, Nc));
                for (var i = e.length; i--; )
                    Dc(n, e[i]);
                return n
            });
            function qn(t, e, n, r) {
                if (!Y(t))
                    return t;
                e = ct(e, t);
                for (var i = -1, a = e.length, o = a - 1, c = t; c != null && ++i < a; ) {
                    var s = st(e[i])
                      , l = n;
                    if (s === "__proto__" || s === "constructor" || s === "prototype")
                        return t;
                    if (i != o) {
                        var _ = c[s];
                        l = r ? r(_, s, c) : void 0,
                        l === void 0 && (l = Y(_) ? _ : Qt(e[i + 1]) ? [] : {})
                    }
                    Xt(c, s, l),
                    c = c[s]
                }
                return t
            }
            function Xc(t, e, n) {
                for (var r = -1, i = e.length, a = {}; ++r < i; ) {
                    var o = e[r]
                      , c = Ut(t, o);
                    n(c, o) && qn(a, ct(o, t), c)
                }
                return a
            }
            function Se(t, e) {
                if (t == null)
                    return {};
                var n = Nt(ue(t), function(r) {
                    return [r]
                });
                return e = Sn(e),
                Xc(t, n, function(r, i) {
                    return e(r, i[0])
                })
            }
            class P {
                static on(e, n) {
                    const r = this.events[e];
                    r ? r.push(n) : this.events[e] = [n]
                }
                static off(e, n) {
                    this.events[e] = this.events[e].filter(r=>r !== n)
                }
                static exec(e, ...n) {
                    const r = this.events[e];
                    !r || r.forEach(i=>{
                        i(...n)
                    }
                    )
                }
            }
            m(P, "events", {});
            var u;
            (function(t) {
                t.ADD_TO_CART = "add_to_cart_zalify",
                t.REMOVE_FROM_CART = "remove_from_cart_zalify",
                t.BEGIN_CHECKOUT = "begin_checkout_zalify",
                t.PURCHASE = "purchase_zalify",
                t.TRANSACTION = "transaction_zalify",
                t.VIEW_PRODUCT = "view_item_zalify",
                t.VIEW_COLLECTION = "view_collection_zalify",
                t.SEARCH = "search_zalify",
                t.ADD_PAYMENT_INFO = "payment_info_submitted_zalify",
                t.HACK_BEGIN_CHECKOUT = "hack_checkout_started"
            }
            )(u || (u = {}));
            const Zc = ()=>{
                const t = h.getUserData();
                if (!t)
                    return {};
                const e = {
                    em: t.email,
                    fn: t.firstName,
                    ln: t.lastName,
                    ph: t.phone,
                    ct: t.city,
                    cn: t.country,
                    st: t.street,
                    zp: t.zip,
                    external_id: t.external_id
                };
                return Se(e, ut)
            }
              , Ae = {
                AddToCart: u.ADD_TO_CART,
                InitiateCheckout: u.BEGIN_CHECKOUT,
                Purchase: u.PURCHASE,
                Search: u.SEARCH,
                ViewContent: u.VIEW_PRODUCT,
                AddPaymentInfo: u.ADD_PAYMENT_INFO
            }
              , Dt = class {
                static init(e) {
                    this.inited = !0;
                    const n = document.createElement("script");
                    n.id = "zalify-fb-pixel-install";
                    const r = Zc();
                    this.pixelIds = e,
                    n.innerHTML = `

    !(function (f, b, e, v, n, t, s) {
      if (f.fbq) {
        delete f.fbq;
      }
      n = f.fbq = function () {
        const blockList = ['ViewContent', 'AddToCart', 'Purchase', 'InitiateCheckout'];
        const args = Array.from(arguments);

        if (args[0] === "zalify") {
          args.shift();
        } else if (args.some(item=>blockList.includes(item))) {
          console.error("reject other pixel sdk",args)
          return;
        }
        n.callMethod ? n.callMethod.apply(n, args) : n.queue.push(args);
      };
      if (!f._fbq) f._fbq = n;
      n.push = n;
      n.loaded = !0;
      n.version = "2.0";
      n.queue = [];
      t = b.createElement(e);
      t.async = !0;
      t.src = v;
      s = b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t, s);
    })(
      window,
      document,
      "script",
      "https://connect.facebook.net/en_US/fbevents.js"
    );



      ${e.map(i=>`fbq('zalify','init', '${i}', ${JSON.stringify(r)});`).join(`
`)}
      ${this.pixelIds.map(i=>`fbq('zalify','trackSingle', '${i}', 'PageView');`).join(`
`)}
    `,
                    document.body.appendChild(n),
                    this.checkInit()
                }
                static track(e, n, r) {
                    !window.fbq || !this.inited ? this.queue.push([e, n, r]) : this.pixelIds.forEach(i=>O(this, null, function*() {
                        var s, l, _;
                        const a = yield Tt.getTrackData({
                            pixelId: i,
                            pixelType: "META",
                            event: Ae[e],
                            eventData: r.eventData
                        });
                        if (!a.canTrack) {
                            console.log("Can not track", i);
                            return
                        }
                        [u.ADD_TO_CART, u.BEGIN_CHECKOUT].includes(Ae[e]) && h.setPixelSessionHasDone(i, Ae[e]);
                        const o = a.eventData ? nt(n, {
                            eventData: a.eventData
                        }) : n;
                        console.log("FB trackData", e, a.eventData);
                        const c = o.eventID;
                        c ? (s = window.fbq) == null || s.call(window, "zalify", "trackSingle", i, e, Ct(o, "eventID"), {
                            eventID: c
                        }) : (l = window.fbq) == null || l.call(window, "zalify", "trackSingle", i, e, Ct(o, "eventID")),
                        (_ = window.zalifyPixelLogs) == null || _.pixel.push({
                            event: e,
                            pixelId: i,
                            eventData: a.eventData
                        })
                    }))
                }
                static viewProduct(e) {
                    this.track("ViewContent", {
                        content_name: "{{dlv_item_name}}",
                        value: "{{dlv_item_price}}",
                        content_ids: "[{{dlv_item_id}}]",
                        currency: "{{dlv_currency}}",
                        content_type: "product_group",
                        eventID: "{{dlv_event_id}}"
                    }, e)
                }
                static addToCart(e) {
                    this.track("AddToCart", {
                        content_name: "{{dlv_item_name}}",
                        value: "{{dlv_item_price}}",
                        content_ids: "[{{dlv_item_id}}]",
                        currency: "{{dlv_currency}}",
                        content_type: "product_group",
                        num_items: 1,
                        eventID: "{{dlv_event_id}}"
                    }, e)
                }
                static initiateCheckout(e) {
                    this.track("InitiateCheckout", {
                        content_name: "{{dlv_item_name}}",
                        value: "{{dlv_subtotal_price}}",
                        content_ids: "[{{dlv_item_ids}}]",
                        currency: "{{dlv_currency}}",
                        content_type: "product_group",
                        eventID: "{{dlv_event_id}}"
                    }, e)
                }
                static purchase(e) {
                    this.track("Purchase", {
                        content_name: "{{dlv_purchase_item_name}}",
                        value: "{{dlv_purchase_value}}",
                        content_ids: "[{{dlv_item_ids}}]",
                        currency: "{{dlv_currency}}",
                        content_type: "product_group",
                        eventID: "{{dlv_transaction_id}}"
                    }, e)
                }
                static search(e) {
                    console.log("search", e),
                    this.track("Search", {
                        search_string: e.eventData.search_query,
                        eventID: "{{dlv_event_id}}"
                    }, e)
                }
                static addPaymentInfo(e) {
                    this.track("AddPaymentInfo", {
                        content_name: "{{dlv_purchase_item_name}}",
                        value: "{{dlv_purchase_value}}",
                        content_ids: "[{{dlv_item_ids}}]",
                        currency: "{{dlv_currency}}",
                        content_type: "product_group",
                        eventID: "{{dlv_event_id}}"
                    }, e)
                }
            }
            ;
            let K = Dt;
            m(K, "queue", []),
            m(K, "inited", !1),
            m(K, "pixelIds", []),
            m(K, "checkInit", ()=>{
                window.fbq ? Dt.queue.forEach(e=>{
                    Dt.track(...e)
                }
                ) : setTimeout(()=>{
                    Dt.checkInit()
                }
                , 100)
            }
            );
            function Nn(t, e) {
                const n = document.createElement("script");
                n.id = "zalify-ga4-install",
                n.src = `https://www.googletagmanager.com/gtag/js?id=${t[0]}`;
                const r = document.createElement("script");
                r.innerHTML = `
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());
  ${t.map(i=>e ? `gtag('config', '${i}', {'allow_enhanced_conversions':true})` : `gtag('config', '${i}')`).join(`
`)};
  `,
                document.body.appendChild(r),
                document.body.appendChild(n)
            }
            class it {
                static init(e) {
                    Nn(e),
                    this.checkInit().then(()=>{
                        if (this.inited = !0,
                        G(window.Shopify)) {
                            const n = window.Shopify.checkout
                              , r = n.shipping_address
                              , i = {
                                email_address: n.email,
                                phone_number: V(),
                                "address.city": r.city,
                                "address.country": r.country_code,
                                "address.region": r.province_code,
                                "address.postal_code": r.zip,
                                "address.street": r.address1,
                                "address.first_name": r.first_name,
                                "address.last_name": r.last_name
                            };
                            window.gtag("set", "user_properties", i)
                        }
                        this.queue.forEach(([n,r])=>{
                            this.track(n, r)
                        }
                        )
                    }
                    )
                }
                static track(e, n, r) {
                    var a;
                    const i = r ? nt(n, r) : n;
                    !this.inited || !window.gtag ? this.queue.push([e, i]) : (window.gtag("event", e, T({
                        event: e
                    }, i)),
                    (a = window.zalifyPixelLogs) == null || a.ga4.push(T({
                        event: e
                    }, i)))
                }
                static viewProduct(e) {
                    this.track("view_item", {
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}",
                        items: e.eventData.items.map(n=>x(T({}, n), {
                            google_business_vertical: "retail"
                        })),
                        "x-fb-cd-content_name": "{{dlv_item_name}}",
                        "x-fb-cd-content_ids": "{{dlv_item_id}}",
                        "x-fb-cd-content_type": "product_group",
                        "x-fb-ck-fbp": "{{Browser ID}}",
                        "x-fb-ck-fbc": "{{Clicks ID}}"
                    }, e)
                }
                static addToCart(e) {
                    this.track("add_to_cart", {
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}",
                        items: e.eventData.items.map(n=>x(T({}, n), {
                            google_business_vertical: "retail"
                        })),
                        "x-fb-cd-content_name": "{{dlv_item_name}}",
                        "x-fb-cd-content_ids": "[{{dlv_item_id}}]",
                        "x-fb-ck-fbp": "{{Browser ID}}",
                        "x-fb-cd-content_type": "product_group"
                    }, e)
                }
                static initiateCheckout(e) {
                    this.track("begin_checkout", {
                        value: "{{dlv_subtotal_price}}",
                        currency: "{{dlv_currency}}",
                        items: e.eventData.items.map(n=>x(T({}, n), {
                            google_business_vertical: "retail"
                        })),
                        "x-fb-cd-content_name": "{{dlv_item_name}}",
                        "x-fb-cd-content_ids": "[{{dlv_item_ids}}]",
                        "x-fb-ck-fbp": "{{Browser ID}}",
                        "x-fb-cd-content_type": "product_group"
                    }, e)
                }
                static purchase(e) {
                    this.track("purchase", {
                        value: "{{dlv_purchase_value}}",
                        currency: "{{dlv_currency}}",
                        coupon: "{{dlv_coupon}}",
                        items: e.eventData.items.map(n=>x(T({}, n), {
                            google_business_vertical: "retail"
                        })),
                        event_id: "{{dlv_transaction_id}}",
                        "x-fb-cd-content_name": "{{dlv_purchase_item_name}}",
                        "x-fb-cd-content_ids": "[{{dlv_item_ids}}]",
                        "x-fb-ck-fbp": "{{Browser ID}}",
                        "x-fb-cd-content_type": "product_group"
                    }, e)
                }
                static viewCollection(e) {
                    this.track("view_item_list", {
                        item_list_id: e.eventData.id,
                        item_list_name: e.eventData.title,
                        items: e.eventData.items.map(n=>x(T({}, n), {
                            google_business_vertical: "retail"
                        }))
                    }, e)
                }
                static search(e) {
                    this.track("search", {
                        search_term: e.eventData.search_query
                    }, e)
                }
            }
            m(it, "queue", []),
            m(it, "inited", !1),
            m(it, "checkInit", ()=>new Promise(e=>{
                const n = ()=>{
                    window.gtag ? e(!0) : setTimeout(()=>{
                        n()
                    }
                    , 100)
                }
                ;
                n()
            }
            ));
            class dt {
                static init(e, n) {
                    if (this.options = e.map(r=>x(T({}, r), {
                        id: "AW-" + r.id.replace("AW-", "")
                    })).filter(r=>r.id),
                    n ? this.options.forEach(r=>{
                        window.gtag("config", r.id, {
                            allow_enhanced_conversions: !0
                        })
                    }
                    ) : Nn(this.options.map(r=>r.id), !0),
                    G(window.Shopify)) {
                        const r = window.Shopify.checkout
                          , i = r.shipping_address
                          , a = {
                            email: r.email,
                            phone_number: V() ? [`+${V()}`] : [],
                            address: {
                                city: i.city,
                                country: i.country_code,
                                region: i.province_code,
                                postal_code: i.zip,
                                street: i.address1,
                                first_name: i.first_name,
                                last_name: i.last_name
                            }
                        };
                        window.gtag("set", "user_data", a)
                    }
                    this.checkInit().then(()=>{
                        this.inited = !0,
                        this.queue.forEach(([r,i])=>{
                            this.track(r, i)
                        }
                        )
                    }
                    )
                }
                static track(e, n, r) {
                    var a;
                    const i = r ? nt(n, r) : n;
                    console.log("Google ads trackData", i),
                    !this.inited || !window.gtag ? this.queue.push([e, i]) : (window.gtag("event", e, T({
                        event: e,
                        event_callback: o=>{}
                    }, i)),
                    (a = window.zalifyPixelLogs) == null || a.googleads.push(T({
                        event: e
                    }, i)))
                }
                static viewProduct(e) {
                    return O(this, null, function*() {
                        var n;
                        yield this.checkInit(),
                        (n = this.options) == null || n.forEach(r=>{
                            !r.gads_crs_lbl_vc || this.track("conversion", {
                                value: "{{dlv_item_price}}",
                                currency: "{{dlv_currency}}",
                                items: e.eventData.items,
                                send_to: `${r.id}/${r.gads_crs_lbl_vc}`
                            }, e)
                        }
                        )
                    })
                }
                static addToCart(e) {
                    return O(this, null, function*() {
                        var n;
                        yield this.checkInit(),
                        (n = this.options) == null || n.forEach(r=>{
                            !r.gads_cvs_lbl_atc || this.track("conversion", {
                                value: "{{dlv_item_price}}",
                                currency: "{{dlv_currency}}",
                                items: e.eventData.items,
                                send_to: `${r.id}/${r.gads_cvs_lbl_atc}`
                            }, e)
                        }
                        )
                    })
                }
                static initiateCheckout(e) {
                    return O(this, null, function*() {
                        var n;
                        yield this.checkInit(),
                        (n = this.options) == null || n.forEach(r=>{
                            !r.gads_cvs_lbl_bc || this.track("conversion", {
                                value: "{{dlv_subtotal_price}}",
                                currency: "{{dlv_currency}}",
                                send_to: `${r.id}/${r.gads_cvs_lbl_bc}`
                            }, e)
                        }
                        )
                    })
                }
                static purchase(e) {
                    return O(this, null, function*() {
                        var n;
                        yield this.checkInit(),
                        (n = this.options) == null || n.forEach(r=>{
                            !r.gads_crs_lbl_pc || this.track("conversion", {
                                send_to: `${r.id}/${r.gads_crs_lbl_pc}`,
                                value: "{{dlv_purchase_value}}",
                                currency: "{{dlv_currency}}",
                                transaction_id: "{{dlv_transaction_id}}"
                            }, e)
                        }
                        )
                    })
                }
            }
            m(dt, "queue", []),
            m(dt, "inited", !1),
            m(dt, "options"),
            m(dt, "checkInit", ()=>new Promise(e=>{
                const n = ()=>{
                    window.gtag ? e(!0) : setTimeout(()=>{
                        n()
                    }
                    , 100)
                }
                ;
                n()
            }
            ));
            class Et {
                static init(e) {
                    const n = document.createElement("script");
                    n.id = "zalify-pinterestid-pixel-install",
                    n.innerHTML = `
    !function(e){if(!window.pintrk){window.pintrk = function () {
      window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var
        n=window.pintrk;n.queue=[],n.version="3.0";var
        t=document.createElement("script");t.async=!0,t.src=e;var
        r=document.getElementsByTagName("script")[0];
        r.parentNode.insertBefore(t,r)}}("https://s.pinimg.com/ct/core.js");
      pintrk('load', '${e}', ${G(window.Shopify) ? `{em: '${window.Shopify.checkout.email}'}` : "{}"});
      pintrk('page');

      `,
                    document.body.appendChild(n),
                    this.checkInit().then(()=>{
                        console.log("Pintrk pixel initialed!"),
                        this.inited = !0,
                        this.queue.forEach(([r,i])=>{
                            this.track(r, i)
                        }
                        )
                    }
                    )
                }
                static track(e, n, r) {
                    var a;
                    const i = r ? nt(n, r) : n;
                    !window.pintrk || !this.inited ? this.queue.push([e, i]) : (console.log("pinterest track", e, i),
                    window.pintrk("track", e, i),
                    (a = window.zalifyPixelLogs) == null || a.pinterest.push(T({
                        event: e
                    }, i)))
                }
                static viewProduct(e) {
                    this.track("pagevisit", {
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}",
                        line_items: [{
                            product_name: "{{dlv_item_name}}",
                            product_id: "{{dlv_item_id}}",
                            product_price: "{{dlv_item_price}}"
                        }]
                    }, e)
                }
                static addToCart(e) {
                    this.track("addtocart", {
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}",
                        line_items: [{
                            product_name: "{{dlv_item_name}}",
                            product_id: "{{dlv_item_id}}",
                            product_price: "{{dlv_item_price}}",
                            product_variant: "{{dlv_item_variant}}"
                        }]
                    }, e)
                }
                static initiateCheckout(e) {
                    this.track("START_CHECKOUT", {
                        line_items: e.eventData.items.map(n=>({
                            product_name: n.item_name,
                            product_id: n.item_id,
                            product_price: n.price,
                            product_variant: n.item_variant
                        })),
                        price: "{{dlv_subtotal_price}}",
                        value: "{{dlv_subtotal_price}}",
                        currency: "{{dlv_currency}}"
                    }, e)
                }
                static purchase(e) {
                    this.track("checkout", {
                        line_items: e.eventData.items.map(n=>({
                            product_name: n.item_name,
                            product_id: n.item_id,
                            product_price: n.price,
                            product_variant: n.item_variant
                        })),
                        promo_code: "{{dlv_coupon}}",
                        value: "{{dlv_purchase_value}}",
                        currency: "{{dlv_currency}}",
                        event_id: "{{dlv_transaction_id}}"
                    }, e)
                }
            }
            m(Et, "queue", []),
            m(Et, "inited", !1),
            m(Et, "checkInit", ()=>new Promise(e=>{
                const n = ()=>{
                    window.pintrk ? e(!0) : setTimeout(()=>{
                        n()
                    }
                    , 100)
                }
                ;
                n()
            }
            ));
            class St {
                static init(e) {
                    const n = document.createElement("script");
                    n.id = "zalify-snapchat-pixel-install";
                    let r = {};
                    G(window.Shopify) && (r = {
                        user_email: window.Shopify.checkout.email
                    },
                    V() && (r.user_phone_number = V())),
                    n.innerHTML = `
    (function(e,t,n){if(e.snaptr)return;var a=e.snaptr=function()
      {a.handleRequest?a.handleRequest.apply(a,arguments):a.queue.push(arguments)};
      a.queue=[];var s='script';r=t.createElement(s);r.async=!0;
      r.src=n;var u=t.getElementsByTagName(s)[0];
      u.parentNode.insertBefore(r,u);})(window,document,
      'https://sc-static.net/scevent.min.js');

      ${e.map(i=>`snaptr('init', '${i}', ${JSON.stringify(r)});`).join(`
`)}

      snaptr('track', 'PAGE_VIEW');
      `,
                    document.body.appendChild(n),
                    this.checkInit().then(()=>{
                        console.log("Snapchat pixel initialed!"),
                        this.inited = !0,
                        this.queue.forEach(([i,a])=>{
                            this.track(i, a)
                        }
                        )
                    }
                    )
                }
                static track(e, n, r) {
                    var a;
                    const i = r ? nt(n, r) : n;
                    !window.snaptr || !this.inited ? this.queue.push([e, i]) : (console.log("snapchat track", e, i),
                    i.event_id ? window.snaptr("track", e, Ct(i, "event_id")) : window.snaptr("track", e, i),
                    (a = window.zalifyPixelLogs) == null || a.snapchat.push(T({
                        event: e
                    }, i)))
                }
                static viewProduct(e) {
                    this.track("VIEW_CONTENT ", {
                        item_ids: "{{dlv_item_id}}",
                        description: "{{dlv_item_name}}",
                        number_items: 1,
                        price: "{{dlv_item_price}}",
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}"
                    }, e)
                }
                static addToCart(e) {
                    this.track("ADD_CART", {
                        item_ids: "{{dlv_item_id}}",
                        description: "{{dlv_item_name}}",
                        number_items: 1,
                        price: "{{dlv_item_price}}",
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}"
                    }, e)
                }
                static initiateCheckout(e) {}
                static purchase(e) {
                    this.track("PURCHASE", {
                        item_ids: e.eventData.items.map(n=>n.item_id),
                        description: "{{dlv_purchase_item_name}}",
                        price: "{{dlv_purchase_value}}",
                        currency: "{{dlv_currency}}",
                        transaction_id: "{{dlv_transaction_id}}"
                    }, e)
                }
            }
            m(St, "queue", []),
            m(St, "inited", !1),
            m(St, "checkInit", ()=>new Promise(e=>{
                const n = ()=>{
                    window.snaptr ? e(!0) : setTimeout(()=>{
                        n()
                    }
                    , 100)
                }
                ;
                n()
            }
            ));
            function Ln(t, e, n) {
                return t == null ? t : qn(t, e, n)
            }
            const Hn = ()=>{
                f(window, "ymq_option.ymq_option_branding.extra.doAddCart_after_getAjaxData") && Ln(window, "ymq_option.ymq_option_branding.extra.doAddCart_after_getAjaxData", ""),
                f(window, "ymq_option.ymq_option_branding.extra.doCheckout_after_getAjaxData") && Ln(window, "ymq_option.ymq_option_branding.extra.doCheckout_after_getAjaxData", "")
            }
            ;
            class at {
                static init(e) {
                    const n = document.createElement("script");
                    n.id = "zalify-tiktop-pixel-install",
                    n.innerHTML = `
      !function (w, d, t) {
        w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++
    )ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var i="https://analytics.tiktok.com/i18n/pixel/events.js";ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=i,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=i+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};
    ${e.map(r=>`ttq.load('${r}')`).join(`
`)}

        ttq.page();
      }(window, document, 'ttq');
      `,
                    document.body.appendChild(n),
                    this.checkInit().then(()=>{
                        var r;
                        if (console.log("Tiktok pixel initialed!"),
                        this.inited = !0,
                        G(window.Shopify)) {
                            const i = window.Shopify.checkout;
                            (r = window.ttq) == null || r.identify({
                                email: i.email,
                                phone_number: V(),
                                external_id: `gid://shopify/Customer/${i.customer_id}`
                            })
                        }
                        this.queue.forEach(([i,a])=>{
                            this.track(i, a)
                        }
                        )
                    }
                    )
                }
                static track(e, n, r) {
                    var a, o;
                    const i = r ? nt(n, r) : n;
                    !((a = window.ttq) == null ? void 0 : a.track) || !this.inited ? this.queue.push([e, i]) : (console.log("Tiktok track", e, i),
                    i.event_id ? window.ttq.track(e, Ct(i, "event_id"), {
                        event_id: i.event_id
                    }) : window.ttq.track(e, Ct(i, "event_id")),
                    (o = window.zalifyPixelLogs) == null || o.tiktokpixel.push(T({
                        event: e
                    }, i)),
                    Hn())
                }
                static viewProduct(e) {
                    this.track("ViewContent", {
                        content_id: "{{dlv_item_id}}",
                        content_type: "product",
                        content_name: "{{dlv_item_name}}",
                        quantity: 1,
                        price: "{{dlv_item_price}}",
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}",
                        event_id: "{{dlv_event_id}}"
                    }, e)
                }
                static addToCart(e) {
                    this.track("AddToCart", {
                        content_id: "{{dlv_item_id}}",
                        content_type: "product",
                        content_name: "{{dlv_item_name}}",
                        quantity: 1,
                        price: "{{dlv_item_price}}",
                        value: "{{dlv_item_price}}",
                        currency: "{{dlv_currency}}",
                        event_id: "{{dlv_event_id}}"
                    }, e)
                }
                static initiateCheckout(e) {
                    this.track("InitiateCheckout", {
                        contents: e.eventData.items.map(n=>({
                            content_id: n.item_id,
                            content_name: n.item_name,
                            content_type: "product"
                        })),
                        content_type: "product_group",
                        content_name: "{{dlv_item_name}}",
                        price: "{{dlv_subtotal_price}}",
                        value: "{{dlv_subtotal_price}}",
                        currency: "{{dlv_currency}}",
                        event_id: "{{dlv_event_id}}"
                    }, e)
                }
                static purchase(e) {
                    this.track("CompletePayment", {
                        contents: e.eventData.items.map(n=>({
                            content_id: n.item_id,
                            content_name: n.item_name,
                            content_type: "product"
                        })),
                        content_type: "product_group",
                        content_name: "{{dlv_purchase_item_name}}",
                        value: "{{dlv_purchase_value}}",
                        currency: "{{dlv_currency}}",
                        event_id: "{{dlv_transaction_id}}"
                    }, e)
                }
                static search(e) {
                    this.track("Search", {
                        query: e.eventData.search_query,
                        content_id: e.eventData.search_query
                    }, e)
                }
                static addPaymentInfo(e) {
                    this.track("AddPaymentInfo", {
                        contents: e.eventData.items.map(n=>({
                            content_id: n.item_id,
                            content_name: n.item_name,
                            content_type: "product"
                        })),
                        content_type: "product_group",
                        content_name: "{{dlv_purchase_item_name}}",
                        value: "{{dlv_purchase_value}}",
                        currency: "{{dlv_currency}}",
                        event_id: "{{dlv_event_id}}"
                    }, e)
                }
            }
            m(at, "queue", []),
            m(at, "inited", !1),
            m(at, "checkInit", ()=>new Promise(e=>{
                const n = ()=>{
                    var r;
                    ((r = window.ttq) == null ? void 0 : r.track) ? (Hn(),
                    e(!0)) : setTimeout(()=>{
                        n()
                    }
                    , 100)
                }
                ;
                n()
            }
            ));
            function Qc() {
                if (!document.getElementById("splitlitme-recaptcha")) {
                    const t = document.createElement("script");
                    t.id = "splitlitme-recaptcha",
                    t.src = `https://www.recaptcha.net/recaptcha/api.js?render=${An}`,
                    document.body.appendChild(t)
                }
            }
            function ts() {
                return console.log("Begin load grecaptcha"),
                Qc(),
                new Promise(t=>{
                    const e = ()=>{
                        if (!window.grecaptcha)
                            requestAnimationFrame(e);
                        else
                            return console.log("End load grecaptcha"),
                            window.grecaptcha.ready(t)
                    }
                    ;
                    e()
                }
                )
            }
            const jt = ()=>"https://app.zalify.com";
            function At(t) {
                return O(this, null, function*() {
                    let e = "";
                    return {}.SDK_NODE_ENV !== "development" && (yield ts(),
                    e = yield window.grecaptcha.execute(An, {
                        action: t.event
                    })),
                    t.event === "bc" ? navigator.sendBeacon(`${jt()}/api/pixels`, JSON.stringify(t)) : fetch(`${jt()}/api/pixels`, {
                        method: "POST",
                        mode: "cors",
                        body: JSON.stringify(t),
                        headers: {
                            "Content-Type": "application/json",
                            "splitlitme-recaptcha": e
                        }
                    }).then(n=>O(this, null, function*() {
                        var i, a;
                        const r = yield n.json();
                        if (n.status >= 200 && n.status < 300)
                            return r;
                        throw {
                            message: ((a = (i = r == null ? void 0 : r.errors) == null ? void 0 : i[0]) == null ? void 0 : a.message) || "Network error",
                            code: n.status
                        }
                    }))
                })
            }
            window.dataLayer || (window.dataLayer = []);
            class j {
                static push(e) {
                    return O(this, null, function*() {
                        var r;
                        const n = x(T({}, e), {
                            transport_type: "beacon"
                        });
                        window.dataLayerInited ? (r = window.dataLayer) == null || r.push(n) : this.queue.push(n)
                    })
                }
                static track(e, n, r) {
                    return O(this, null, function*() {
                        this.push(n);
                        const i = [K, it, dt, at, Et, St, rt];
                        switch (e) {
                        case u.VIEW_PRODUCT:
                            i.forEach(c=>c.viewProduct(n));
                            break;
                        case u.ADD_TO_CART:
                            const a = f(n, "eventData.items.0.item_id")
                              , o = f(n, "eventData.items.0.item_name");
                            a && o && i.forEach(c=>c.addToCart(n));
                            break;
                        case u.BEGIN_CHECKOUT:
                            i.forEach(c=>c.initiateCheckout(n));
                            break;
                        case u.PURCHASE:
                            i.forEach(c=>c.purchase(n));
                            break;
                        case u.VIEW_COLLECTION:
                            it.viewCollection(n);
                            break;
                        case u.SEARCH:
                            K.search(n),
                            at.search(n),
                            it.search(n);
                            break;
                        case u.ADD_PAYMENT_INFO:
                            K.addPaymentInfo(n),
                            at.addPaymentInfo(n);
                            break
                        }
                    })
                }
            }
            m(j, "queue", []);
            let Ie = (t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n &= 63,
            n < 36 ? e += n.toString(36) : n < 62 ? e += (n - 26).toString(36).toUpperCase() : n > 62 ? e += "-" : e += "_",
            e), "");
            function W() {
                if (U("_ga"))
                    return U("_ga").replace(/GA1\.\d+\./, "");
                try {
                    const n = JSON.parse(localStorage.getItem("zalify_web_pixel_config") || "{}");
                    if (n.apiClientId)
                        return localStorage.setItem("USER_SESSION_ID", n.apiClientId),
                        n.apiClientId.toString()
                } catch (n) {}
                let e = localStorage.getItem("USER_SESSION_ID");
                return e || (e = Ie(),
                localStorage.setItem("USER_SESSION_ID", e)),
                e
            }
            function Mt() {
                var t, e;
                return Se({
                    fbp: U("_fbp"),
                    fbc: U("_fbc"),
                    sid: W(),
                    ga: U("_ga"),
                    ttc: U("ttclid") || ((e = (t = window.ttq) == null ? void 0 : t._adInfo) == null ? void 0 : e.callback),
                    ttp: U("_ttp")
                }, ut)
            }
            function es(t) {
                return Boolean(t.product_id)
            }
            function J(t, e) {
                return x(T({}, t), {
                    items: t.items.map(n=>{
                        var i, a;
                        const r = {
                            item_id: es(n) ? n.product_id.toString() : n.id.toString(),
                            item_name: n.title,
                            currency: ((a = (i = window.Shopify) == null ? void 0 : i.currency) == null ? void 0 : a.active) || "",
                            item_variant: n.variant_title || n.title,
                            price: n.price / 100,
                            item_brand: e.brand
                        };
                        return f(n, "discount") && (r.discount = f(n, "discount")),
                        n.quantity && (r.quantity = n.quantity),
                        n.type && (r.item_category = n.type),
                        r
                    }
                    )
                })
            }
            function ns(t=1e3) {
                return new Promise(e=>{
                    setTimeout(e, t)
                }
                )
            }
            function Oe() {
                return fetch("/cart/update.js", {
                    body: JSON.stringify({}),
                    method: "POST"
                }).then(t=>t.json())
            }
            function rs(t, e) {
                return t === e ? !0 : JSON.stringify(t) === JSON.stringify(e)
            }
            let It = !0;
            const Bt = ()=>O(this, null, function*() {
                if (!It)
                    return;
                if (G(window.Shopify))
                    return It = !1,
                    null;
                let t = +new Date;
                try {
                    const r = yield fetch("/cart.js", {
                        method: "GET",
                        mode: "cors",
                        headers: {
                            "Content-Type": "application/json"
                        }
                    }).then(c=>c.json()).then(c=>c)
                      , i = h.getCurrentCart();
                    let a = i;
                    if ((!i || !rs(i, r)) && (a = r),
                    (i == null ? void 0 : i.token) !== r.token) {
                        const c = yield Oe();
                        console.log(`Zalify generate cart token: ${c == null ? void 0 : c.token}`)
                    }
                    h.setHasAddToCart((i == null ? void 0 : i.token) === r.token);
                    const o = (i == null ? void 0 : i.item_count) || 0;
                    if (o < r.item_count) {
                        const c = [];
                        r.items.forEach(s=>{
                            const l = i == null ? void 0 : i.items.find(_=>_.id === s.id);
                            (!l || l.quantity < s.quantity) && c.push(s)
                        }
                        ),
                        c.length === 0 && c.push(r.items[0]),
                        P.exec(u.ADD_TO_CART, {
                            items: c,
                            token: r.token
                        })
                    } else if (i && o > r.item_count) {
                        const c = [];
                        i.items.forEach(s=>{
                            const l = r.items.find(_=>_.id === s.id);
                            (!l || l.quantity < s.quantity) && c.push(s)
                        }
                        ),
                        P.exec(u.REMOVE_FROM_CART, {
                            items: c
                        })
                    }
                    h.setCurrentCart(a)
                } catch (r) {
                    console.log(r)
                }
                const n = +new Date - t;
                n > 1e3 || (yield ns(1e3 - n)),
                Bt()
            });
            function is() {
                Bt();
                const t = ()=>{
                    document.visibilityState === "hidden" ? (It = !1,
                    console.log("stop cart event")) : It || (console.log("recovery cart event"),
                    It = !0,
                    Bt())
                }
                ;
                document.addEventListener("visibilitychange", t)
            }
            const Un = ["buy", "checkout", "check out", "pay", "\u8D2D\u4E70", "\u7ACB\u5373", "\u7ACB\u523B", "\u8CFC\u8CB7", "\u7D50\u5E33"];
            function jn(t) {
                const e = n=>{
                    const r = a=>a instanceof HTMLButtonElement || a instanceof HTMLElement && a.role === "button" || a instanceof HTMLIFrameElement || a instanceof HTMLInputElement && a.type === "submit" ? a : (a == null ? void 0 : a.parentElement) ? r(a == null ? void 0 : a.parentElement) : null;
                    if (!(n.target instanceof Element))
                        return;
                    const i = r(n.target);
                    if (!!i && Un.some(a=>(i.innerText || i.value || i.getAttribute("title") || i.getAttribute("aria-label") || "").toLowerCase().includes(a.toLowerCase()))) {
                        const a = h.getCurrentCart();
                        if (!a)
                            return;
                        const o = {
                            items: a.items || [],
                            total_price: a.total_price,
                            items_subtotal_price: a.items_subtotal_price,
                            total_discount: a.total_discount,
                            event_id: Ie(),
                            event_time: Math.round(new Date().getTime() / 1e3)
                        };
                        P.exec(u.BEGIN_CHECKOUT, o),
                        t == null || t.eventCallback(o),
                        h.setSessionHasBeginCheckout(!0)
                    }
                }
                ;
                window.addEventListener("click", e, !0),
                window.addEventListener("blur", ()=>{
                    h.getSessionHasBeginCheckout() || setTimeout(()=>{
                        var n;
                        if (document.activeElement && ((n = document.activeElement) == null ? void 0 : n.tagName) === "IFRAME") {
                            if (!Un.some(o=>{
                                var c;
                                return String((c = document.activeElement) == null ? void 0 : c.getAttribute("title")).toLowerCase().includes(o.toLowerCase())
                            }
                            ))
                                return;
                            const i = h.getCurrentCart();
                            if (!i)
                                return;
                            const a = {
                                items: i.items || [],
                                total_price: i.total_price,
                                items_subtotal_price: i.items_subtotal_price,
                                total_discount: i.total_discount,
                                event_id: Ie(),
                                event_time: Math.round(new Date().getTime() / 1e3)
                            };
                            P.exec(u.BEGIN_CHECKOUT, a),
                            t == null || t.eventCallback(a),
                            h.setSessionHasBeginCheckout(!0)
                        }
                    }
                    )
                }
                )
            }
            const as = t=>!localStorage.getItem(`popup-purchase-token-${t}`)
              , os = t=>localStorage.setItem(`popup-purchase-token-${t}`, "true");
            function cs() {
                var e, n;
                const t = (n = (e = window.Shopify) == null ? void 0 : e.Checkout) == null ? void 0 : n.token;
                if (t && G(window.Shopify) && as(t)) {
                    os(t);
                    const r = window.Shopify.checkout;
                    setTimeout(()=>{
                        var o;
                        if (!r)
                            return;
                        const i = {
                            transaction_id: r.token,
                            email: r.email,
                            tax: r.total_tax,
                            items: (r.line_items || []).map(c=>{
                                const s = x(T({}, c), {
                                    price: c.price * 100
                                })
                                  , l = Te(c.discount_allocations.map(_=>Number(_.amount)));
                                return l && (s.discount = l.toString()),
                                s
                            }
                            ),
                            value: r.total_price,
                            shipping: (o = r.shipping_rate) == null ? void 0 : o.price,
                            shipping_address: r.shipping_address,
                            currency: r.currency
                        }
                          , a = f(r, "discount.code");
                        a && (i.coupon = a),
                        P.exec(u.PURCHASE, i),
                        console.log("clear cart"),
                        h.setCurrentCart(null)
                    }
                    , 0)
                }
            }
            function ss() {
                var t;
                ((t = window.zalifyShopify) == null ? void 0 : t.search) && P.exec(u.SEARCH, {
                    query: window.zalifyShopify.search.terms,
                    items: window.zalifyShopify.search.products
                })
            }
            function Mn() {
                var t;
                ((t = window.zalifyShopify) == null ? void 0 : t.collection) && P.exec(u.VIEW_COLLECTION, {
                    items: window.zalifyShopify.collection.products,
                    id: window.zalifyShopify.collection.id,
                    title: window.zalifyShopify.collection.title
                })
            }
            const pt = {
                get(t) {
                    return new URLSearchParams(location.search.replace(/^\?/, "")).get(t) || ""
                }
            };
            function us() {
                var t, e;
                if ((t = window.zalifyShopify) == null ? void 0 : t.product) {
                    const n = (e = window.zalifyShopify) == null ? void 0 : e.product
                      , r = pt.get("variant") ? pt.get("variant") : n.variants[0].id.toString()
                      , i = n.variants.find(a=>a.id.toString() === r);
                    P.exec(u.VIEW_PRODUCT, {
                        items: [x(T({}, n), {
                            variant_title: (i == null ? void 0 : i.title) || ""
                        })]
                    })
                }
            }
            function ls(t) {
                return O(this, null, function*() {
                    const e = {
                        clientId: W(),
                        timestamp: new Date().getTime(),
                        name: t.event,
                        context: {
                            pixels: JSON.parse(localStorage.getItem(Pn) || "{}"),
                            user: h.getUserData() || {},
                            document: {
                                location: {
                                    href: location.href,
                                    hash: location.hash,
                                    host: location.host,
                                    hostname: location.hostname,
                                    origin: location.origin,
                                    pathname: location.pathname,
                                    port: location.port,
                                    protocol: location.protocol,
                                    search: location.search
                                },
                                referrer: document.referrer,
                                characterSet: document.characterSet,
                                title: document.title
                            },
                            navigator: {
                                language: navigator.language,
                                cookieEnabled: navigator.cookieEnabled,
                                languages: navigator.language,
                                userAgent: navigator.userAgent
                            },
                            window: {
                                innerHeight: 0,
                                innerWidth: 0,
                                outerHeight: 0,
                                outerWidth: 0,
                                pageXOffset: 0,
                                pageYOffset: 0,
                                location: {
                                    href: location.href,
                                    hash: location.hash,
                                    host: location.host,
                                    hostname: location.hostname,
                                    origin: location.origin,
                                    pathname: location.pathname,
                                    port: location.port,
                                    protocol: location.protocol,
                                    search: location.search
                                },
                                origin: location.origin,
                                screenX: 0,
                                screenY: 0,
                                scrollX: 0,
                                scrollY: 0
                            }
                        },
                        data: he(t.data)
                    };
                    e.data.event_time && (e.data.event_time = e.data.event_time * 1e3),
                    navigator.sendBeacon(`${jt()}/api/web-pixels`, JSON.stringify({
                        data: e,
                        workspaceId: t.workspaceId
                    }))
                })
            }
            const ds = t=>({
                product_viewed: u.VIEW_PRODUCT,
                product_added_to_cart: u.ADD_TO_CART,
                checkout_started: u.BEGIN_CHECKOUT,
                checkout_completed: u.PURCHASE,
                search_submitted: u.SEARCH,
                payment_info_submitted: u.ADD_PAYMENT_INFO
            })[t];
            function ps({workspaceId: t}) {
                Oe().then(e=>{
                    h.setCurrentCart(e)
                }
                ),
                jn({
                    eventCallback(e) {
                        const n = J({
                            items: e.items,
                            total_price: (e.total_price / 100).toFixed(2),
                            subtotal_price: (e.items_subtotal_price / 100).toFixed(2),
                            total_discount: (e.total_discount / 100).toFixed(2)
                        }, {
                            brand: ""
                        });
                        h.getSessionServerHasBeginCheckout() || (h.setSessionServerHasBeginCheckout(!0),
                        ls({
                            event: u.HACK_BEGIN_CHECKOUT,
                            data: {
                                items: n.items,
                                event_id: e.event_id,
                                event_time: e.event_time,
                                value: +n.subtotal_price
                            },
                            workspaceId: t
                        }))
                    }
                }),
                Mn(),
                Bn({
                    workspaceId: t
                })
            }
            function Bn({workspaceId: t}) {
                fs(),
                Object.keys(localStorage).filter(n=>n.startsWith("zalify_web_pixel_event")).forEach(n=>O(this, null, function*() {
                    const r = localStorage.getItem(n);
                    if (localStorage.removeItem(n),
                    r) {
                        const i = JSON.parse(r)
                          , a = _s(i);
                        if (!a)
                            return;
                        const o = ds(i.name);
                        if (o) {
                            if (o === u.ADD_TO_CART) {
                                Oe().then(_=>{
                                    h.setCurrentCart(_)
                                }
                                );
                                try {
                                    At({
                                        event: "init_order",
                                        wid: t,
                                        sid: W(),
                                        cart_token: h.getCartToken(),
                                        payload: Mt()
                                    })
                                } catch (_) {}
                                h.setSessionHasAddToCart(!0);
                                const c = f(a, "items.0.item_id")
                                  , s = f(a, "items.0.item_name");
                                if (!c || !s)
                                    return;
                                const l = h.getUserData();
                                if (l == null ? void 0 : l.email) {
                                    console.log("start abandoned cart workflow");
                                    const p = i.data.cartLine.merchandise;
                                    At({
                                        wid: t,
                                        event: "atc",
                                        sid: W(),
                                        cart_token: h.getCartToken(),
                                        user_properties: {
                                            email: l.email
                                        },
                                        payload: {
                                            items: [{
                                                id: p.id,
                                                quantity: 1,
                                                variant_id: p.id,
                                                title: p.title,
                                                price: p.price.amount,
                                                original_price: p.price.amount,
                                                discounted_price: p.price.amount,
                                                line_price: p.price.amount,
                                                original_line_price: p.price.amount,
                                                total_discount: 0,
                                                discounts: [],
                                                vendor: p.product.vendor,
                                                product_id: p.product.id,
                                                final_price: p.price.amount,
                                                final_line_price: p.price.amount,
                                                url: i.context.document.location.href,
                                                image: p.image.src,
                                                product_title: p.product.title,
                                                product_description: p.title,
                                                variant_title: p.title
                                            }]
                                        }
                                    })
                                }
                            }
                            if (o === u.BEGIN_CHECKOUT) {
                                if (h.getSessionHasBeginCheckout())
                                    return;
                                h.setSessionHasBeginCheckout(!0)
                            }
                            j.track(o, {
                                event: o,
                                eventData: a
                            }, !0)
                        }
                    }
                })),
                requestAnimationFrame(()=>Bn({
                    workspaceId: t
                }))
            }
            function _s(t) {
                var e, n, r, i;
                if (t.name === "product_viewed") {
                    const a = t.data.productVariant;
                    return {
                        items: [{
                            item_id: a.product.id,
                            item_name: a.product.title,
                            price: a.price.amount,
                            currency: ((n = (e = window.Shopify) == null ? void 0 : e.currency) == null ? void 0 : n.active) || "",
                            item_variant: a.product.title,
                            quantity: 1
                        }],
                        value: a.price.amount,
                        event_id: t.id,
                        event_time: t.timestamp
                    }
                } else if (t.name === "product_added_to_cart") {
                    const a = t.data.cartLine.merchandise;
                    return {
                        items: [{
                            item_id: a.product.id,
                            item_name: a.product.title,
                            price: a.price.amount,
                            currency: ((i = (r = window.Shopify) == null ? void 0 : r.currency) == null ? void 0 : i.active) || "",
                            item_variant: a.product.title,
                            quantity: 1,
                            item_brand: ""
                        }],
                        value: a.price.amount,
                        event_id: t.id,
                        event_time: t.timestamp
                    }
                } else if (t.name === "checkout_started") {
                    const a = t.data.checkout;
                    return {
                        items: a.lineItems.map(o=>{
                            var c, s;
                            return {
                                item_id: o.variant.product.id,
                                item_name: o.variant.product.title,
                                price: o.variant.price.amount,
                                currency: ((s = (c = window.Shopify) == null ? void 0 : c.currency) == null ? void 0 : s.active) || "",
                                item_variant: o.variant.product.title,
                                quantity: o.quantity
                            }
                        }
                        ),
                        value: a.subtotalPrice.amount,
                        subtotal_price: a.subtotalPrice.amount,
                        event_id: t.id,
                        event_time: t.timestamp
                    }
                } else if (t.name === "checkout_completed") {
                    const a = t.data.checkout;
                    return {
                        items: a.lineItems.map(o=>{
                            var c, s;
                            return {
                                item_id: o.variant.product.id,
                                item_name: o.variant.product.title,
                                price: o.variant.price.amount,
                                currency: ((s = (c = window.Shopify) == null ? void 0 : c.currency) == null ? void 0 : s.active) || "",
                                item_variant: o.variant.product.title,
                                quantity: o.quantity
                            }
                        }
                        ),
                        event_id: t.id,
                        event_time: t.timestamp,
                        value: a.totalPrice.amount,
                        transaction_id: a.token
                    }
                } else {
                    if (t.name === "search_submitted")
                        return {
                            items: [],
                            event_id: t.id,
                            event_time: t.timestamp,
                            search_query: t.data.searchResult.query,
                            value: 0
                        };
                    if (t.name === "payment_info_submitted") {
                        const a = t.data.checkout;
                        return {
                            items: a.lineItems.map(o=>{
                                var c, s;
                                return {
                                    item_id: o.variant.product.id,
                                    item_name: o.variant.product.title,
                                    price: o.variant.price.amount,
                                    currency: ((s = (c = window.Shopify) == null ? void 0 : c.currency) == null ? void 0 : s.active) || "",
                                    item_variant: o.variant.product.title,
                                    quantity: o.quantity
                                }
                            }
                            ),
                            value: a.totalPrice.amount,
                            subtotal_price: a.subtotalPrice.amount,
                            event_id: t.id,
                            event_time: t.timestamp
                        }
                    }
                }
            }
            const fs = ()=>{
                try {
                    const t = Se(x(T({}, Mt()), {
                        cartToken: h.getCartToken()
                    }), ut);
                    localStorage.setItem(Pn, JSON.stringify(t))
                } catch (t) {}
            }
            ;
            function hs({data: t, isWebPixels: e}) {
                var p;
                const n = (p = t.settings) == null ? void 0 : p.gtm_settings
                  , r = t.name
                  , i = d=>{
                    console.log(u.ADD_TO_CART, d),
                    h.setSessionHasAddToCart(!0),
                    j.track(u.ADD_TO_CART, {
                        event: (n == null ? void 0 : n.atc_alias) || u.ADD_TO_CART,
                        eventData: J({
                            items: d.items
                        }, {
                            brand: r
                        })
                    }, !1);
                    const b = h.getUserData();
                    (b == null ? void 0 : b.email) && (console.log("start abandoned cart workflow"),
                    At({
                        wid: t.id,
                        event: "atc",
                        sid: W(),
                        cart_token: d.token,
                        user_properties: {
                            email: b.email
                        },
                        payload: {
                            items: d.items
                        }
                    }))
                }
                  , a = d=>{
                    console.log(u.REMOVE_FROM_CART, d),
                    j.track(u.REMOVE_FROM_CART, {
                        event: (n == null ? void 0 : n.rfc_alias) || u.REMOVE_FROM_CART,
                        eventData: J({
                            items: d.items
                        }, {
                            brand: r
                        })
                    })
                }
                  , o = d=>{
                    console.log(u.BEGIN_CHECKOUT, d),
                    j.track(u.BEGIN_CHECKOUT, {
                        event: (n == null ? void 0 : n.bc_alias) || u.BEGIN_CHECKOUT,
                        eventData: J({
                            items: d.items,
                            total_price: (d.total_price / 100).toFixed(2),
                            subtotal_price: (d.items_subtotal_price / 100).toFixed(2),
                            total_discount: (d.total_discount / 100).toFixed(2)
                        }, {
                            brand: r
                        })
                    }),
                    At({
                        event: "bc",
                        wid: t.id,
                        sid: W(),
                        cart_token: h.getCartToken(),
                        payload: Mt()
                    })
                }
                  , c = d=>{
                    console.log(u.VIEW_COLLECTION, d),
                    j.track(u.VIEW_COLLECTION, {
                        event: u.VIEW_COLLECTION,
                        eventData: J(d, {
                            brand: r
                        })
                    })
                }
                  , s = d=>{
                    console.log(u.SEARCH, d),
                    j.track(u.SEARCH, {
                        event: u.SEARCH,
                        eventData: {
                            search_query: d.query
                        }
                    })
                }
                  , l = d=>{
                    console.log(u.PURCHASE, d),
                    j.track(u.PURCHASE, {
                        event: (n == null ? void 0 : n.p_alias) || u.PURCHASE,
                        eventData: J(d, {
                            brand: r
                        })
                    }),
                    j.track(u.TRANSACTION, {
                        event: u.TRANSACTION,
                        eventData: J(d, {
                            brand: r
                        })
                    })
                }
                  , _ = d=>{
                    console.log(u.VIEW_PRODUCT, d),
                    j.track(u.VIEW_PRODUCT, {
                        event: (n == null ? void 0 : n.view_alias) || u.VIEW_PRODUCT,
                        eventData: J(d, {
                            brand: r
                        })
                    })
                }
                ;
                P.on(u.VIEW_PRODUCT, _),
                P.on(u.PURCHASE, l),
                P.on(u.BEGIN_CHECKOUT, o),
                P.on(u.VIEW_COLLECTION, c),
                P.on(u.SEARCH, s),
                P.on(u.REMOVE_FROM_CART, a),
                P.on(u.ADD_TO_CART, i),
                e ? ps({
                    workspaceId: t.id
                }) : (is(),
                jn(),
                cs(),
                us(),
                Mn(),
                ss()),
                h.getSessionHasAddToCart() && (console.log("init_order"),
                At({
                    event: "init_order",
                    wid: t.id,
                    sid: W(),
                    cart_token: h.getCartToken(),
                    payload: Mt()
                }))
            }
            function ms(t) {
                var l, _, p, d, b, C, S, E, A, M;
                const e = t.pixels;
                if (!e)
                    return;
                Tt.init(e),
                hs({
                    data: t.data,
                    isWebPixels: t.isWebPixels
                });
                const n = (l = e.META) == null ? void 0 : l.map(I=>I.id);
                n && n.length > 0 && K.init(n);
                const r = (_ = e.TIKTOK) == null ? void 0 : _.map(I=>I.id).filter(Boolean);
                r && r.length > 0 && at.init(r);
                const i = (p = e.SNAPCHAT) == null ? void 0 : p.map(I=>I.id).filter(Boolean);
                i && i.length > 0 && St.init(i);
                const a = (b = (d = e.PINTEREST) == null ? void 0 : d.map(I=>I.id).filter(Boolean)) == null ? void 0 : b[0];
                a && Et.init(a);
                const o = (S = (C = e.BING) == null ? void 0 : C.map(I=>I.id).filter(Boolean)) == null ? void 0 : S[0];
                o && rt.init(o);
                const c = (E = e.GOOGLEADS) == null ? void 0 : E.filter(I=>I.id)
                  , s = (A = e.GA4) == null ? void 0 : A.map(I=>I.id).filter(Boolean);
                if ((s && s.length > 0 || c && c.length > 0) && it.init(s || []),
                c && c.length > 0) {
                    const I = Boolean(e.GA4 && ((M = e.GA4) == null ? void 0 : M.length) > 0);
                    dt.init(c, I)
                }
            }
            function gs(t) {
                return fetch(`${jt()}/api/popup?wid=${t.wid}&pop_preview=${t.pop_preview}&pop_id=${t.pop_id}&app_key=${t.app_key}`, {
                    method: "GET",
                    mode: "cors",
                    headers: {
                        "Content-Type": "application/json"
                    }
                }).then(e=>e.json()).then(e=>e.data)
            }
            function vs(t) {
                return t.isEnabled === !0 || pt.get("pop_preview") === "1"
            }
            function ys() {
                try {
                    return new Function('import("")'),
                    !0
                } catch (t) {
                    return !1
                }
            }
            function ws(t) {
                var e, n;
                return Boolean(((e = t == null ? void 0 : t.Checkout) == null ? void 0 : e.step) === "thank_you" || ((n = t == null ? void 0 : t.Checkout) == null ? void 0 : n.isOrderStatusPage))
            }
            function bs() {
                return new Promise(t=>{
                    let e = document.readyState;
                    e === "interactive" || e === "complete" ? t(!0) : window.addEventListener("DOMContentLoaded", t)
                }
                )
            }
            let zn = !1;
            function Ts() {
                return new Promise(t=>{
                    if (zn)
                        return t(!0);
                    const e = ()=>{
                        zn = !0,
                        t(!0)
                    }
                    ;
                    window.addEventListener("mousedown", e, !0),
                    window.addEventListener("touchstart", e, !0),
                    window.addEventListener("click", e, !0),
                    window.addEventListener("scroll", e, !0)
                }
                )
            }
            const zt = document.currentScript
              , Ft = t=>O(this, null, function*() {
                var r;
                const e = pt.get("pop_preview") === "1" ? pt.get("pop_id") : t.pop_id
                  , n = yield gs({
                    wid: t.wid || "",
                    pop_preview: pt.get("pop_preview") || "",
                    pop_id: e || t.pop_id || "",
                    app_key: t.app_key || ""
                });
                if (window.zalifyShopifyEventInited || (window.zalifyShopifyEventInited = !0,
                ms({
                    data: x(T({}, n.workspace), {
                        id: n.workspaceId
                    }),
                    pixels: n.pixels,
                    isWebPixels: Boolean((r = n.connection) == null ? void 0 : r.webPixelId)
                })),
                yield Ts(),
                ["popup", "layout"].includes(t.displayType) && vs(n))
                    if (window.zalify.renderZalifyUI)
                        window.zalify.renderZalifyUI(t, n);
                    else {
                        console.log("-----load Zalify UI begin-----");
                        const i = document.createElement("script");
                        i.onload = ()=>{
                            console.log("-----load Zalify UI end-----"),
                            window.zalify.renderZalifyUI(t, n)
                        }
                        ,
                        ys() ? (i.type = "module",
                        i.src = `https://${new URL(zt.src).host}/pixel.main.es.js`) : i.src = `https://${new URL(zt.src).host}/pixel.main.umd.js`,
                        document.head.appendChild(i)
                    }
            });
            function Fn() {
                var t;
                if (document.querySelectorAll(".zalify-popup").forEach(e=>{
                    const n = e.getAttribute("data-app-key") || ""
                      , r = new URLSearchParams(location.search).get("pop_id") || "";
                    Ft({
                        app_key: n,
                        pop_id: r,
                        displayType: "popup"
                    })
                }
                ),
                bs().then(()=>{
                    document.querySelectorAll(".zalify-layout").forEach(e=>{
                        const n = e.getAttribute("data-app-key") || ""
                          , r = e.getAttribute("data-pop-id") || "";
                        Ft({
                            app_key: n,
                            pop_id: r,
                            displayType: "layout",
                            root: e
                        })
                    }
                    )
                }
                ),
                G(window.Shopify)) {
                    if (!zt)
                        return;
                    const e = new URLSearchParams(zt.src.split("?")[1]);
                    console.log("workspace id", e.get("wid")),
                    Ft({
                        app_key: ((t = e.get("shop")) == null ? void 0 : t.replace(".myshopify.com", "")) || "",
                        displayType: "event",
                        wid: e.get("wid") || ""
                    })
                }
                h.setUserData({
                    external_id: W()
                });
                try {
                    if (ws(window.Shopify)) {
                        const e = window.Shopify.checkout
                          , n = e.shipping_address;
                        h.setUserData({
                            email: e.email,
                            firstName: n.first_name,
                            lastName: n.last_name,
                            phone: V(),
                            city: n.city,
                            country: n.country_code,
                            street: n.province_code,
                            zip: n.zip,
                            external_id: W()
                        })
                    }
                } catch (e) {}
            }
            (!window.zalify || !window.splitlime) && (window.zalify = {},
            window.splitlime = {},
            window.splitlime.render = window.zalify.render = Ft,
            window.splitlime.start = window.zalify.start = Fn,
            window.zalifyPixelLogs = {
                pinterest: [],
                pixel: [],
                ga4: [],
                tiktokpixel: [],
                googleads: [],
                snapchat: [],
                bing: []
            },
            window.zalifyManualControl || requestAnimationFrame(Fn))
        }
        )()
    }
    );
    Ds();
}
)();

(()=>{
    var e, t, n, r = {
        935: (e,t,n)=>{
            "use strict";
            n.r(t),
            n.d(t, {
                getCLS: ()=>B,
                getFCP: ()=>g,
                getFID: ()=>S,
                getLCP: ()=>T,
                getTTFB: ()=>C
            });
            var r, i, o, a, s = function(e, t) {
                return {
                    name: e,
                    value: void 0 === t ? -1 : t,
                    delta: 0,
                    entries: [],
                    id: "v2-".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12)
                }
            }, c = function(e, t) {
                try {
                    if (PerformanceObserver.supportedEntryTypes.includes(e)) {
                        if ("first-input" === e && !("PerformanceEventTiming"in self))
                            return;
                        var n = new PerformanceObserver((function(e) {
                            return e.getEntries().map(t)
                        }
                        ));
                        return n.observe({
                            type: e,
                            buffered: !0
                        }),
                        n
                    }
                } catch (e) {}
            }, u = function(e, t) {
                var n = function n(r) {
                    "pagehide" !== r.type && "hidden" !== document.visibilityState || (e(r),
                    t && (removeEventListener("visibilitychange", n, !0),
                    removeEventListener("pagehide", n, !0)))
                };
                addEventListener("visibilitychange", n, !0),
                addEventListener("pagehide", n, !0)
            }, d = function(e) {
                addEventListener("pageshow", (function(t) {
                    t.persisted && e(t)
                }
                ), !0)
            }, l = function(e, t, n) {
                var r;
                return function(i) {
                    t.value >= 0 && (i || n) && (t.delta = t.value - (r || 0),
                    (t.delta || void 0 === r) && (r = t.value,
                    e(t)))
                }
            }, f = -1, p = function() {
                return "hidden" === document.visibilityState ? 0 : 1 / 0
            }, O = function() {
                u((function(e) {
                    var t = e.timeStamp;
                    f = t
                }
                ), !0)
            }, m = function() {
                return f < 0 && (f = p(),
                O(),
                d((function() {
                    setTimeout((function() {
                        f = p(),
                        O()
                    }
                    ), 0)
                }
                ))),
                {
                    get firstHiddenTime() {
                        return f
                    }
                }
            }, g = function(e, t) {
                var n, r = m(), i = s("FCP"), o = function(e) {
                    "first-contentful-paint" === e.name && (u && u.disconnect(),
                    e.startTime < r.firstHiddenTime && (i.value = e.startTime,
                    i.entries.push(e),
                    n(!0)))
                }, a = window.performance && performance.getEntriesByName && performance.getEntriesByName("first-contentful-paint")[0], u = a ? null : c("paint", o);
                (a || u) && (n = l(e, i, t),
                a && o(a),
                d((function(r) {
                    i = s("FCP"),
                    n = l(e, i, t),
                    requestAnimationFrame((function() {
                        requestAnimationFrame((function() {
                            i.value = performance.now() - r.timeStamp,
                            n(!0)
                        }
                        ))
                    }
                    ))
                }
                )))
            }, v = !1, h = -1, B = function(e, t) {
                v || (g((function(e) {
                    h = e.value
                }
                )),
                v = !0);
                var n, r = function(t) {
                    h > -1 && e(t)
                }, i = s("CLS", 0), o = 0, a = [], f = function(e) {
                    if (!e.hadRecentInput) {
                        var t = a[0]
                          , r = a[a.length - 1];
                        o && e.startTime - r.startTime < 1e3 && e.startTime - t.startTime < 5e3 ? (o += e.value,
                        a.push(e)) : (o = e.value,
                        a = [e]),
                        o > i.value && (i.value = o,
                        i.entries = a,
                        n())
                    }
                }, p = c("layout-shift", f);
                p && (n = l(r, i, t),
                u((function() {
                    p.takeRecords().map(f),
                    n(!0)
                }
                )),
                d((function() {
                    o = 0,
                    h = -1,
                    i = s("CLS", 0),
                    n = l(r, i, t)
                }
                )))
            }, _ = {
                passive: !0,
                capture: !0
            }, y = new Date, R = function(e, t) {
                r || (r = t,
                i = e,
                o = new Date,
                w(removeEventListener),
                b())
            }, b = function() {
                if (i >= 0 && i < o - y) {
                    var e = {
                        entryType: "first-input",
                        name: r.type,
                        target: r.target,
                        cancelable: r.cancelable,
                        startTime: r.timeStamp,
                        processingStart: r.timeStamp + i
                    };
                    a.forEach((function(t) {
                        t(e)
                    }
                    )),
                    a = []
                }
            }, M = function(e) {
                if (e.cancelable) {
                    var t = (e.timeStamp > 1e12 ? new Date : performance.now()) - e.timeStamp;
                    "pointerdown" == e.type ? function(e, t) {
                        var n = function() {
                            R(e, t),
                            i()
                        }
                          , r = function() {
                            i()
                        }
                          , i = function() {
                            removeEventListener("pointerup", n, _),
                            removeEventListener("pointercancel", r, _)
                        };
                        addEventListener("pointerup", n, _),
                        addEventListener("pointercancel", r, _)
                    }(t, e) : R(t, e)
                }
            }, w = function(e) {
                ["mousedown", "keydown", "touchstart", "pointerdown"].forEach((function(t) {
                    return e(t, M, _)
                }
                ))
            }, S = function(e, t) {
                var n, o = m(), f = s("FID"), p = function(e) {
                    e.startTime < o.firstHiddenTime && (f.value = e.processingStart - e.startTime,
                    f.entries.push(e),
                    n(!0))
                }, O = c("first-input", p);
                n = l(e, f, t),
                O && u((function() {
                    O.takeRecords().map(p),
                    O.disconnect()
                }
                ), !0),
                O && d((function() {
                    var o;
                    f = s("FID"),
                    n = l(e, f, t),
                    a = [],
                    i = -1,
                    r = null,
                    w(addEventListener),
                    o = p,
                    a.push(o),
                    b()
                }
                ))
            }, E = {}, T = function(e, t) {
                var n, r = m(), i = s("LCP"), o = function(e) {
                    var t = e.startTime;
                    t < r.firstHiddenTime && (i.value = t,
                    i.entries.push(e),
                    n())
                }, a = c("largest-contentful-paint", o);
                if (a) {
                    n = l(e, i, t);
                    var f = function() {
                        E[i.id] || (a.takeRecords().map(o),
                        a.disconnect(),
                        E[i.id] = !0,
                        n(!0))
                    };
                    ["keydown", "click"].forEach((function(e) {
                        addEventListener(e, f, {
                            once: !0,
                            capture: !0
                        })
                    }
                    )),
                    u(f, !0),
                    d((function(r) {
                        i = s("LCP"),
                        n = l(e, i, t),
                        requestAnimationFrame((function() {
                            requestAnimationFrame((function() {
                                i.value = performance.now() - r.timeStamp,
                                E[i.id] = !0,
                                n(!0)
                            }
                            ))
                        }
                        ))
                    }
                    ))
                }
            }, C = function(e) {
                var t, n = s("TTFB");
                t = function() {
                    try {
                        var t = performance.getEntriesByType("navigation")[0] || function() {
                            var e = performance.timing
                              , t = {
                                entryType: "navigation",
                                startTime: 0
                            };
                            for (var n in e)
                                "navigationStart" !== n && "toJSON" !== n && (t[n] = Math.max(e[n] - e.navigationStart, 0));
                            return t
                        }();
                        if (n.value = n.delta = t.responseStart,
                        n.value < 0 || n.value > performance.now())
                            return;
                        n.entries = [t],
                        e(n)
                    } catch (e) {}
                }
                ,
                "complete" === document.readyState ? setTimeout(t, 0) : addEventListener("load", (function() {
                    return setTimeout(t, 0)
                }
                ))
            }
        }
    }, i = {};
    function o(e) {
        var t = i[e];
        if (void 0 !== t)
            return t.exports;
        var n = i[e] = {
            exports: {}
        };
        return r[e](n, n.exports, o),
        n.exports
    }
    o.d = (e,t)=>{
        for (var n in t)
            o.o(t, n) && !o.o(e, n) && Object.defineProperty(e, n, {
                enumerable: !0,
                get: t[n]
            })
    }
    ,
    o.o = (e,t)=>Object.prototype.hasOwnProperty.call(e, t),
    o.r = e=>{
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    (()=>{
        function e(t) {
            if (window) {
                if (!t) {
                    if (window.parent === window || !document.getElementById("boomr-if-as"))
                        return;
                    if (window.BOOMR && BOOMR.boomerang_frame && BOOMR.window)
                        try {
                            BOOMR.boomerang_frame.document.domain !== BOOMR.window.document.domain && (BOOMR.boomerang_frame.document.domain = BOOMR.window.document.domain)
                        } catch (e) {
                            BOOMR.isCrossOriginError(e) || BOOMR.addError(e, "BOOMR_check_doc_domain.domainFix")
                        }
                    t = document.domain
                }
                if (t && -1 !== t.indexOf(".") && window.parent) {
                    try {
                        return void window.parent.document
                    } catch (e) {
                        try {
                            document.domain = t
                        } catch (e) {
                            return
                        }
                    }
                    try {
                        return void window.parent.document
                    } catch (e) {
                        t = t.replace(/^[\w\-]+\./, "")
                    }
                    e(t)
                }
            }
        }
        BOOMR_start = (new Date).getTime(),
        e(),
        function(t) {
            var n, r, i, o, a, s, c, u = t;
            if (t.parent !== t && document.getElementById("boomr-if-as") && "script" === document.getElementById("boomr-if-as").nodeName.toLowerCase() && (t = t.parent),
            i = t.document,
            t.BOOMR || (t.BOOMR = {}),
            BOOMR = t.BOOMR,
            !BOOMR.version) {
                if (BOOMR.version = "2.3.2",
                BOOMR.window = t,
                BOOMR.boomerang_frame = u,
                BOOMR.plugins || (BOOMR.plugins = {}),
                function() {
                    try {
                        void 0 !== new t.CustomEvent("CustomEvent") && (o = function(e, n) {
                            return new t.CustomEvent(e,n)
                        }
                        )
                    } catch (e) {}
                    try {
                        !o && i.createEvent && i.createEvent("CustomEvent") && (o = function(e, t) {
                            var n = i.createEvent("CustomEvent");
                            return t = t || {
                                cancelable: !1,
                                bubbles: !1
                            },
                            n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail),
                            n
                        }
                        )
                    } catch (e) {}
                    !o && i.createEventObject && (o = function(e, t) {
                        var n = i.createEventObject();
                        return n.type = n.propertyName = e,
                        n.detail = t.detail,
                        n
                    }
                    ),
                    o || (o = function() {}
                    )
                }(),
                a = function(e, t, n) {
                    var r = o(e, {
                        detail: t
                    });
                    function a() {
                        try {
                            i.dispatchEvent ? i.dispatchEvent(r) : i.fireEvent && i.fireEvent("onpropertychange", r)
                        } catch (e) {}
                    }
                    r && (n ? BOOMR.setImmediate(a) : a())
                }
                ,
                void 0 !== i.hidden ? (s = "visibilityState",
                c = "visibilitychange") : void 0 !== i.mozHidden ? (s = "mozVisibilityState",
                c = "mozvisibilitychange") : void 0 !== i.msHidden ? (s = "msVisibilityState",
                c = "msvisibilitychange") : void 0 !== i.webkitHidden && (s = "webkitVisibilityState",
                c = "webkitvisibilitychange"),
                n = {
                    beacon_url: "",
                    beacon_url_force_https: !0,
                    beacon_urls_allowed: [],
                    beacon_type: "AUTO",
                    beacon_auth_key: "Authorization",
                    beacon_auth_token: void 0,
                    beacon_with_credentials: !1,
                    beacon_disable_sendbeacon: !1,
                    site_domain: t.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/, "$1").toLowerCase(),
                    user_ip: "",
                    autorun: !0,
                    hasSentPageLoadBeacon: !1,
                    r: void 0,
                    same_site_cookie: "Lax",
                    secure_cookie: !1,
                    forced_same_site_cookie_none: !1,
                    events: {
                        page_ready: [],
                        page_unload: [],
                        before_unload: [],
                        dom_loaded: [],
                        visibility_changed: [],
                        prerender_to_visible: [],
                        before_beacon: [],
                        beacon_no_url: [],
                        beacon: [],
                        page_load_beacon: [],
                        xhr_load: [],
                        click: [],
                        form_submit: [],
                        config: [],
                        xhr_init: [],
                        spa_init: [],
                        spa_navigation: [],
                        spa_cancel: [],
                        xhr_send: [],
                        xhr_error: [],
                        error: [],
                        netinfo: [],
                        rage_click: []
                    },
                    public_events: {
                        before_beacon: "onBeforeBoomerangBeacon",
                        beacon: "onBoomerangBeacon",
                        onboomerangloaded: "onBoomerangLoaded"
                    },
                    translate_events: {
                        onbeacon: "beacon",
                        onconfig: "config",
                        onerror: "error",
                        onxhrerror: "xhr_error"
                    },
                    unloadEventsCount: 0,
                    unloadEventCalled: 0,
                    listenerCallbacks: {},
                    vars: {},
                    singleBeaconVars: {},
                    varPriority: {
                        "-1": {},
                        1: {}
                    },
                    errors: {},
                    disabled_plugins: {},
                    localStorageSupported: !1,
                    LOCAL_STORAGE_PREFIX: "_boomr_",
                    nativeOverwrites: [],
                    xb_handler: function(e) {
                        return function(r) {
                            var i;
                            r || (r = t.event),
                            r.target ? i = r.target : r.srcElement && (i = r.srcElement),
                            3 === i.nodeType && (i = i.parentNode),
                            i && i.nodeName && "OBJECT" === i.nodeName.toUpperCase() && "application/x-shockwave-flash" === i.type || n.fireEvent(e, i)
                        }
                    },
                    clearEvents: function() {
                        var e;
                        for (e in this.events)
                            this.events.hasOwnProperty(e) && (this.events[e] = [])
                    },
                    clearListeners: function() {
                        var e;
                        for (e in n.listenerCallbacks)
                            if (n.listenerCallbacks.hasOwnProperty(e))
                                for (; n.listenerCallbacks[e].length; )
                                    BOOMR.utils.removeListener(n.listenerCallbacks[e][0].el, e, n.listenerCallbacks[e][0].fn);
                        n.listenerCallbacks = {}
                    },
                    fireEvent: function(e, t) {
                        var n, r, i, o;
                        if (e = e.toLowerCase(),
                        this.translate_events[e] && (e = this.translate_events[e]),
                        this.events.hasOwnProperty(e)) {
                            for (this.public_events.hasOwnProperty(e) && a(this.public_events[e], t),
                            i = this.events[e],
                            "before_beacon" !== e && "beacon" !== e && BOOMR.real_sendBeacon(),
                            o = i.length,
                            n = 0; n < o; n++)
                                try {
                                    (r = i[n]).fn.call(r.scope, t, r.cb_data)
                                } catch (t) {
                                    BOOMR.addError(t, "fireEvent." + e + "<" + n + ">")
                                }
                            for (n = 0; n < o; n++)
                                i[n].once && (i.splice(n, 1),
                                o--,
                                n--)
                        }
                    },
                    spaNavigation: function() {
                        n.onloadfired = !0
                    },
                    beaconUrlAllowed: function(e) {
                        if (!n.beacon_urls_allowed || 0 === n.beacon_urls_allowed.length)
                            return !0;
                        for (var t = 0; t < n.beacon_urls_allowed.length; t++)
                            if (new RegExp(n.beacon_urls_allowed[t]).exec(e))
                                return !0;
                        return !1
                    },
                    checkLocalStorageSupport: function() {
                        var e = n.LOCAL_STORAGE_PREFIX + "clss";
                        n.localStorageSupported = !1;
                        try {
                            if (!t.JSON || !t.localStorage)
                                return;
                            t.localStorage.setItem(e, e),
                            n.localStorageSupported = t.localStorage.getItem(e) === e,
                            t.localStorage.removeItem(e)
                        } catch (e) {
                            n.localStorageSupported = !1
                        }
                    },
                    onFrameUnloaded: function() {
                        var e, t;
                        for (BOOMR.isUnloaded = !0,
                        e = 0; e < n.nativeOverwrites.length; e++)
                            (t = n.nativeOverwrites[e]).obj[t.functionName] = t.origFn;
                        n.nativeOverwrites = []
                    }
                },
                r = {
                    t_start: BOOMR_start,
                    t_end: void 0,
                    url: "",
                    config_url: null,
                    loadedLate: !1,
                    beaconsSent: 0,
                    isUnloaded: !1,
                    beaconInQueue: !1,
                    cookies: {},
                    testedCookies: !1,
                    constants: {
                        BEACON_TYPE_SPAS: ["spa", "spa_hard"],
                        MAX_GET_LENGTH: 2e3
                    },
                    session: {
                        domain: n.site_domain,
                        ID: void 0,
                        start: void 0,
                        length: 0,
                        enabled: !0
                    },
                    utils: {
                        hasPostMessageSupport: function() {
                            return !(!t.postMessage || "function" != typeof t.postMessage && "object" != typeof t.postMessage)
                        },
                        objectToString: function(e, t, n) {
                            var r, i = [];
                            if (!e || "object" != typeof e)
                                return e;
                            if (void 0 === t && (t = "\n\t"),
                            n || (n = 0),
                            BOOMR.utils.isArray(e)) {
                                for (r = 0; r < e.length; r++)
                                    n > 0 && null !== e[r] && "object" == typeof e[r] ? i.push(this.objectToString(e[r], t + ("\n\t" === t ? "\t" : ""), n - 1)) : "&" === t ? i.push(encodeURIComponent(e[r])) : i.push(e[r]);
                                t = ","
                            } else
                                for (r in e)
                                    Object.prototype.hasOwnProperty.call(e, r) && (n > 0 && null !== e[r] && "object" == typeof e[r] ? i.push(encodeURIComponent(r) + "=" + this.objectToString(e[r], t + ("\n\t" === t ? "\t" : ""), n - 1)) : "&" === t ? i.push(encodeURIComponent(r) + "=" + encodeURIComponent(e[r])) : i.push(r + "=" + e[r]));
                            return i.join(t)
                        },
                        getCookie: function(e) {},
                        getRawCookie: function(e) {},
                        setCookie: function(e, t, n) {},
                        getSubCookies: function(e) {},
                        removeCookie: function(e) {},
                        getSameSiteAttributeParts: function() {
                            var e = n.same_site_cookie.toUpperCase();
                            return n.forced_same_site_cookie_none && (e = "NONE"),
                            "LAX" === e ? ["SameSite=Lax"] : "NONE" === e ? "https:" === location.protocol && this.isCurrentUASameSiteNoneCompatible() ? ["SameSite=None", "Secure"] : [] : "STRICT" === e ? ["SameSite=Strict"] : ["SameSite=Lax"]
                        },
                        getLocalStorage: function(e) {
                            var r, i;
                            if (!e || !n.localStorageSupported)
                                return null;
                            try {
                                if (null === (r = t.localStorage.getItem(n.LOCAL_STORAGE_PREFIX + e)))
                                    return;
                                i = t.JSON.parse(r)
                            } catch (e) {
                                return BOOMR.warn(e),
                                null
                            }
                            return i && "object" == typeof i.items ? "number" == typeof i.expires && BOOMR.now() >= i.expires ? void this.removeLocalStorage(e) : i.items : (this.removeLocalStorage(e),
                            null)
                        },
                        setLocalStorage: function(e, r, i) {
                            var o, a, s;
                            if (!e || !n.localStorageSupported || "object" != typeof r)
                                return !1;
                            if (o = {
                                items: r
                            },
                            "number" == typeof i && (o.expires = BOOMR.now() + 1e3 * i),
                            (a = t.JSON.stringify(o)).length < 5e4) {
                                try {
                                    if (t.localStorage.setItem(n.LOCAL_STORAGE_PREFIX + e, a),
                                    a === (s = t.localStorage.getItem(n.LOCAL_STORAGE_PREFIX + e)))
                                        return !0
                                } catch (e) {}
                                BOOMR.warn("Saved storage value doesn't match what we tried to set:\n" + a + "\n" + s)
                            } else
                                BOOMR.warn("Storage items too large: " + a.length + " " + a);
                            return !1
                        },
                        removeLocalStorage: function(e) {
                            if (!e || !n.localStorageSupported)
                                return !1;
                            try {
                                return t.localStorage.removeItem(n.LOCAL_STORAGE_PREFIX + e),
                                !0
                            } catch (e) {}
                            return !1
                        },
                        cleanupURL: function(e, t) {
                            if (!e || BOOMR.utils.isArray(e))
                                return "";
                            if (n.strip_query_string && (e = e.replace(/\?.*/, "?qs-redacted")),
                            void 0 !== t && e && e.length > t) {
                                var r = e.indexOf("?");
                                e = -1 !== r && r < t ? e.substr(0, r) + "?..." : e.substr(0, t - 3) + "..."
                            }
                            return e
                        },
                        hashQueryString: function(e, t) {
                            return e ? e.match ? (e.match(/^\/\//) && (e = location.protocol + e),
                            e.match(/^(https?|file):/) ? (t && (e = e.replace(/#.*/, "")),
                            e.replace(/\?([^#]*)/, (function(e, t) {
                                return "?" + (t.length > 10 ? BOOMR.utils.hashString(t) : t)
                            }
                            ))) : (BOOMR.error("Passed in URL is invalid: " + e),
                            "")) : (BOOMR.addError("TypeError: Not a string", "hashQueryString", typeof e),
                            "") : e
                        },
                        pluginConfig: function(e, t, n, r) {
                            var i, o = 0;
                            if (!t || !t[n])
                                return !1;
                            for (i = 0; i < r.length; i++)
                                void 0 !== t[n][r[i]] && (e[r[i]] = t[n][r[i]],
                                o++);
                            return o > 0
                        },
                        arrayFilter: function(e, t) {
                            var n = [];
                            if (!(this.isArray(e) || e && "number" == typeof e.length) || "function" != typeof t)
                                return n;
                            if ("function" == typeof e.filter)
                                n = e.filter(t);
                            else
                                for (var r, i = -1, o = e.length; ++i < o; )
                                    t(r = e[i], i, e) && (n[n.length] = r);
                            return n
                        },
                        arrayFind: function(e, t) {
                            if ((this.isArray(e) || e && "number" == typeof e.length) && "function" == typeof t) {
                                if ("function" == typeof e.find)
                                    return e.find(t);
                                for (var n, r = -1, i = e.length; ++r < i; )
                                    if (t(n = e[r], r, e))
                                        return n
                            }
                        },
                        isMutationObserverSupported: function() {
                            return !(t && t.navigator && t.navigator.userAgent && t.navigator.userAgent.match(/Trident.*rv[ :]*11\./)) && t && t.MutationObserver && "function" == typeof t.MutationObserver
                        },
                        addObserver: function(e, n, r, i, o, a) {
                            var s, c, u = {
                                observer: null,
                                timer: null
                            };
                            if (!this.isMutationObserverSupported() || !i || !e)
                                return null;
                            function d(e) {
                                var t = !1;
                                u.timer && (clearTimeout(u.timer),
                                u.timer = null),
                                i && ((t = i.call(a, e, o)) || (i = null)),
                                !t && u.observer && (u.observer.disconnect(),
                                u.observer = null),
                                "number" == typeof t && t > 0 && (u.timer = setTimeout(d, t))
                            }
                            return s = t.MutationObserver,
                            t.Zone && "function" == typeof t.Zone.__symbol__ && (c = t.Zone.__symbol__("MutationObserver")) && "string" == typeof c && t.hasOwnProperty(c) && "function" == typeof t[c] && (s = t[c]),
                            u.observer = new s(d),
                            r && (u.timer = setTimeout(d, u.timeout)),
                            u.observer.observe(e, n),
                            u
                        },
                        addListener: function(e, t, r, i) {
                            var o = !1;
                            e.addEventListener ? ("object" == typeof i ? o = i : "boolean" == typeof i && i && BOOMR.browser.supportsPassive() && (o = {
                                capture: !1,
                                passive: !0
                            }),
                            e.addEventListener(t, r, o)) : e.attachEvent && e.attachEvent("on" + t, r),
                            n.listenerCallbacks[t] = n.listenerCallbacks[t] || [],
                            n.listenerCallbacks[t].push({
                                el: e,
                                fn: r
                            })
                        },
                        removeListener: function(e, t, r) {
                            if (e.removeEventListener ? e.removeEventListener(t, r, !1) : e.detachEvent && e.detachEvent("on" + t, r),
                            n.listenerCallbacks.hasOwnProperty(t))
                                for (var i = 0; i < n.listenerCallbacks[t].length; i++)
                                    if (r === n.listenerCallbacks[t][i].fn && e === n.listenerCallbacks[t][i].el)
                                        return void n.listenerCallbacks[t].splice(i, 1)
                        },
                        isArray: function(e) {
                            return "[object Array]" === Object.prototype.toString.call(e)
                        },
                        inArray: function(e, t) {
                            var n;
                            if (void 0 === e || void 0 === t || !t.length)
                                return !1;
                            for (n = 0; n < t.length; n++)
                                if (t[n] === e)
                                    return !0;
                            return !1
                        },
                        getQueryParamValue: function(e, t) {
                            var n, r, i, o;
                            if (!e)
                                return null;
                            for ("string" == typeof t ? (n = BOOMR.window.document.createElement("a")).href = t : n = "object" == typeof t && "string" == typeof t.search ? t : BOOMR.window.location,
                            r = n.search.slice(1).split(/&/),
                            i = 0; i < r.length; i++)
                                if (r[i] && (o = r[i].split("=")).length && o[0] === e)
                                    try {
                                        return o.length > 1 ? decodeURIComponent(o.splice(1).join("=").replace(/\+/g, " ")) : ""
                                    } catch (e) {
                                        if (!e || "string" != typeof e.name || -1 === e.name.indexOf("URIError"))
                                            throw e
                                    }
                            return null
                        },
                        generateUUID: function() {
                            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(e) {
                                var t = 16 * Math.random() | 0;
                                return ("x" === e ? t : 3 & t | 8).toString(16)
                            }
                            ))
                        },
                        generateId: function(e) {
                            return "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0, e || 40).replace(/x/g, (function(e) {
                                return "0" === (e = (Math.random() || .01).toString(36)) ? "0" : e.substr(2, 1)
                            }
                            ))
                        },
                        serializeForUrl: function(e) {
                            return BOOMR.utils.Compression && BOOMR.utils.Compression.jsUrl ? BOOMR.utils.Compression.jsUrl(e) : window.JSON ? JSON.stringify(e) : ""
                        },
                        getMyURL: function() {
                            var e, t = document.currentScript || document.getElementById("boomr-if-as") || document.getElementById("boomr-scr-as");
                            if (t)
                                return t.src;
                            var n, r = document.getElementsByTagName("script");
                            for (n = r.length; n--; )
                                if ("interactive" === r[n].readyState)
                                    return r[n].src;
                            try {
                                throw new Error
                            } catch (t) {
                                if ("stack"in t && (e = this.arrayFilter(t.stack.split(/\n/), (function(e) {
                                    return e.match(/https?:\/\//)
                                }
                                ))) && e.length)
                                    return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m, "$1")
                            }
                            return ""
                        },
                        scroll: function() {
                            var e = void 0 !== t.pageXOffset
                              , n = "CSS1Compat" === (t.document.compatMode || "")
                              , r = {
                                x: 0,
                                y: 0
                            };
                            return e ? "function" == typeof t.pageXOffset ? (r.x = t.pageXOffset(),
                            r.y = t.pageYOffset()) : (r.x = t.pageXOffset,
                            r.y = t.pageYOffset) : n ? (r.x = t.document.documentElement.scrollLeft,
                            r.y = t.document.documentElement.scrollTop) : (r.x = t.document.body.scrollLeft,
                            r.y = t.document.body.scrollTop),
                            "number" == typeof r.sx && (r.sx = Math.round(r.sx)),
                            "number" == typeof r.sy && (r.sy = Math.round(r.sy)),
                            r
                        },
                        windowHeight: function() {
                            return t.innerHeight || t.document.documentElement.clientHeight || t.document.body.clientHeight
                        },
                        windowWidth: function() {
                            return t.innerWidth || t.document.documentElement.clientWidth || t.document.body.clientWidth
                        },
                        isNative: function(e) {
                            return !!e && e.toString && !e.hasOwnProperty("toString") && /\[native code\]/.test(String(e))
                        },
                        overwriteNative: function(e, t, r) {
                            e && r && (BOOMR.boomerang_frame !== BOOMR.window && n.nativeOverwrites.push({
                                obj: e,
                                functionName: t,
                                origFn: e[t]
                            }),
                            e[t] = r)
                        },
                        isInteger: function(e) {
                            return (Number.isInteger || function(e) {
                                return "number" == typeof e && isFinite(e) && Math.floor(e) === e
                            }
                            )(e)
                        },
                        isObjectEmpty: function(e) {
                            for (var t in e)
                                if (e.hasOwnProperty(t))
                                    return !1;
                            return !0
                        },
                        hashString: function(e) {
                            e = encodeURIComponent(e);
                            for (var t = 2166136261, n = 0; n < e.length; n++)
                                t ^= e.charCodeAt(n),
                                t += (t << 1) + (t << 4) + (t << 7) + (t << 8) + (t << 24);
                            var r = (t >>> 0).toString() + e.length;
                            return parseInt(r).toString(36)
                        },
                        isCurrentUASameSiteNoneCompatible: function() {
                            return !(t && t.navigator && t.navigator.userAgent && "string" == typeof t.navigator.userAgent) || this.isUASameSiteNoneCompatible(t.navigator.userAgent)
                        },
                        isUASameSiteNoneCompatible: function(e) {
                            var t = e.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);
                            if (t) {
                                var n = parseFloat(t[2])
                                  , r = t[3];
                                return 12.13 === n ? !(r <= 2) : !(n < 12.13)
                            }
                            if (t = e.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/)) {
                                var i = t[2];
                                return !(i >= 51 && i <= 66)
                            }
                            return (t = e.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//)) ? !((t = e.match(/Version\/.* Safari\//)) && null === (t = e.match(/Chrom(?:e|ium)/)) || (t = e.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/))) : !(t = e.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/))
                        }
                    },
                    browser: {
                        results: {},
                        supportsPassive: function() {
                            if (void 0 === BOOMR.browser.results.supportsPassive) {
                                if (BOOMR.browser.results.supportsPassive = !1,
                                !Object.defineProperty)
                                    return !1;
                                try {
                                    var e = Object.defineProperty({}, "passive", {
                                        get: function() {
                                            BOOMR.browser.results.supportsPassive = !0
                                        }
                                    });
                                    window.addEventListener("test", null, e)
                                } catch (e) {}
                            }
                            return BOOMR.browser.results.supportsPassive
                        }
                    },
                    init: function(r) {
                        var o, a, s = ["autorun", "beacon_auth_key", "beacon_auth_token", "beacon_with_credentials", "beacon_disable_sendbeacon", "beacon_url", "beacon_url_force_https", "beacon_type", "site_domain", "strip_query_string", "user_ip", "same_site_cookie", "secure_cookie"];
                        if (BOOMR.addVar("boomerang_init", BOOMR.now()),
                        e(),
                        r || (r = {}),
                        void 0 !== r.log && (this.log = r.log),
                        this.log || (this.log = function() {}
                        ),
                        r.primary && n.handlers_attached)
                            return this;
                        for (a in void 0 !== r.site_domain && (/:/.test(r.site_domain) && (r.site_domain = t.location.hostname.toLowerCase()),
                        this.session.domain = r.site_domain),
                        BOOMR.session.enabled && void 0 === BOOMR.session.ID && (BOOMR.session.ID = BOOMR.utils.generateUUID()),
                        BOOMR.setReferrer(BOOMR.window.document.referrer),
                        void 0 !== r.autorun && (n.autorun = r.autorun),
                        this.plugins)
                            if (this.plugins.hasOwnProperty(a)) {
                                if (r[a] && r[a].hasOwnProperty("enabled") && !1 === r[a].enabled) {
                                    n.disabled_plugins[a] = 1,
                                    "function" == typeof this.plugins[a].disable && this.plugins[a].disable();
                                    continue
                                }
                                if (n.disabled_plugins[a]) {
                                    if (!r[a] || !r[a].hasOwnProperty("enabled") || !0 !== r[a].enabled)
                                        continue;
                                    "function" == typeof this.plugins[a].enable && this.plugins[a].enable(),
                                    delete n.disabled_plugins[a]
                                }
                                if ("function" == typeof this.plugins[a].init)
                                    try {
                                        this.plugins[a].init(r)
                                    } catch (e) {
                                        BOOMR.addError(e, a + ".init")
                                    }
                            }
                        for (o = 0; o < s.length; o++)
                            void 0 !== r[s[o]] && (n[s[o]] = r[s[o]]);
                        return (!n.handlers_attached && !r.wait || n.handlers_attached && n.waiting_for_config) && (n.onloadfired || void 0 !== n.autorun && !1 === n.autorun || (BOOMR.hasBrowserOnloadFired() && (BOOMR.loadedLate = !0),
                        BOOMR.attach_page_ready(BOOMR.page_ready_autorun)),
                        n.waiting_for_config = !1),
                        n.handlers_attached || (r.wait && (n.waiting_for_config = !0),
                        BOOMR.attach_page_ready((function() {
                            BOOMR.t_onload || (BOOMR.t_onload = BOOMR.now())
                        }
                        )),
                        BOOMR.utils.addListener(t, "DOMContentLoaded", (function() {
                            n.fireEvent("dom_loaded")
                        }
                        )),
                        BOOMR.fireEvent("config", r),
                        BOOMR.subscribe("config", (function(e) {
                            e.beacon_url && (n.beacon_url = e.beacon_url)
                        }
                        )),
                        BOOMR.subscribe("spa_navigation", n.spaNavigation, null, n),
                        function() {
                            var e, r;
                            for (void 0 !== c && (BOOMR.utils.addListener(i, c, (function() {
                                n.fireEvent("visibility_changed")
                            }
                            )),
                            n.lastVisibilityState = BOOMR.visibilityState(),
                            BOOMR.subscribe("visibility_changed", (function() {
                                var e = BOOMR.visibilityState();
                                BOOMR.lastVisibilityEvent[e] = BOOMR.now(),
                                "prerender" === n.lastVisibilityState && "prerender" !== e && n.fireEvent("prerender_to_visible"),
                                n.lastVisibilityState = e
                            }
                            ))),
                            BOOMR.utils.addListener(i, "mouseup", n.xb_handler("click")),
                            e = i.getElementsByTagName("form"),
                            r = 0; r < e.length; r++)
                                BOOMR.utils.addListener(e[r], "submit", n.xb_handler("form_submit"));
                            t.onpagehide || null === t.onpagehide || BOOMR.utils.addListener(t, "unload", (function() {
                                BOOMR.window = t = null
                            }
                            )),
                            BOOMR.boomerang_frame !== BOOMR.window && BOOMR.utils.addListener(BOOMR.boomerang_frame, "unload", n.onFrameUnloaded)
                        }(),
                        n.handlers_attached = !0),
                        this
                    },
                    attach_page_ready: function(e) {
                        BOOMR.hasBrowserOnloadFired() ? this.setImmediate(e, null, null, BOOMR) : t.onpagehide || null === t.onpagehide ? BOOMR.utils.addListener(t, "pageshow", e) : BOOMR.utils.addListener(t, "load", e)
                    },
                    page_ready_autorun: function(e) {
                        n.autorun && BOOMR.page_ready(e, !0)
                    },
                    page_ready: function(e, r) {
                        var i;
                        return r || "number" != typeof e || (i = e,
                        e = null),
                        e || (e = t.event),
                        e || (e = {
                            name: "load"
                        }),
                        r ? "number" == typeof t.BOOMR_page_ready && (e.timing = e.timing || {},
                        e.timing.loadEventEnd = t.BOOMR_page_ready,
                        BOOMR.addVar("pr", 1, !0)) : (e.timing = e.timing || {},
                        i ? e.timing.loadEventEnd = i : "number" == typeof t.BOOMR_page_ready ? e.timing.loadEventEnd = t.BOOMR_page_ready : e.timing.loadEventEnd = BOOMR.now(),
                        BOOMR.addVar("pr", 1, !0)),
                        n.onloadfired || (n.fireEvent("page_ready", e),
                        n.onloadfired = !0),
                        this
                    },
                    hasBrowserOnloadFired: function() {
                        var e = BOOMR.getPerformance();
                        return i.readyState && "complete" === i.readyState || e && e.timing && e.timing.loadEventStart > 0 || t.BOOMR_onload > 0
                    },
                    onloadFired: function() {
                        return n.onloadfired
                    },
                    setImmediate: function(e, n, r, i) {
                        var o;
                        o = function() {
                            e.call(i || null, n, r || {}, void 0),
                            o = null
                        }
                        ,
                        t.requestIdleCallback ? t.requestIdleCallback(o, {
                            timeout: 1e3
                        }) : t.setImmediate ? t.setImmediate(o) : setTimeout(o, 10)
                    },
                    now: Date.now || function() {
                        return (new Date).getTime()
                    }
                    ,
                    getPerformance: function() {
                        try {
                            if (BOOMR.window)
                                return "performance"in BOOMR.window && BOOMR.window.performance ? BOOMR.window.performance : BOOMR.window.msPerformance || BOOMR.window.webkitPerformance || BOOMR.window.mozPerformance
                        } catch (e) {}
                    },
                    forceSameSiteCookieNone: function() {
                        n.forced_same_site_cookie_none = !0
                    },
                    hrNow: function() {
                        var e, t, n = BOOMR.getPerformance();
                        return n && n.now ? e = n.now() : (t = BOOMR.plugins.RT && BOOMR.plugins.RT.navigationStart && BOOMR.plugins.RT.navigationStart() || BOOMR.t_lstart || BOOMR.t_start,
                        e = BOOMR.now() - t),
                        e
                    },
                    visibilityState: void 0 === s ? function() {
                        return "visible"
                    }
                    : function() {
                        return i[s]
                    }
                    ,
                    lastVisibilityEvent: {},
                    registerEvent: function(e) {
                        return n.events.hasOwnProperty(e) || (n.events[e] = []),
                        this
                    },
                    disable: function() {
                        n.clearEvents(),
                        n.clearListeners()
                    },
                    fireEvent: function(e, t) {
                        return n.fireEvent(e, t)
                    },
                    subscribe: function(e, r, i, o, a) {
                        var s, c, u, d;
                        for (e = e.toLowerCase(),
                        n.translate_events[e] && (e = n.translate_events[e]),
                        n.events.hasOwnProperty(e) || (n.events[e] = []),
                        u = n.events[e],
                        s = 0; s < u.length; s++)
                            if ((c = u[s]) && c.fn === r && c.cb_data === i && c.scope === o)
                                return this;
                        return u.push({
                            fn: r,
                            cb_data: i || {},
                            scope: o || null,
                            once: a || !1
                        }),
                        "page_ready" === e && n.onloadfired && n.autorun && this.setImmediate(r, null, i, o),
                        "page_unload" !== e && "before_unload" !== e || (n.unloadEventsCount++,
                        u.length,
                        d = function(e) {
                            r && r.call(o, e || t.event, i),
                            ++n.unloadEventCalled === n.unloadEventsCount && BOOMR.real_sendBeacon()
                        }
                        ,
                        "page_unload" === e && (t.onpagehide || null === t.onpagehide ? BOOMR.utils.addListener(t, "pagehide", d) : BOOMR.utils.addListener(t, "unload", d)),
                        BOOMR.utils.addListener(t, "beforeunload", d)),
                        this
                    },
                    addError: function(e, t, r) {
                        var i, o = BOOMR.plugins.Errors, a = window.location.href, s = window.navigator.userAgent;
                        if (a && "" !== a && "about:blank" !== a && s && !/applebot/.test(s)) {
                            if (BOOMR.error("Boomerang caught error: " + e + ", src: " + t + ", extra: " + r),
                            BOOMR.window.XMLHttpRequest) {
                                var c = t
                                  , u = {
                                    file: "shopify-boomerang-1.0.0.min.js",
                                    lineNumber: 1,
                                    method: t
                                };
                                if (e.stack) {
                                    if (c = e.stack.split("\n")[0],
                                    !/boomerang\/shopify/.test(c) && /^https?/.test(c) || /@https?/.test(c))
                                        return;
                                    var d = e.stack.match(/([0-9]+):([0-9]+)/);
                                    if (d && d.length > 2 && (u.lineNumber = d[1],
                                    u.columnNumber = d[2],
                                    parseInt(u.lineNumber) > 1e5))
                                        return
                                }
                                var l = new BOOMR.window.XMLHttpRequest;
                                l.open("POST", "https://notify.bugsnag.com/", !0),
                                l.setRequestHeader("Content-Type", "application/json"),
                                l.setRequestHeader("Bugsnag-Api-Key", "820e26e0aacd928250da3d71da3e0782"),
                                l.setRequestHeader("Bugsnag-Payload-Version", "5"),
                                l.send(JSON.stringify({
                                    apiKey: "820e26e0aacd928250da3d71da3e0782",
                                    payloadVersion: 5,
                                    notifier: {
                                        name: "Native JS XHR",
                                        version: "2.3.2",
                                        url: "-"
                                    },
                                    events: [{
                                        exceptions: [{
                                            errorClass: c,
                                            stacktrace: [u],
                                            type: "browserjs"
                                        }],
                                        app: {
                                            releaseStage: "production",
                                            version: "2.3.2",
                                            id: "shopify-boomerang-1.0.0.min.js"
                                        },
                                        metaData: {
                                            user: {
                                                shopUrl: a,
                                                userAgent: s
                                            }
                                        },
                                        unhandled: !1
                                    }]
                                }))
                            }
                            o && o.is_supported() ? "string" == typeof e ? o.send({
                                message: e,
                                extra: r,
                                functionName: t,
                                noStack: !0
                            }, o.VIA_APP, o.SOURCE_BOOMERANG) : ("string" == typeof t && (e.functionName = t),
                            void 0 !== r && (e.extra = r),
                            o.send(e, o.VIA_APP, o.SOURCE_BOOMERANG)) : ("string" != typeof e && ((i = String(e)).match(/^\[object/) && (i = e.name + ": " + (e.description || e.message).replace(/\r\n$/, "")),
                            e = i),
                            void 0 !== t && (e = "[" + t + ":" + BOOMR.now() + "] " + e),
                            r && (e += ":: " + r),
                            n.errors[e] ? n.errors[e]++ : n.errors[e] = 1)
                        }
                    },
                    isCrossOriginError: function(e) {
                        return "SecurityError" === e.name || "TypeError" === e.name && "Permission denied" === e.message || "Error" === e.name && e.message && e.message.match(/^(Permission|Access is) denied/) || -2146828218 === e.number
                    },
                    addVar: function(e, t, r) {
                        if ("string" == typeof e)
                            n.vars[e] = t,
                            r && (n.singleBeaconVars[e] = 1);
                        else if ("object" == typeof e) {
                            var i, o = e;
                            for (i in o)
                                o.hasOwnProperty(i) && (n.vars[i] = o[i],
                                r && (n.singleBeaconVars[i] = 1))
                        }
                        return this
                    },
                    appendVar: function(e, t) {
                        var n = BOOMR.getVar(e) || "";
                        return n && (n += ","),
                        BOOMR.addVar(e, n + t),
                        this
                    },
                    removeVar: function(e) {
                        var t, r;
                        if (!arguments.length)
                            return this;
                        for (r = 1 === arguments.length && BOOMR.utils.isArray(e) ? e : arguments,
                        t = 0; t < r.length; t++)
                            n.vars.hasOwnProperty(r[t]) && delete n.vars[r[t]];
                        return this
                    },
                    hasVar: function(e) {
                        return n.vars.hasOwnProperty(e)
                    },
                    getVar: function(e) {
                        return n.vars[e]
                    },
                    setVarPriority: function(e, t) {
                        return "number" != typeof t || 1 !== Math.abs(t) || (n.varPriority[t][e] = 1),
                        this
                    },
                    setReferrer: function(e) {
                        n.r = e
                    },
                    requestStart: function(e) {
                        var t = BOOMR.now();
                        return BOOMR.plugins.RT.startTimer("xhr_" + e, t),
                        {
                            loaded: function(n) {
                                BOOMR.responseEnd(e, t, n)
                            }
                        }
                    },
                    readyToSend: function() {
                        var e;
                        for (e in this.plugins)
                            if (this.plugins.hasOwnProperty(e)) {
                                if (n.disabled_plugins[e])
                                    continue;
                                if ("function" == typeof this.plugins[e].readyToSend && !1 === this.plugins[e].readyToSend())
                                    return !1
                            }
                        return !0
                    },
                    responseEnd: function(e, t, r, i) {
                        if (t = "number" == typeof t ? t : BOOMR.now(),
                        i = "number" == typeof i ? i : BOOMR.now(),
                        BOOMR.readyToSend())
                            if (BOOMR.hasSentPageLoadBeacon() || BOOMR.utils.inArray(e.initiator, BOOMR.constants.BEACON_TYPE_SPAS))
                                if (n.beaconInQueue)
                                    BOOMR.subscribe("beacon", (function() {
                                        BOOMR.responseEnd(e, t, r, i)
                                    }
                                    ), null, BOOMR, !0);
                                else if (n.beaconInQueue = !0,
                                "object" == typeof e) {
                                    if (!e.url)
                                        return;
                                    n.fireEvent("xhr_load", e)
                                } else
                                    BOOMR.real_sendBeacon(),
                                    BOOMR.plugins.RT.startTimer("xhr_" + e, t),
                                    n.fireEvent("xhr_load", {
                                        name: "xhr_" + e,
                                        data: r,
                                        timing: {
                                            loadEventEnd: i
                                        }
                                    });
                            else
                                BOOMR.subscribe("page_load_beacon", (function() {
                                    BOOMR.responseEnd(e, t, r, i)
                                }
                                ), null, BOOMR, !0);
                        else
                            setTimeout((function() {
                                BOOMR.responseEnd(e, t, r, i)
                            }
                            ), 1e3)
                    },
                    uninstrumentXHR: function() {},
                    instrumentXHR: function() {},
                    uninstrumentFetch: function() {},
                    instrumentFetch: function() {},
                    sendBeacon: function(e) {
                        return e && (n.beacon_url_override = e),
                        n.beaconQueued || (n.beaconQueued = !0,
                        BOOMR.setImmediate(BOOMR.real_sendBeacon, null, null, BOOMR)),
                        !0
                    },
                    sendBeaconWhenReady: function(e, t, r) {
                        if (n.beaconInQueue)
                            BOOMR.subscribe("beacon", (function() {
                                BOOMR.sendBeaconWhenReady(e, t, r)
                            }
                            ), null, BOOMR, !0);
                        else {
                            for (var i in n.beaconInQueue = !0,
                            e)
                                e.hasOwnProperty(i) && BOOMR.addVar(i, e[i], !0);
                            "function" == typeof t && void 0 !== r && t.apply(r),
                            BOOMR.sendBeacon()
                        }
                    },
                    real_sendBeacon: function() {
                        var e, r = [], o = {};
                        if (!n.beaconQueued)
                            return !1;
                        for (e in n.beaconQueued = !1,
                        this.plugins)
                            if (this.plugins.hasOwnProperty(e)) {
                                if (n.disabled_plugins[e])
                                    continue;
                                if (!this.plugins[e].is_complete(n.vars))
                                    return !1
                            }
                        if (!(window && window.Image && window.navigator && BOOMR.window))
                            return !1;
                        var a = BOOMR.utils.inArray(n.vars.http_initiator, BOOMR.constants.BEACON_TYPE_SPAS)
                          , s = void 0 === n.vars.http_initiator || a;
                        for (e in n.vars.pgu || (n.vars.pgu = a ? i.URL : i.URL.replace(/#.*/, "")),
                        n.vars.pgu = BOOMR.utils.cleanupURL(n.vars.pgu),
                        n.vars.url && !a || (n.vars.url = n.vars.pgu),
                        n.vars.pgu === n.vars.url && delete n.vars.pgu,
                        n.r ? n.vars.referrer = BOOMR.utils.cleanupURL(n.r) : delete n.vars.referrer,
                        n.vars.boomerang_version = BOOMR.version,
                        t !== window && (n.vars.if = ""),
                        n.errors)
                            n.errors.hasOwnProperty(e) && r.push(e + (n.errors[e] > 1 ? " (*" + n.errors[e] + ")" : ""));
                        for (e in r.length > 0 && (n.vars.boomerang_errors = r.join("\n")),
                        n.errors = {},
                        n.fireEvent("before_beacon", n.vars),
                        n.vars)
                            n.vars.hasOwnProperty(e) && (o[e] = n.vars[e]);
                        for (var c in BOOMR.removeVar(["qt", "pgu"]),
                        n.singleBeaconVars)
                            n.singleBeaconVars.hasOwnProperty(c) && BOOMR.removeVar(c);
                        return n.singleBeaconVars = {},
                        !n.hasSentPageLoadBeacon && s && (n.hasSentPageLoadBeacon = !0,
                        BOOMR.setImmediate((function() {
                            n.fireEvent("page_load_beacon", o)
                        }
                        ))),
                        !BOOMR.session.rate_limited && (n.beaconInQueue = !1,
                        BOOMR.sendBeaconData(o),
                        !0)
                    },
                    sendBeaconData: function(e) {
                        var r, i, o, a, s, c = [], u = !0;
                        if (n.beacon_url = n.beacon_url_override || n.beacon_url,
                        !n.beacon_url)
                            return n.fireEvent("beacon_no_url", e),
                            !1;
                        if (!n.beaconUrlAllowed(n.beacon_url))
                            return !1;
                        if (BOOMR.utils.isObjectEmpty(e))
                            return !1;
                        if (n.fireEvent("beacon", e),
                        c = this.getVarsOfPriority(e, -1),
                        r = this.getVarsOfPriority(e, 1),
                        i = c.concat(this.getVarsOfPriority(e, 0), r).join("&"),
                        n.beacon_url_force_https && n.beacon_url.match(/^\/\//) && (n.beacon_url = "https:" + n.beacon_url),
                        o = n.beacon_url + (n.beacon_url.indexOf("?") > -1 ? "&" : "?") + i,
                        "GET" === n.beacon_type ? (u = !0,
                        o.length > BOOMR.constants.MAX_GET_LENGTH && (window.console && (console.warn || console.log) || function() {}
                        )("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")) : ("POST" === n.beacon_type || o.length > BOOMR.constants.MAX_GET_LENGTH) && (u = !1),
                        t && t.navigator && "function" == typeof t.navigator.sendBeacon && BOOMR.utils.isNative(t.navigator.sendBeacon) && "function" == typeof t.Blob && "GET" !== n.beacon_type && void 0 === n.beacon_auth_token && !n.beacon_disable_sendbeacon) {
                            var d = new t.Blob([i + "&sb=1"],{
                                type: "application/x-www-form-urlencoded"
                            });
                            try {
                                if (t.navigator.sendBeacon(n.beacon_url, d))
                                    return !0
                            } catch (e) {}
                        }
                        if (t && t.XMLHttpRequest || (u = !0),
                        u) {
                            try {
                                a = new Image
                            } catch (e) {
                                return !1
                            }
                            a.src = o
                        } else {
                            s = new (BOOMR.window.XMLHttpRequest || window.XMLHttpRequest);
                            try {
                                this.sendXhrPostBeacon(s, i)
                            } catch (e) {
                                s = new BOOMR.boomerang_frame.XMLHttpRequest,
                                this.sendXhrPostBeacon(s, i)
                            }
                        }
                        return !0
                    },
                    hasSentPageLoadBeacon: function() {
                        return n.hasSentPageLoadBeacon
                    },
                    sendXhrPostBeacon: function(e, t) {
                        e.open("POST", n.beacon_url),
                        e.setRequestHeader("Content-type", "application/x-www-form-urlencoded"),
                        void 0 !== n.beacon_auth_token && (void 0 === n.beacon_auth_key && (n.beacon_auth_key = "Authorization"),
                        e.setRequestHeader(n.beacon_auth_key, n.beacon_auth_token)),
                        n.beacon_with_credentials && (e.withCredentials = !0),
                        e.send(t)
                    },
                    getVarsOfPriority: function(e, t) {
                        var r, i = [], o = 0 !== t ? n.varPriority[t] : e;
                        for (r in o)
                            o.hasOwnProperty(r) && e.hasOwnProperty(r) && (i.push(this.getUriEncodedVar(r, void 0 === e[r] ? "" : e[r])),
                            0 !== t && delete e[r]);
                        return i
                    },
                    getUriEncodedVar: function(e, t) {
                        return null == t && (t = ""),
                        "object" == typeof t && (t = BOOMR.utils.serializeForUrl(t)),
                        encodeURIComponent(e) + "=" + encodeURIComponent(t)
                    },
                    getResourceTiming: function(e, t, n) {
                        var r, i = BOOMR.getPerformance();
                        try {
                            if (i && "function" == typeof i.getEntriesByName) {
                                if (!(r = i.getEntriesByName(e)) || !r.length)
                                    return;
                                if (!("function" != typeof n || (r = BOOMR.utils.arrayFilter(r, n)) && r.length))
                                    return;
                                return r.length > 1 && "function" == typeof t && r.sort(t),
                                r[r.length - 1]
                            }
                        } catch (e) {
                            BOOMR.warn("getResourceTiming:" + e)
                        }
                    }
                },
                BOOMR.url) {
                    var d = BOOMR.window.document.createElement("a");
                    d.href = BOOMR.url,
                    r.url = d.href
                } else
                    r.url = r.utils.getMyURL();
                var l;
                delete BOOMR_start,
                "number" == typeof BOOMR_lstart ? (r.t_lstart = BOOMR_lstart,
                delete BOOMR_lstart) : "number" == typeof BOOMR.window.BOOMR_lstart && (r.t_lstart = BOOMR.window.BOOMR_lstart),
                "number" == typeof BOOMR.window.BOOMR_onload && (r.t_onload = BOOMR.window.BOOMR_onload),
                "object" == typeof console && void 0 !== console.log ? r.log = function(e, t, n) {}
                : r.log = function() {}
                ,
                l = function(e) {
                    return function(t, n) {
                        return this.log(t, e, "boomerang" + (n ? "." + n : "")),
                        this
                    }
                }
                ,
                r.debug = l("debug"),
                r.info = l("info"),
                r.warn = l("warn"),
                r.error = l("error");
                try {
                    var f = r.getPerformance();
                    f && "function" == typeof f.now && /\[native code\]/.test(String(f.now)) && f.timing && f.timing.navigationStart && (r.now = function() {
                        return Math.round(f.now() + f.timing.navigationStart)
                    }
                    )
                } catch (e) {}
                n.checkLocalStorageSupport(),
                function() {
                    var e;
                    for (e in r)
                        r.hasOwnProperty(e) && (BOOMR[e] = r[e]);
                    BOOMR.xhr_excludes || (BOOMR.xhr_excludes = {})
                }(),
                a("onBoomerangLoaded", {
                    BOOMR
                }, !0)
            }
        }(window)
    }
    )(),
    function() {
        if (BOOMR = window.BOOMR || {},
        "function" == typeof BOOMR.addVar) {
            var e = BOOMR.getPerformance();
            BOOMR.plugins.ServerTiming = {
                init: function() {
                    !function() {
                        if (e && e.getEntriesByType) {
                            var t = e.getEntriesByType("navigation");
                            if (t && t.length) {
                                var n = t[0].serverTiming;
                                if (n) {
                                    var r = {};
                                    n.forEach((function(e) {
                                        r[e.name] = [e.duration, e.description]
                                    }
                                    )),
                                    n && n.length && BOOMR.addVar("server_timing", JSON.stringify(r), !0)
                                }
                            }
                        }
                    }()
                },
                is_complete: function() {
                    return !0
                }
            }
        }
    }(),
    function() {
        if (BOOMR = window.BOOMR || {},
        "function" == typeof BOOMR.addVar) {
            var e = BOOMR.getPerformance()
              , t = {
                isComplete: !1,
                isCompleteCalled: !1,
                addVisuallyReadyToBeacon: function() {
                    var t = e && e.timing && e.timing.navigationStart ? e.timing.navigationStart : BOOMR.now()
                      , n = 0;
                    if (BOOMR.plugins.PaintTiming && BOOMR.plugins.PaintTiming.is_supported() && e && e.timeOrigin) {
                        var r = BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");
                        r || (r = BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint")),
                        r || (r = BOOMR.plugins.PaintTiming.getTimingFor("first-paint")),
                        r && (n = Math.max(n, Math.round(r + e.timeOrigin)))
                    }
                    e && e.timing && e.timing.msFirstPaint && (n = Math.max(n, e.timing.msFirstPaint)),
                    e && e.timing && e.timing.domContentLoadedEventEnd && (n = Math.max(n, e.timing.domContentLoadedEventEnd)),
                    visuallyReady = n,
                    visuallyReady && BOOMR.addVar("visually_ready", visuallyReady - t, !0)
                }
            };
            BOOMR.plugins.VisuallyReady = {
                init: function(e) {
                    BOOMR.subscribe("page_ready", (function() {
                        t.addVisuallyReadyToBeacon(),
                        t.isComplete = !0,
                        t.isCompleteCalled && BOOMR.sendBeacon()
                    }
                    ))
                },
                is_complete: function() {
                    return t.isCompleteCalled = !0,
                    t.isComplete
                }
            }
        }
    }(),
    function() {
        BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {};
        var e = {
            isDone: !1,
            isCompleteCalled: !1,
            longTasks: [],
            longTasksTime: 0,
            timeout: null,
            perfObserver: null,
            onPerformanceObserver: function(t) {
                var n, r;
                for (n = t.getEntries(),
                Array.prototype.push.apply(e.longTasks, n),
                r = 0; r < n.length; r++)
                    e.longTasksTime += n[r].duration;
                clearTimeout(e.timeout),
                e.timeout = setTimeout(e.done, 500)
            },
            done: function() {
                e.isDone || (e.isDone = !0,
                e.perfObserver.disconnect(),
                BOOMR.addVar("total_duration_long_tasks", e.longTasksTime, !0),
                BOOMR.addVar("number_long_tasks", e.longTasks.length, !0),
                e.isCompleteCalled && BOOMR.sendBeacon())
            }
        };
        if (window.PerformanceObserver && window.PerformanceLongTaskTiming) {
            e.perfObserver = new window.PerformanceObserver(e.onPerformanceObserver);
            try {
                e.perfObserver.observe({
                    entryTypes: ["longtask"]
                })
            } catch (t) {
                e.isDone = !0
            }
        } else
            e.isDone = !0;
        BOOMR.plugins.LongTask = {
            init: function() {
                return e.timeout = setTimeout(e.done, 500),
                this
            },
            is_complete: function() {
                return e.isCompleteCalled = !0,
                e.isDone
            }
        }
    }(),
    e = o(935),
    t = {
        CLS: "cumulative_layout_shift_score",
        FID: "first_input_delay"
    },
    function() {
        BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {};
        var n = {
            retries: 0,
            isCompleteCalled: !1,
            isDone: !1,
            addToBeacon: function(e) {
                BOOMR.addVar(t[e.name], e.value, !0)
            }
        };
        BOOMR.plugins.CoreWebVitals = {
            init: function() {
                return e.getCLS(n.addToBeacon, !0),
                e.getFID(n.addToBeacon, !0),
                setTimeout((function() {
                    n.isDone = !0,
                    n.isCompleteCalled && BOOMR.sendBeacon()
                }
                ), 1500),
                this
            },
            is_complete: function() {
                return n.isCompleteCalled = !0,
                n.isDone
            }
        }
    }(),
    function() {
        if (BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {},
        !BOOMR.plugins.PaintTiming) {
            var e = {
                "first-paint": "first_paint",
                "first-contentful-paint": "first_contentful_paint",
                "largest-contentful-paint": "largest_contentful_paint"
            }
              , t = {
                initialized: !1,
                complete: !1,
                supported: null,
                timingCache: {},
                observer: null,
                externalMetrics: {},
                done: function(n, r) {
                    var i, o, a;
                    if (this.complete)
                        return this;
                    if ("load" !== r && (!n || "spa_hard" !== n.initiator))
                        return this.complete = !0,
                        this;
                    if ((i = BOOMR.getPerformance()) && "function" == typeof i.getEntriesByType) {
                        if ((o = i.getEntriesByType("paint")) && o.length) {
                            for (BOOMR.info("This user agent supports PaintTiming", "pt"),
                            a = 0; a < o.length; a++)
                                t.timingCache[o[a].name] = o[a].startTime,
                                e[o[a].name] && BOOMR.addVar(e[o[a].name], Math.floor(o[a].startTime), !0);
                            this.complete = !0,
                            BOOMR.sendBeacon()
                        }
                    } else
                        this.complete = !0
                },
                onObserver: function(e) {
                    var n = e.getEntries();
                    if (0 !== n.length) {
                        var r = n[n.length - 1]
                          , i = r.renderTime || r.loadTime;
                        t.timingCache[r.entryType] = i,
                        BOOMR.addVar("largest_contentful_paint", Math.floor(i), !0),
                        t.externalMetrics.lcp = function() {
                            return Math.floor(i)
                        }
                    }
                }
            };
            BOOMR.plugins.PaintTiming = {
                init: function() {
                    return this.is_supported() || (t.complete = !0,
                    t.initialized = !0),
                    t.complete || "hidden" !== BOOMR.visibilityState() || (BOOMR.addVar("paint_timing_hidden", 1, !0),
                    t.complete = !0),
                    t.initialized || (BOOMR.subscribe("page_ready", t.done, "load", t),
                    BOOMR.subscribe("xhr_load", t.done, "xhr", t),
                    BOOMR.subscribe("before_unload", t.done, null, t),
                    "function" == typeof BOOMR.window.PerformanceObserver && "function" == typeof window.LargestContentfulPaint && (t.observer = new BOOMR.window.PerformanceObserver(t.onObserver),
                    t.observer.observe({
                        type: "largest-contentful-paint",
                        buffered: !0
                    })),
                    t.initialized = !0),
                    this
                },
                is_complete: function() {
                    return !0
                },
                is_enabled: function() {
                    return t.initialized && this.is_supported()
                },
                is_supported: function() {
                    if (null !== t.supported)
                        return t.supported;
                    var e = BOOMR.getPerformance();
                    return t.supported = e && void 0 !== window.PerformancePaintTiming && "function" == typeof e.getEntriesByType,
                    t.supported
                },
                getTimingFor: function(e) {
                    var n, r, i;
                    if (t.timingCache[e])
                        return t.timingCache[e];
                    if (this.is_supported() && (i = BOOMR.getPerformance()) && "function" == typeof i.getEntriesByType && (n = i.getEntriesByType("paint")) && n.length)
                        for (r = 0; r < n.length; r++)
                            if (n[r].name === e)
                                return t.timingCache[e] = n[r].startTime,
                                t.timingCache[e]
                },
                metrics: t.externalMetrics
            }
        }
    }(),
    function() {
        if (BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {},
        !BOOMR.plugins.NavigationTiming) {
            var e = {
                complete: !1,
                fullySent: !1,
                sendBeacon: function() {
                    this.complete = !0,
                    BOOMR.sendBeacon()
                },
                xhr_done: function(t) {
                    var n;
                    if (t && "spa_hard" === t.initiator)
                        e.done(t);
                    else if (t && "spa" === t.initiator)
                        e.sendBeacon();
                    else {
                        BOOMR.window;
                        var r, i, o = {};
                        if (t) {
                            if (t.data && (t = t.data),
                            (n = BOOMR.getPerformance()) && t.restiming)
                                for (i in o = {
                                    redirect_start: t.restiming.redirectStart,
                                    redirect_end: t.restiming.redirectEnd,
                                    fetch_start: t.restiming.fetchStart,
                                    domain_lookup_start: t.restiming.domainLookupStart,
                                    domain_lookup_end: t.restiming.domainLookupEnd,
                                    connect_start: t.restiming.connectStart,
                                    connect_end: t.restiming.connectEnd,
                                    request_start: t.restiming.requestStart,
                                    response_start: t.restiming.responseStart,
                                    response_end: t.restiming.responseEnd
                                },
                                t.restiming.secureConnectionStart && (o.secure_connection_start = t.restiming.secureConnectionStart),
                                o)
                                    o.hasOwnProperty(i) && o[i] && (o[i] += n.timing.navigationStart,
                                    o[i] = Math.floor(o[i]));
                            for (i in t.timing && (r = t.timing,
                            o.request_start || (o.request_start = r.requestStart),
                            o.response_start || (o.response_start = r.responseStart),
                            o.response_end || (o.response_end = r.responseEnd),
                            o.dom_interactive = r.domInteractive,
                            o.dom_complete = r.domComplete,
                            o.load_event_start = r.loadEventEnd,
                            o.load_event_end = r.loadEventEnd),
                            o)
                                o.hasOwnProperty(i) && !o[i] && delete o[i];
                            BOOMR.addVar(o);
                            try {
                                e.addedVars.push.apply(e.addedVars, Object.keys(o))
                            } catch (e) {}
                            e.sendBeacon()
                        }
                    }
                },
                done: function() {
                    BOOMR.window;
                    var n, r, i, o, a = {}, s = 0;
                    if (this.complete)
                        return this;
                    if (e.addedVars = [],
                    n = BOOMR.getPerformance()) {
                        if ("function" == typeof n.getEntriesByType && ((i = n.getEntriesByType("navigation")) && i.length ? (BOOMR.info("This user agent supports NavigationTiming2", "nt"),
                        i = i[0],
                        s = n.timing ? n.timing.navigationStart : 0) : i = void 0),
                        !i && n.timing && (BOOMR.info("This user agent supports NavigationTiming", "nt"),
                        i = n.timing),
                        i && (!(a = {
                            navigation_start: n.timing ? n.timing.navigationStart : 0,
                            redirect_start: t(s, i.redirectStart),
                            redirect_end: t(s, i.redirectEnd),
                            fetch_start: t(s, i.fetchStart),
                            domain_lookup_start: t(s, i.domainLookupStart),
                            domain_lookup_end: t(s, i.domainLookupEnd),
                            connect_start: t(s, i.connectStart),
                            connect_end: t(s, i.connectEnd),
                            request_start: t(s, i.requestStart),
                            response_start: t(s, i.responseStart),
                            response_end: t(s, i.responseEnd),
                            dom_loading: t(s, i.domLoading),
                            dom_interactive: t(s, i.domInteractive),
                            dom_content_loaded_event_start: t(s, i.domContentLoadedEventStart),
                            dom_content_loaded_event_end: t(s, i.domContentLoadedEventEnd),
                            dom_complete: t(s, i.domComplete),
                            load_event_start: t(s, i.loadEventStart),
                            load_event_end: t(s, i.loadEventEnd),
                            unload_event_start: t(s, i.unloadEventStart),
                            unload_event_end: t(s, i.unloadEventEnd)
                        }).dom_loading && n && n.timing && n.timing.domLoading && (a.dom_loading = n.timing.domLoading),
                        i.secureConnectionStart && (a.secure_connection_start = t(s, i.secureConnectionStart)),
                        i.workerStart && (a.worker_start = t(s, i.workerStart)),
                        (i.decodedBodySize || i.transferSize) && (a.encoded_body_size = i.encodedBodySize,
                        a.decoded_body_size = i.decodedBodySize,
                        a.transfer_size = i.transferSize),
                        i.nextHopProtocol && (a.next_hop_protocol = i.nextHopProtocol)),
                        n.navigation) {
                            r = 0 === (r = n.getEntriesByType("navigation")).length ? n.navigation : r[0],
                            a.redirect_count = r.redirectCount;
                            var c = {
                                0: "navigate",
                                1: "reload",
                                2: "back_forward",
                                225: "reserve"
                            };
                            a.navigation_type = c[r.type] ? c[r.type] : r.type
                        }
                        for (o in a)
                            a.hasOwnProperty(o) && void 0 === a[o] && delete a[o];
                        BOOMR.addVar(a),
                        i && (i.requestStart && i.navigationStart && i.requestStart < i.navigationStart || i.responseStart && i.navigationStart && i.responseStart < i.navigationStart || i.responseStart && i.fetchStart && i.responseStart < i.fetchStart || i.navigationStart && i.fetchStart < i.navigationStart || i.responseEnd && i.responseEnd > BOOMR.now() + 864e5) && (BOOMR.addVar("navigation_bad", 1),
                        e.addedVars.push("navigation_bad"));
                        try {
                            e.addedVars.push.apply(e.addedVars, Object.keys(a))
                        } catch (e) {}
                        a.load_event_end > 0 && (this.fullySent = !0)
                    }
                    e.sendBeacon()
                },
                clear: function(t) {
                    e.addedVars && e.addedVars.length > 0 && (BOOMR.removeVar(e.addedVars),
                    e.addedVars = []),
                    this.complete = !(t && t.early) && this.fullySent
                },
                prerenderToVisible: function() {
                    this.complete = !1,
                    this.done()
                }
            };
            BOOMR.plugins.NavigationTiming = {
                init: function() {
                    return e.initialized || (BOOMR.subscribe("page_ready", e.done, null, e),
                    BOOMR.subscribe("prerender_to_visible", e.prerenderToVisible, null, e),
                    BOOMR.subscribe("xhr_load", e.xhr_done, null, e),
                    BOOMR.subscribe("before_unload", e.done, null, e),
                    BOOMR.subscribe("beacon", e.clear, null, e),
                    e.initialized = !0),
                    this
                },
                is_complete: function() {
                    return !0
                }
            }
        }
        function t(e, t) {
            if ("number" == typeof t && 0 !== t)
                return Math.floor((e || 0) + t)
        }
    }(),
    function() {
        var e, t = {
            type: "connection_type",
            effectiveType: "effective_type",
            saveData: "save_data"
        };
        function n() {
            var n;
            for (n in t)
                void 0 !== e[n] && (BOOMR.removeVar(t[n]),
                e[n] && BOOMR.addVar(t[n], e[n]))
        }
        BOOMR = window.BOOMR || {},
        "function" == typeof BOOMR.addVar && ("object" == typeof navigator && (e = navigator.connection || navigator.mozConnection || navigator.webkitConnection || navigator.msConnection),
        e && (e.addEventListener && e.addEventListener("change", (function() {
            n(),
            BOOMR.fireEvent("netinfo", e)
        }
        )),
        n()))
    }(),
    function() {
        var e;
        if (BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {},
        !BOOMR.plugins.ResourceTiming) {
            var t = {
                other: 0,
                img: 1,
                link: 2,
                script: 3,
                css: 4,
                xmlhttprequest: 5,
                html: 6,
                image: 7,
                beacon: 8,
                fetch: 9,
                iframe: "a",
                subdocument: "a",
                body: "b",
                input: "c",
                frame: "a",
                object: "d",
                video: "e",
                audio: "f",
                source: "g",
                track: "h",
                embed: "i",
                eventsource: "j",
                navigation: 6,
                "early-hints": "k"
            }
              , n = {
                prefetch: 1,
                preload: 2,
                prerender: 3,
                stylesheet: 4
            }
              , r = ["startTime", "redirectStart", "redirectEnd", "fetchStart", "domainLookupStart", "domainLookupEnd", "connectStart", "secureConnectionStart", "connectEnd", "requestStart", "responseStart", "responseEnd", "workerStart"]
              , i = "\n";
            e = {
                complete: !1,
                sentNavBeacon: !1,
                initialized: !1,
                supported: null,
                xhr_load: function() {
                    this.complete || (this.complete = !0,
                    BOOMR.sendBeacon())
                },
                xssBreakWords: [/(h)(ref)/gi, /(s)(rc)/gi, /(a)(ction)/gi],
                urlLimit: 500,
                clearOnBeacon: !1,
                trimUrls: [],
                serverTiming: !0,
                monitorClearResourceTimings: !1,
                splitAtPath: !1,
                getSrcsetDimensions: !1,
                trackedResourceTypes: "*",
                done: function() {
                    this.sentNavBeacon || (h(),
                    this.complete = !0,
                    this.sentNavBeacon = !0,
                    BOOMR.sendBeacon())
                },
                onBeacon: function(t) {
                    var n = BOOMR.getPerformance();
                    if (e.clearOnBeacon && n) {
                        var r = n.clearResourceTimings || n.webkitClearResourceTimings;
                        r && "function" == typeof r && r.call(n)
                    }
                },
                prerenderToVisible: function() {
                    this.sentNavBeacon = !1,
                    this.done()
                }
            },
            BOOMR.plugins.ResourceTiming = {
                init: function(t) {
                    if (BOOMR.utils.pluginConfig(e, t, "ResourceTiming", ["xssBreakWords", "clearOnBeacon", "urlLimit", "trimUrls", "trackedResourceTypes", "serverTiming", "monitorClearResourceTimings", "splitAtPath", "getSrcsetDimensions"]),
                    e.trackedResourceTypes = ["script", "img", "css", "link", "early-hints"],
                    e.initialized)
                        return this;
                    if (this.is_supported()) {
                        if (BOOMR.subscribe("page_ready", e.done, null, e),
                        BOOMR.subscribe("prerender_to_visible", e.prerenderToVisible, null, e),
                        BOOMR.subscribe("xhr_load", e.xhr_load, null, e),
                        BOOMR.subscribe("beacon", e.onBeacon, null, e),
                        BOOMR.subscribe("before_unload", e.done, null, e),
                        e.monitorClearResourceTimings) {
                            var n = this;
                            BOOMR.window.performance.clearResourceTimings = (r = BOOMR.window.performance.clearResourceTimings,
                            function() {
                                n.addResources(BOOMR.window.performance.getEntriesByType("resource")),
                                r.apply(BOOMR.window.performance, arguments)
                            }
                            )
                        }
                    } else
                        e.complete = !0;
                    var r;
                    return e.initialized = !0,
                    this
                },
                is_complete: function() {
                    return !0
                },
                is_enabled: function() {
                    return e.initialized && this.is_supported()
                },
                is_supported: function() {
                    if (null !== e.supported)
                        return e.supported;
                    var t = BOOMR.getPerformance();
                    return e.supported = t && "function" == typeof t.getEntriesByType && void 0 !== window.PerformanceResourceTiming,
                    e.supported
                },
                addResources: function(t, n) {
                    if (this.is_supported() && BOOMR.utils.isArray(t)) {
                        if (e.collectedEntries = e.collectedEntries || [],
                        "number" == typeof n) {
                            var i = n - (BOOMR.window.performance.timeOrigin || BOOMR.window.performance.timing.navigationStart);
                            t = BOOMR.utils.arrayFilter(t, (function(e) {
                                for (var t = 0; t < r.length; t++) {
                                    var n = r[t];
                                    e.hasOwnProperty(n) && (e[n] += i)
                                }
                                return !0
                            }
                            ))
                        }
                        Array.prototype.push.apply(e.collectedEntries, t)
                    }
                },
                getCompressedResourceTiming: g,
                getFilteredResourceTiming: O,
                calculateResourceTimingUnion: function(e) {
                    var t;
                    if (!e || !e.length)
                        return 0;
                    e.sort((function(e, t) {
                        return e.fetchStart !== t.fetchStart ? e.fetchStart - t.fetchStart : (e.responseStart || e.responseEnd) - (t.responseStart || t.responseEnd)
                    }
                    ));
                    var n = v(e)
                      , r = []
                      , i = 0;
                    for (t = 0; t < n.length; t++) {
                        var o = n[t];
                        o.fetchStart < i && (o.fetchStart = i),
                        o.fetchStart < o.responseEnd && (r.push(o),
                        i = o.responseEnd)
                    }
                    var a = v(r)
                      , s = 0;
                    for (t = 0; t < a.length; t++)
                        s += a[t].responseEnd - a[t].fetchStart;
                    return s
                },
                addResourceTimingToBeacon: h,
                addToBeacon: B
            }
        }
        function o(t, n) {
            var r, o, a, s, c, u, d, l, f = {};
            function p(e) {
                return function(t, n, r) {
                    var o, a;
                    if (-1 !== n.indexOf(i)) {
                        for (o = n.split(i),
                        a = 0; a < o.length - 1; a++)
                            t.push(o[a]),
                            t.push(i);
                        n = o.slice(-1)
                    }
                    return "number" == typeof e && r < e && (n += "/"),
                    t.concat(n)
                }
            }
            for (r in t) {
                for (o = r,
                a = 0; a < e.xssBreakWords.length; a++)
                    o = o.replace(e.xssBreakWords[a], "$1\n$2");
                if (t.hasOwnProperty(r))
                    for (s = t[r],
                    c = n ? [(c = o.split("/"))[0] + "//", c[2] + (c.length > 3 ? "/" : "")].concat(c.slice(3).reduce(p(c.length - 4), [])) : o.split(""),
                    d = f,
                    a = 0; a < c.length; a++)
                        void 0 === (l = d[u = c[a]]) ? d = d[u] = a === c.length - 1 ? s : {} : "string" == typeof l ? d = d[u] = {
                            "|": l
                        } : a === c.length - 1 ? d[u]["|"] = s : d = d[u]
            }
            return f
        }
        function a(e, t) {
            var n, r, o, s = 0, c = [];
            for (n in e)
                e.hasOwnProperty(n) && c.push(n);
            for (var u = 0; u < c.length; u++)
                "object" == typeof e[n = c[u]] && (r = a(e[n], !1)) && (delete e[n],
                n === i ? (n = r.name,
                s++) : n += r.name,
                e[n] = r.value),
                s++;
            return 1 === s ? t ? ((o = {})[n] = e[n],
            o) : {
                name: n,
                value: e[n]
            } : !!t && e
        }
        function s(e) {
            return "img" === e.initiatorType || "image" === e.initiatorType
        }
        function c(e, t) {
            "number" != typeof e && (e = 0),
            "number" != typeof t && (t = 0);
            var n = Math.round(e || 0)
              , r = Math.round(t || 0);
            return 0 === n ? 0 : n - r
        }
        function u(e) {
            try {
                if (e.location && e.location.href,
                e.document,
                "performance"in e && e.performance)
                    return !0
            } catch (e) {}
            return !1
        }
        function d(e) {
            var t = 0;
            return u(e) && e.performance.timing && e.performance.timing.navigationStart && (t = e.performance.timing.navigationStart),
            t
        }
        function l(t, i, o, a, c) {
            var p, O, m, g, v, h, B, _, y, R, b, M, w = [], S = {}, E = {};
            if (void 0 === i && (i = !0),
            void 0 === o && (o = 0),
            void 0 === a && (a = 0),
            a > 10)
                return w;
            try {
                if (!u(t))
                    return w;
                if (m = d(t),
                R = function(t, n) {
                    var r, i, o = {}, a = t.document, s = a.createElement("A");
                    return r = (n = n || [0, 0, 0, 0])[3] + (void 0 !== t.pageXOffset) ? t.pageXOffset : (a.documentElement || a.body.parentNode || a.body).scrollLeft,
                    i = n[2] + (void 0 !== t.pageYOffset) ? t.pageYOffset : (a.documentElement || a.body.parentNode || a.body).scrollTop,
                    ["img", "iframe", "image"].forEach((function(t) {
                        var n, c, u, d, l, f, p, O = a.getElementsByTagName(t);
                        for (c = 0; c < O.length; c++)
                            if ((n = O[c]) && (d = n.currentSrc || n.src || "function" == typeof n.getAttribute && n.getAttribute("src") || n.getAttribute("xlink:href"),
                            s.href = d,
                            (d = s.href) && !o[d] && ((u = n.getBoundingClientRect()).height || n.offsetHeight) && (u.width || n.offsetWidth))) {
                                if (o[d] = [u.height || n.offsetHeight, u.width || n.offsetWidth, Math.round(u.top + i), Math.round(u.left + r)],
                                !n.naturalHeight && !n.naturalWidth)
                                    continue;
                                e.getSrcsetDimensions && n.currentSrc && (n.srcset || n.parentNode && n.parentNode.nodeName && "PICTURE" === n.parentNode.nodeName.toUpperCase()) ? (l = n.isConnected ? n.ownerDocument.createElement("IMG") : new BOOMR.window.Image).src = d : l = n,
                                f = l.naturalHeight || n.naturalHeight,
                                p = l.naturalWidth || n.naturalWidth,
                                !f && !p || o[d][0] === f && o[d][1] === p || o[d].push(f, p)
                            }
                    }
                    )),
                    o
                }(t, c),
                f(b = t.document.createElement("a"), S, "script"),
                f(b, E, "link"),
                (h = t.document.getElementsByTagName("iframe")) && h.length)
                    for (p = 0; p < h.length; p++)
                        g = d(h[p].contentWindow),
                        v = 0,
                        g > m && (v = o + (g - m)),
                        b.href = h[p].src,
                        w = w.concat(l(h[p].contentWindow, !1, v, a + 1, R[b.href]));
                if ("function" != typeof t.performance.getEntriesByType)
                    return w;
                function T(t) {
                    return e.serverTiming && t.serverTiming || []
                }
                i && ((O = t.performance.getEntriesByType("navigation")) && 1 === O.length ? (B = O[0],
                w.push({
                    name: t.location.href,
                    startTime: 0,
                    initiatorType: "html",
                    redirectStart: B.redirectStart,
                    redirectEnd: B.redirectEnd,
                    fetchStart: B.fetchStart,
                    domainLookupStart: B.domainLookupStart,
                    domainLookupEnd: B.domainLookupEnd,
                    connectStart: B.connectStart,
                    secureConnectionStart: B.secureConnectionStart,
                    connectEnd: B.connectEnd,
                    requestStart: B.requestStart,
                    responseStart: B.responseStart,
                    responseEnd: B.responseEnd,
                    workerStart: B.workerStart,
                    encodedBodySize: B.encodedBodySize,
                    decodedBodySize: B.decodedBodySize,
                    transferSize: B.transferSize,
                    serverTiming: T(B)
                })) : t.performance.timing && 0 !== (_ = t.performance.timing).navigationStart && _.responseEnd <= _.navigationStart + 36e5 && w.push({
                    name: t.location.href,
                    startTime: 0,
                    initiatorType: "html",
                    redirectStart: _.redirectStart ? _.redirectStart - _.navigationStart : 0,
                    redirectEnd: _.redirectEnd ? _.redirectEnd - _.navigationStart : 0,
                    fetchStart: _.fetchStart ? _.fetchStart - _.navigationStart : 0,
                    domainLookupStart: _.domainLookupStart ? _.domainLookupStart - _.navigationStart : 0,
                    domainLookupEnd: _.domainLookupEnd ? _.domainLookupEnd - _.navigationStart : 0,
                    connectStart: _.connectStart ? _.connectStart - _.navigationStart : 0,
                    secureConnectionStart: _.secureConnectionStart ? _.secureConnectionStart - _.navigationStart : 0,
                    connectEnd: _.connectEnd ? _.connectEnd - _.navigationStart : 0,
                    requestStart: _.requestStart ? _.requestStart - _.navigationStart : 0,
                    responseStart: _.responseStart ? _.responseStart - _.navigationStart : 0,
                    responseEnd: _.responseEnd ? _.responseEnd - _.navigationStart : 0
                }));
                var C = t.performance.getEntriesByType("resource")
                  , x = [];
                t === BOOMR.window && e.collectedEntries && (Array.prototype.push.apply(C, e.collectedEntries),
                e.collectedEntries = []);
                var P = 0;
                for (p = 0; C && p < C.length; p++)
                    if (_ = C[p],
                    !(P >= 10 && s(_))) {
                        y = {
                            name: _.name,
                            initiatorType: _.initiatorType,
                            encodedBodySize: _.encodedBodySize,
                            decodedBodySize: _.decodedBodySize,
                            transferSize: _.transferSize,
                            serverTiming: T(_),
                            visibleDimensions: R[_.name],
                            latestTime: (M = _,
                            M.responseEnd ? M.responseEnd : M.responseStart && M.startTime ? M.responseStart + .2 * (M.responseStart - M.startTime) : 1 / 0)
                        };
                        for (var k = 0; k < r.length; k++) {
                            var L = r[k];
                            y[L] = "startTime" === L || _[L] ? _[L] + o : 0
                        }
                        if (_.hasOwnProperty("_data") && (y._data = _._data),
                        ("script" === _.initiatorType || "link" === _.initiatorType) && S[_.name]) {
                            var A = S[_.name];
                            for (y.scriptAttrs = (A.async ? 1 : 0) | (A.defer ? 2 : 0); 1 === A.nodeType && "BODY" !== A.nodeName; )
                                A = A.parentNode;
                            y.scriptAttrs |= "BODY" === A.nodeName ? 4 : 0
                        }
                        "link" === _.initiatorType && E[_.name] && BOOMR.utils.arrayFind(E[_.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/), (function(e) {
                            if (e = e.toLowerCase(),
                            n[e])
                                return y.linkAttrs = n[e],
                                !0
                        }
                        )),
                        x.push(y),
                        s(y) && P++
                    }
                w = w.concat(x)
            } catch (V) {
                return w
            }
            return w
        }
        function f(e, t, n) {
            Array.prototype.forEach.call(e.ownerDocument.getElementsByTagName(n), (function(n) {
                e.href = n.currentSrc || n.src || "function" == typeof n.getAttribute && n.getAttribute("xlink:href") || n.href,
                e.href.match(/^https?:\/\//) && (t[e.href] = n)
            }
            ))
        }
        function p(e) {
            return "number" == typeof e && 0 !== e ? e.toString(36) : "string" == typeof e ? e : ""
        }
        function O(e, t, n) {
            var r, i, o = l(BOOMR.window, !0, 0, 0), a = d(BOOMR.window);
            if (!o || !o.length)
                return {
                    entries: []
                };
            o.sort((function(e, t) {
                return e.startTime - t.startTime
            }
            ));
            var s = [];
            for (r = 0; r < o.length; r++)
                if ((0 === (i = o[r]).name.indexOf("http:") || 0 === i.name.indexOf("https:")) && !(i.name.indexOf(BOOMR.url) > -1 || i.name.indexOf(BOOMR.config_url) > -1 || "function" == typeof BOOMR.getBeaconURL && BOOMR.getBeaconURL() && i.name.indexOf(BOOMR.getBeaconURL()) > -1 || e && a + i.startTime < e)) {
                    if (t && a + i.startTime > t)
                        break;
                    (void 0 === n || "*" === n || !n.length || i.initiatorType && BOOMR.utils.inArray(i.initiatorType, n)) && s.push(i)
                }
            return {
                entries: s
            }
        }
        function m(t, n) {
            var r, i, o;
            if (t && n)
                for (r = 0; r < n.length; r++)
                    if ("string" == typeof (o = n[r])) {
                        if (-1 !== (i = t.indexOf(o))) {
                            t = t.substr(0, i + o.length) + "...";
                            break
                        }
                    } else
                        o instanceof RegExp && o.test(t) && (t = t.replace(o, "$1") + "...");
            return BOOMR.utils.cleanupURL(t, e.urlLimit)
        }
        function g(n, r) {
            var i, s, u, d, l, f, g, v, h, B, _ = {}, y = {}, R = O(n, r, e.trackedResourceTypes).entries;
            if (!R || !R.length)
                return {
                    resource_timing: {}
                };
            for (i = 0; i < R.length; i++) {
                s = R[i],
                void 0 === (u = t[s.initiatorType]) && (u = 0),
                l = u + [c(s.startTime, 0), c(s.responseEnd, s.startTime), c(s.responseStart, s.startTime), c(s.requestStart, s.startTime), c(s.connectEnd, s.startTime), c(s.secureConnectionStart, s.startTime), c(s.connectStart, s.startTime), c(s.domainLookupEnd, s.startTime), c(s.domainLookupStart, s.startTime), c(s.redirectEnd, s.startTime), c(s.redirectStart, s.startTime)].map(p).join(",").replace(/,+$/, "");
                var b = (v = void 0,
                h = void 0,
                B = void 0,
                (g = s).encodedBodySize || g.decodedBodySize || g.transferSize ? (v = g.transferSize,
                [h = g.encodedBodySize, v ? v - h : "_", (B = g.decodedBodySize) ? B - h : 0].map(p).join(",").replace(/,+$/, "")) : "");
                if ("" !== b && (l += "*1" + b),
                s.hasOwnProperty("scriptAttrs") && (l += "*2" + s.scriptAttrs),
                s.hasOwnProperty("linkAttrs") && (l += "*4" + s.linkAttrs),
                s.workerStart && "number" == typeof s.workerStart && 0 !== s.workerStart && (l += "*6" + p(c(("number" != typeof (f = s.workerStart) && (f = 0),
                Math.ceil(f || 0)), s.startTime))),
                d = m(s.name, e.trimUrls),
                s.hasOwnProperty("_data")) {
                    var M = "";
                    for (var w in s._data)
                        s._data.hasOwnProperty(w) && (M += "*5" + w + ":" + s._data[w]);
                    void 0 === _[d] ? _[d] = l + M : _[d] += M
                } else
                    void 0 !== _[d] ? _[d] += "|" + l : s.visibleDimensions ? _[d] = "*0" + s.visibleDimensions.map(Math.round).map(p).join(",").replace(/,+$/, "") + "|" + l : _[d] = l;
                s.visibleDimensions && (y[s.latestTime] || (y[s.latestTime] = []),
                y[s.latestTime].push(s.visibleDimensions))
            }
            return {
                resource_timing: a(o(_, e.splitAtPath), !0)
            }
        }
        function v(e) {
            var t = [];
            if (!e || !e.length)
                return t;
            for (var n = 0; n < e.length; n++) {
                var r = e[n];
                n !== e.length - 1 && r.fetchStart === e[n + 1].fetchStart || t.push({
                    fetchStart: r.fetchStart,
                    responseEnd: r.responseStart || r.responseEnd
                })
            }
            return t
        }
        function h(e, t) {
            var n;
            "undefined" != typeof JSON && (n = g(e, t)) && (BOOMR.info("Client supports Resource Timing API", "resource_timing"),
            B(n))
        }
        function B(e) {
            BOOMR.addVar("resource_timing", JSON.stringify(e.resource_timing), !0)
        }
    }(),
    function() {
        BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {};
        var e = {
            setShopifyIdentifiers: function() {
                var t = BOOMR.window && BOOMR.window.ShopifyAnalytics && BOOMR.window.ShopifyAnalytics.lib && BOOMR.window.ShopifyAnalytics.lib.trekkie && BOOMR.window.ShopifyAnalytics.lib.trekkie.defaultAttributes && BOOMR.window.ShopifyAnalytics.lib.trekkie.defaultAttributes.visitToken;
                if (t && BOOMR.addVar("session_token", t),
                BOOMR.themeId && BOOMR.shopId)
                    BOOMR.addVar("theme_id", BOOMR.themeId.toString()),
                    BOOMR.addVar("shop_id", BOOMR.shopId.toString()),
                    BOOMR.application && BOOMR.addVar("application", BOOMR.application.toString()),
                    BOOMR.themeName && BOOMR.themeVersion && (BOOMR.addVar("theme_name", BOOMR.themeName.toString()),
                    BOOMR.addVar("theme_version", BOOMR.themeVersion.toString())),
                    BOOMR.renderRegion && BOOMR.addVar("render_region", BOOMR.renderRegion.toString());
                else {
                    var n = {
                        shopId: "shop_id",
                        themeId: "theme_id",
                        application: "application",
                        themeName: "theme_name",
                        themeVersion: "theme_version",
                        renderRegion: "render_region"
                    }
                      , r = BOOMR.url;
                    for (var i in n)
                        BOOMR.addVar(n[i], e.getUrlParameterValue(i, r))
                }
            },
            getUrlParameterValue: function(e, t) {
                e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                var n = new RegExp("[\\?&]" + e + "=([^&#]*)").exec(t);
                return null === n ? "" : decodeURIComponent(n[1].replace(/\+/g, " "))
            }
        };
        BOOMR.plugins.ShopifyIdentifiers = {
            init: function() {
                return e.setShopifyIdentifiers(),
                this
            },
            is_complete: function() {
                return !0
            }
        }
    }(),
    n = (new Date).getTime(),
    function() {
        if (BOOMR = window.BOOMR || {},
        BOOMR.plugins = BOOMR.plugins || {},
        !BOOMR.plugins.MonorailProducer) {
            var e = {
                initialized: !1,
                producer_url: "/.well-known/shopify/monorail/v1/produce",
                onBeacon: function(t) {
                    BOOMR.window || window;
                    var r, i = {
                        schema_id: "boomerang_real_user_measurement_audit/7.1",
                        payload: t,
                        metadata: {
                            event_created_at_ms: n,
                            event_sent_at_ms: (new Date).getTime()
                        }
                    };
                    if (window && window.navigator && "function" == typeof window.navigator.sendBeacon && BOOMR.utils.isNative(window.navigator.sendBeacon) && "function" == typeof window.Blob && (!(r = window.navigator.userAgent) || -1 === r.lastIndexOf("iPhone; CPU iPhone OS 12_") && -1 === r.lastIndexOf("iPad; CPU OS 12_"))) {
                        var o = new window.Blob([JSON.stringify(i)],{
                            type: "text/plain"
                        });
                        try {
                            if (window.navigator.sendBeacon(e.producer_url, o))
                                return !0
                        } catch (e) {}
                    }
                    var a = new XMLHttpRequest;
                    try {
                        e.sendXhrPostBeacon(a, i)
                    } catch (t) {
                        a = new BOOMR.boomerang_frame.XMLHttpRequest,
                        e.sendXhrPostBeacon(a, i)
                    }
                },
                sendXhrPostBeacon: function(t, n) {
                    t.open("POST", e.producer_url),
                    t.setRequestHeader("Content-type", "text/plain"),
                    t.send(JSON.stringify(n))
                }
            };
            BOOMR.plugins.MonorailProducer = {
                init: function() {
                    return e.initialized || (BOOMR.subscribe("before_beacon", e.onBeacon, null, e),
                    BOOMR.subscribe("config", (function(t) {
                        t.producer_url && (e.producer_url = t.producer_url)
                    }
                    )),
                    e.initialized = !0),
                    this
                },
                is_complete: function() {
                    return !0
                }
            }
        }
    }(),
    BOOMR.t_end = (new Date).getTime()
}
)();

/*
@license
  Motion by Archetype Themes (https://archetypethemes.co)
  Access unminified JS in assets/theme.js

  Use this event listener to run your own JS outside of this file.
  Documentation - https://archetypethemes.co/blogs/motion/javascript-events-for-developers

  document.addEventListener('page:loaded', function() {
    // Page has loaded and theme assets are ready
  });
*/

window.theme = window.theme || {};
window.Shopify = window.Shopify || {};

theme.config = {
  bpSmall: false,
  bpSmallValue: 589,
  hasSessionStorage: true,
  mediaQuerySmall: 'screen and (max-width: 589px)',
  youTubeReady: false,
  vimeoReady: false,
  vimeoLoading: false,
  isTouch: ('ontouchstart' in window) || window.DocumentTouch && window.document instanceof DocumentTouch || window.navigator.maxTouchPoints || window.navigator.msMaxTouchPoints ? true : false,
  rtl: document.documentElement.getAttribute('dir') == 'rtl' ? true : false
};

if (theme.config.isTouch) {
  document.documentElement.className += ' supports-touch';
}

if (console && console.log) {
  console.log('Motion theme ('+theme.settings.themeVersion+') by ARCHTYPE | Learn more at https://archetypethemes.co');
}

window.lazySizesConfig = window.lazySizesConfig || {};
lazySizesConfig.expFactor = 2.2;

(function(){
  'use strict';

  theme.delegate = {
    on: function(event, callback, options){
      if( !this.namespaces ) // save the namespaces on the DOM element itself
        this.namespaces = {};
  
      this.namespaces[event] = callback;
      options = options || false;
  
      this.addEventListener(event.split('.')[0], callback, options);
      return this;
    },
    off: function(event) {
      if (!this.namespaces) { return }
      this.removeEventListener(event.split('.')[0], this.namespaces[event]);
      delete this.namespaces[event];
      return this;
    }
  };
  
  // Extend the DOM with these above custom methods
  window.on = Element.prototype.on = theme.delegate.on;
  window.off = Element.prototype.off = theme.delegate.off;
  
  theme.utils = {
    defaultTo: function(value, defaultValue) {
      return (value == null || value !== value) ? defaultValue : value
    },
  
    wrap: function(el, wrapper) {
      el.parentNode.insertBefore(wrapper, el);
      wrapper.appendChild(el);
    },
  
    debounce: function(wait, callback, immediate) {
      var timeout;
      return function() {
        var context = this, args = arguments;
        var later = function() {
          timeout = null;
          if (!immediate) callback.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) callback.apply(context, args);
      }
    },
  
    throttle: function(limit, callback) {
      var waiting = false;
      return function () {
        if (!waiting) {
          callback.apply(this, arguments);
          waiting = true;
          setTimeout(function () {
            waiting = false;
          }, limit);
        }
      }
    },
  
    prepareTransition: function(el, callback) {
      el.addEventListener('transitionend', removeClass);
  
      function removeClass(evt) {
        el.classList.remove('is-transitioning');
        el.removeEventListener('transitionend', removeClass);
      }
  
      el.classList.add('is-transitioning');
      el.offsetWidth; // check offsetWidth to force the style rendering
  
      if (typeof callback === 'function') {
        callback();
      }
    },
  
    // _.compact from lodash
    // Creates an array with all falsey values removed. The values `false`, `null`,
    // `0`, `""`, `undefined`, and `NaN` are falsey.
    // _.compact([0, 1, false, 2, '', 3]);
    // => [1, 2, 3]
    compact: function(array) {
      var index = -1,
          length = array == null ? 0 : array.length,
          resIndex = 0,
          result = [];
  
      while (++index < length) {
        var value = array[index];
        if (value) {
          result[resIndex++] = value;
        }
      }
      return result;
    },
  
    serialize: function(form) {
      var arr = [];
      Array.prototype.slice.call(form.elements).forEach(function(field) {
        if (
          !field.name ||
          field.disabled ||
          ['file', 'reset', 'submit', 'button'].indexOf(field.type) > -1
        )
          return;
        if (field.type === 'select-multiple') {
          Array.prototype.slice.call(field.options).forEach(function(option) {
            if (!option.selected) return;
            arr.push(
              encodeURIComponent(field.name) +
                '=' +
                encodeURIComponent(option.value)
            );
          });
          return;
        }
        if (['checkbox', 'radio'].indexOf(field.type) > -1 && !field.checked)
          return;
        arr.push(
          encodeURIComponent(field.name) + '=' + encodeURIComponent(field.value)
        );
      });
      return arr.join('&');
    }
  };
  
  theme.a11y = {
    trapFocus: function(options) {
      var eventsName = {
        focusin: options.namespace ? 'focusin.' + options.namespace : 'focusin',
        focusout: options.namespace
          ? 'focusout.' + options.namespace
          : 'focusout',
        keydown: options.namespace
          ? 'keydown.' + options.namespace
          : 'keydown.handleFocus'
      };
  
      // Get every possible visible focusable element
      var focusableEls = options.container.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex^="-"])');
      var elArray = [].slice.call(focusableEls);
      var focusableElements = elArray.filter(el => el.offsetParent !== null);
  
      var firstFocusable = focusableElements[0];
      var lastFocusable = focusableElements[focusableElements.length - 1];
  
      if (!options.elementToFocus) {
        options.elementToFocus = options.container;
      }
  
      options.container.setAttribute('tabindex', '-1');
      options.elementToFocus.focus();
  
      document.documentElement.off('focusin');
      document.documentElement.on(eventsName.focusout, function() {
        document.documentElement.off(eventsName.keydown);
      });
  
      document.documentElement.on(eventsName.focusin, function(evt) {
        if (evt.target !== lastFocusable && evt.target !== firstFocusable) return;
  
        document.documentElement.on(eventsName.keydown, function(evt) {
          _manageFocus(evt);
        });
      });
  
      function _manageFocus(evt) {
        if (evt.keyCode !== 9) return;
        /**
         * On the first focusable element and tab backward,
         * focus the last element
         */
        if (evt.target === firstFocusable && evt.shiftKey) {
          evt.preventDefault();
          lastFocusable.focus();
        }
      }
    },
    removeTrapFocus: function(options) {
      var eventName = options.namespace
        ? 'focusin.' + options.namespace
        : 'focusin';
  
      if (options.container) {
        options.container.removeAttribute('tabindex');
      }
  
      document.documentElement.off(eventName);
    },
  
    lockMobileScrolling: function(namespace, element) {
      var el = element ? element : document.documentElement;
      document.documentElement.classList.add('lock-scroll');
      el.on('touchmove' + namespace, function() {
        return true;
      });
    },
  
    unlockMobileScrolling: function(namespace, element) {
      document.documentElement.classList.remove('lock-scroll');
      var el = element ? element : document.documentElement;
      el.off('touchmove' + namespace);
    }
  };
  
  // Add class when tab key starts being used to show outlines
  document.documentElement.on('keyup.tab', function(evt) {
    if (evt.keyCode === 9) {
      document.documentElement.classList.add('tab-outline');
      document.documentElement.off('keyup.tab');
    }
  });
  
  /**
   * Currency Helpers
   * -----------------------------------------------------------------------------
   * A collection of useful functions that help with currency formatting
   *
   * Current contents
   * - formatMoney - Takes an amount in cents and returns it as a formatted dollar value.
   *   - When theme.settings.superScriptPrice is enabled, format cents in <sup> tag
   * - getBaseUnit - Splits unit price apart to get value + unit
   *
   */
  
  theme.Currency = (function() {
    var moneyFormat = '${{amount}}';
    var superScript = theme && theme.settings && theme.settings.superScriptPrice;
  
    function formatMoney(cents, format) {
      if (!format) {
        format = theme.settings.moneyFormat;
      }
  
      if (typeof cents === 'string') {
        cents = cents.replace('.', '');
      }
      var value = '';
      var placeholderRegex = /\{\{\s*(\w+)\s*\}\}/;
      var formatString = (format || moneyFormat);
  
      function formatWithDelimiters(number, precision, thousands, decimal) {
        precision = theme.utils.defaultTo(precision, 2);
        thousands = theme.utils.defaultTo(thousands, ',');
        decimal = theme.utils.defaultTo(decimal, '.');
  
        if (isNaN(number) || number == null) {
          return 0;
        }
  
        number = (number / 100.0).toFixed(precision);
  
        var parts = number.split('.');
        var dollarsAmount = parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g, '$1' + thousands);
        var centsAmount = parts[1] ? (decimal + parts[1]) : '';
  
        return dollarsAmount + centsAmount;
      }
  
      switch (formatString.match(placeholderRegex)[1]) {
        case 'amount':
          value = formatWithDelimiters(cents, 2);
  
          if (superScript && value && value.includes('.')) {
            value = value.replace('.', '<sup>') + '</sup>';
          }
  
          break;
        case 'amount_no_decimals':
          value = formatWithDelimiters(cents, 0);
          break;
        case 'amount_with_comma_separator':
          value = formatWithDelimiters(cents, 2, '.', ',');
  
          if (superScript && value && value.includes('.')) {
            value = value.replace(',', '<sup>') + '</sup>';
          }
  
          break;
        case 'amount_no_decimals_with_comma_separator':
          value = formatWithDelimiters(cents, 0, '.', ',');
          break;
        case 'amount_no_decimals_with_space_separator':
          value = formatWithDelimiters(cents, 0, ' ');
          break;
      }
  
      return formatString.replace(placeholderRegex, value);
    }
  
    function getBaseUnit(variant) {
      if (!variant) {
        return;
      }
  
      if (!variant.unit_price_measurement || !variant.unit_price_measurement.reference_value) {
        return;
      }
  
      return variant.unit_price_measurement.reference_value === 1
        ? variant.unit_price_measurement.reference_unit
        : variant.unit_price_measurement.reference_value +
            variant.unit_price_measurement.reference_unit;
    }
  
    return {
      formatMoney: formatMoney,
      getBaseUnit: getBaseUnit
    }
  })();
  
  theme.Images = (function() {
  
    /**
     * Find the Shopify image attribute size
     */
    function imageSize(src) {
      if (!src) {
        return '620x'; // default based on theme
      }
  
      var match = src.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/);
  
      if (match !== null) {
        return match[1];
      } else {
        return null;
      }
    }
  
    /**
     * Adds a Shopify size attribute to a URL
     */
    function getSizedImageUrl(src, size) {
      if (!src) {
        return src;
      }
  
      if (size == null) {
        return src;
      }
  
      if (size === 'master') {
        return this.removeProtocol(src);
      }
  
      var match = src.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);
  
      if (match != null) {
        var prefix = src.split(match[0]);
        var suffix = match[0];
  
        return this.removeProtocol(prefix[0] + '_' + size + suffix);
      }
  
      return null;
    }
  
    function removeProtocol(path) {
      return path.replace(/http(s)?:/, '');
    }
  
    function lazyloadImagePath(string) {
      var image;
  
      if (string !== null) {
        image = string.replace(/(\.[^.]*)$/, "_{width}x$1");
      }
  
      return image;
    }
  
    return {
      imageSize: imageSize,
      getSizedImageUrl: getSizedImageUrl,
      removeProtocol: removeProtocol,
      lazyloadImagePath: lazyloadImagePath
    };
  })();
  
  theme.loadImageSection = function(container) {
    // Wait until images inside container have lazyloaded class
    function setAsLoaded() {
      container.classList.remove('loading', 'loading--delayed');
      container.classList.add('loaded');
    }
  
    function checkForLazyloadedImage() {
      return container.querySelector('.lazyloaded');
    }
  
    // If it has SVGs it's in the onboarding state so set as loaded
    if (container.querySelector('svg')) {
      setAsLoaded();
      return;
    };
  
    if (checkForLazyloadedImage()) {
      setAsLoaded();
      return;
    }
  
    var interval = setInterval(function() {
      if (checkForLazyloadedImage()) {
        clearInterval(interval);
        setAsLoaded();
      }
    }, 25);
  };
  
  // Init section function when it's visible, then disable observer
  theme.initWhenVisible = function(options) {
    var threshold = options.threshold ? options.threshold : 0;
  
    var observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          if (typeof options.callback === 'function') {
            options.callback();
            observer.unobserve(entry.target);
          }
        }
      });
    }, {rootMargin: '0px 0px '+ threshold +'px 0px'});
  
    observer.observe(options.element);
  };
  
  theme.LibraryLoader = (function() {
    var types = {
      link: 'link',
      script: 'script'
    };
  
    var status = {
      requested: 'requested',
      loaded: 'loaded'
    };
  
    var cloudCdn = 'https://cdn.shopify.com/shopifycloud/';
  
    var libraries = {
      youtubeSdk: {
        tagId: 'youtube-sdk',
        src: 'https://www.youtube.com/iframe_api',
        type: types.script
      },
      vimeo: {
        tagId: 'vimeo-api',
        src: 'https://player.vimeo.com/api/player.js',
        type: types.script
      },
      shopifyXr: {
        tagId: 'shopify-model-viewer-xr',
        src: cloudCdn + 'shopify-xr-js/assets/v1.0/shopify-xr.en.js',
        type: types.script
      },
      modelViewerUi: {
        tagId: 'shopify-model-viewer-ui',
        src: cloudCdn + 'model-viewer-ui/assets/v1.0/model-viewer-ui.en.js',
        type: types.script
      },
      modelViewerUiStyles: {
        tagId: 'shopify-model-viewer-ui-styles',
        src: cloudCdn + 'model-viewer-ui/assets/v1.0/model-viewer-ui.css',
        type: types.link
      }
    };
  
    function load(libraryName, callback) {
      var library = libraries[libraryName];
  
      if (!library) return;
      if (library.status === status.requested) return;
  
      callback = callback || function() {};
      if (library.status === status.loaded) {
        callback();
        return;
      }
  
      library.status = status.requested;
  
      var tag;
  
      switch (library.type) {
        case types.script:
          tag = createScriptTag(library, callback);
          break;
        case types.link:
          tag = createLinkTag(library, callback);
          break;
      }
  
      tag.id = library.tagId;
      library.element = tag;
  
      var firstScriptTag = document.getElementsByTagName(library.type)[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    }
  
    function createScriptTag(library, callback) {
      var tag = document.createElement('script');
      tag.src = library.src;
      tag.addEventListener('load', function() {
        library.status = status.loaded;
        callback();
      });
      return tag;
    }
  
    function createLinkTag(library, callback) {
      var tag = document.createElement('link');
      tag.href = library.src;
      tag.rel = 'stylesheet';
      tag.type = 'text/css';
      tag.addEventListener('load', function() {
        library.status = status.loaded;
        callback();
      });
      return tag;
    }
  
    return {
      load: load
    };
  })();
  
  theme.rteInit = function() {
    // Wrap tables so they become scrollable on small screens
    document.querySelectorAll('.rte table').forEach(table => {
      var wrapWith = document.createElement('div');
      wrapWith.classList.add('table-wrapper');
      theme.utils.wrap(table, wrapWith);
    });
  
    // Wrap video iframe embeds so they are responsive
    document.querySelectorAll('.rte iframe[src*="youtube.com/embed"]').forEach(iframe => {
      wrapVideo(iframe);
    });
    document.querySelectorAll('.rte iframe[src*="player.vimeo"]').forEach(iframe => {
      wrapVideo(iframe);
    });
  
    function wrapVideo(iframe) {
      // Reset the src attribute on each iframe after page load
      // for Chrome's "incorrect iFrame content on 'back'" bug.
      // https://code.google.com/p/chromium/issues/detail?id=395791
      iframe.src = iframe.src;
      var wrapWith = document.createElement('div');
      wrapWith.classList.add('video-wrapper');
      theme.utils.wrap(iframe, wrapWith);
    }
  
    // Remove CSS that adds animated underline under image links
    document.querySelectorAll('.rte a img').forEach(img => {
      img.parentNode.classList.add('rte__image');
    });
  }
  
  theme.Sections = function Sections() {
    this.constructors = {};
    this.instances = [];
  
    document.addEventListener('shopify:section:load', this._onSectionLoad.bind(this));
    document.addEventListener('shopify:section:unload', this._onSectionUnload.bind(this));
    document.addEventListener('shopify:section:select', this._onSelect.bind(this));
    document.addEventListener('shopify:section:deselect', this._onDeselect.bind(this));
    document.addEventListener('shopify:block:select', this._onBlockSelect.bind(this));
    document.addEventListener('shopify:block:deselect', this._onBlockDeselect.bind(this));
  };
  
  theme.Sections.prototype = Object.assign({}, theme.Sections.prototype, {
    _createInstance: function(container, constructor, scope) {
      var id = container.getAttribute('data-section-id');
      var type = container.getAttribute('data-section-type');
  
      constructor = constructor || this.constructors[type];
  
      if (typeof constructor === 'undefined') {
        return;
      }
  
      // If custom scope passed, check to see if instance
      // is already initialized so we don't double up
      if (scope) {
        var instanceExists = this._findInstance(id);
        if (instanceExists) {
          this._removeInstance(id);
        }
      }
  
      // If a section fails to init, handle the error without letting all subsequest section registers to fail
      try {
        var instance = Object.assign(new constructor(container), {
          id: id,
          type: type,
          container: container
        });
        this.instances.push(instance);
      } catch (e) {
        console.error(e);
      }
    },
  
    _findInstance: function(id) {
      for (var i = 0; i < this.instances.length; i++) {
        if (this.instances[i].id === id) {
          return this.instances[i];
        }
      }
    },
  
    _removeInstance: function(id) {
      var i = this.instances.length;
      var instance;
  
      while(i--) {
        if (this.instances[i].id === id) {
          instance = this.instances[i];
          this.instances.splice(i, 1);
          break;
        }
      }
  
      return instance;
    },
  
    _onSectionLoad: function(evt, subSection, subSectionId) {
      if (window.AOS) { AOS.refreshHard() }
      if (theme && theme.initGlobals) {
        theme.initGlobals();
      }
  
      var container = subSection ? subSection : evt.target;
      var section = subSection ? subSection : evt.target.querySelector('[data-section-id]');
  
      if (!section) {
        return;
      }
  
      this._createInstance(section);
  
      var instance = subSection ? subSectionId : this._findInstance(evt.detail.sectionId);
  
      // Check if we have subsections to load
      var haveSubSections = container.querySelectorAll('[data-subsection]');
      if (haveSubSections.length) {
        this.loadSubSections(container);
      }
  
      // Run JS only in case of the section being selected in the editor
      // before merchant clicks "Add"
      if (instance && typeof instance.onLoad === 'function') {
        instance.onLoad(evt);
      }
  
      // Force editor to trigger scroll event when loading a section
      setTimeout(function() {
        window.dispatchEvent(new Event('scroll'));
      }, 200);
    },
  
    _onSectionUnload: function(evt) {
      this.instances = this.instances.filter(function(instance) {
        var isEventInstance = instance.id === evt.detail.sectionId;
  
        if (isEventInstance) {
          if (typeof instance.onUnload === 'function') {
            instance.onUnload(evt);
          }
        }
  
        return !isEventInstance;
      });
    },
  
    loadSubSections: function(scope) {
      if (!scope) {
        return;
      }
  
      var sections = scope.querySelectorAll('[data-section-id]');
  
      sections.forEach(el => {
        this._onSectionLoad(null, el, el.dataset.sectionId);
      });
    },
  
    _onSelect: function(evt) {
      var instance = this._findInstance(evt.detail.sectionId);
  
      if (
        typeof instance !== 'undefined' &&
        typeof instance.onSelect === 'function'
      ) {
        instance.onSelect(evt);
      }
    },
  
    _onDeselect: function(evt) {
      var instance = this._findInstance(evt.detail.sectionId);
  
      if (
        typeof instance !== 'undefined' &&
        typeof instance.onDeselect === 'function'
      ) {
        instance.onDeselect(evt);
      }
    },
  
    _onBlockSelect: function(evt) {
      var instance = this._findInstance(evt.detail.sectionId);
  
      if (
        typeof instance !== 'undefined' &&
        typeof instance.onBlockSelect === 'function'
      ) {
        instance.onBlockSelect(evt);
      }
    },
  
    _onBlockDeselect: function(evt) {
      var instance = this._findInstance(evt.detail.sectionId);
  
      if (
        typeof instance !== 'undefined' &&
        typeof instance.onBlockDeselect === 'function'
      ) {
        instance.onBlockDeselect(evt);
      }
    },
  
    register: function(type, constructor, scope) {
      this.constructors[type] = constructor;
  
      var sections = document.querySelectorAll('[data-section-type="' + type + '"]');
  
      if (scope) {
        sections = scope.querySelectorAll('[data-section-type="' + type + '"]');
      }
  
      sections.forEach(
        function(container) {
          this._createInstance(container, constructor, scope);
        }.bind(this)
      );
    },
  
    reinit: function(section) {
      for (var i = 0; i < this.instances.length; i++) {
        var instance = this.instances[i];
        if (instance['type'] === section) {
          if (typeof instance.forceReload === 'function') {
            instance.forceReload();
          }
        }
      }
    }
  });
  
  theme.Variants = (function() {
  
    function Variants(options) {
      this.container = options.container;
      this.variants = options.variants;
      this.singleOptionSelector = options.singleOptionSelector;
      this.originalSelectorId = options.originalSelectorId;
      this.enableHistoryState = options.enableHistoryState;
      this.currentVariant = this._getVariantFromOptions();
  
      this.container.querySelectorAll(this.singleOptionSelector).forEach(el => {
        el.addEventListener('change', this._onSelectChange.bind(this));
      });
    }
  
    Variants.prototype = Object.assign({}, Variants.prototype, {
  
      _getCurrentOptions: function() {
        var result = [];
  
        this.container.querySelectorAll(this.singleOptionSelector).forEach(el => {
          var type = el.getAttribute('type');
  
          if (type === 'radio' || type === 'checkbox') {
            if (el.checked) {
              result.push({
                value: el.value,
                index: el.dataset.index
              });
            }
          } else {
            result.push({
              value: el.value,
              index: el.dataset.index
            });
          }
        });
  
        // remove any unchecked input values if using radio buttons or checkboxes
        result = theme.utils.compact(result);
  
        return result;
      },
  
      _getVariantFromOptions: function() {
        var selectedValues = this._getCurrentOptions();
        var variants = this.variants;
        var found = false;
  
        variants.forEach(function(variant) {
          var match = true;
          var options = variant.options;
  
          selectedValues.forEach(function(option) {
            if (match) {
              match = (variant[option.index] === option.value);
            }
          });
  
          if (match) {
            found = variant;
          }
        });
  
        return found || null;
      },
  
      _onSelectChange: function() {
        var variant = this._getVariantFromOptions();
  
        this.container.dispatchEvent(new CustomEvent('variantChange', {
          detail: {
            variant: variant
          }
        }));
  
        document.dispatchEvent(new CustomEvent('variant:change', {
          detail: {
            variant: variant
          }
        }));
  
        if (!variant) {
          return;
        }
  
        this._updateMasterSelect(variant);
        this._updateImages(variant);
        this._updatePrice(variant);
        this._updateUnitPrice(variant);
        this._updateSKU(variant);
        this.currentVariant = variant;
  
        if (this.enableHistoryState) {
          this._updateHistoryState(variant);
        }
      },
  
      _updateImages: function(variant) {
        var variantImage = variant.featured_image || {};
        var currentVariantImage = this.currentVariant.featured_image || {};
  
        if (!variant.featured_image || variantImage.src === currentVariantImage.src) {
          return;
        }
  
        this.container.dispatchEvent(new CustomEvent('variantImageChange', {
          detail: {
            variant: variant
          }
        }));
      },
  
      _updatePrice: function(variant) {
        if (variant.price === this.currentVariant.price && variant.compare_at_price === this.currentVariant.compare_at_price) {
          return;
        }
  
        this.container.dispatchEvent(new CustomEvent('variantPriceChange', {
          detail: {
            variant: variant
          }
        }));
      },
  
      _updateUnitPrice: function(variant) {
        if (variant.unit_price === this.currentVariant.unit_price) {
          return;
        }
  
        this.container.dispatchEvent(new CustomEvent('variantUnitPriceChange', {
          detail: {
            variant: variant
          }
        }));
      },
  
      _updateSKU: function(variant) {
        if (variant.sku === this.currentVariant.sku) {
          return;
        }
  
        this.container.dispatchEvent(new CustomEvent('variantSKUChange', {
          detail: {
            variant: variant
          }
        }));
      },
  
      _updateHistoryState: function(variant) {
        if (!history.replaceState || !variant) {
          return;
        }
  
        var newurl = window.location.protocol + '//' + window.location.host + window.location.pathname + '?variant=' + variant.id;
        window.history.replaceState({path: newurl}, '', newurl);
      },
  
      _updateMasterSelect: function(variant) {
        this.container.querySelector(this.originalSelectorId).value = variant.id;
        // Force a change event so Shop Pay installments works after a variant is changed
        this.container.querySelector(this.originalSelectorId).dispatchEvent(new Event('change', { bubbles: true }));
      }
    });
  
    return Variants;
  })();
  
  window.vimeoApiReady = function() {
    theme.config.vimeoLoading = true;
  
    // Because there's no way to check for the Vimeo API being loaded
    // asynchronously, we use this terrible timeout to wait for it being ready
    checkIfVimeoIsReady()
      .then(function() {
        theme.config.vimeoReady = true;
        theme.config.vimeoLoading = false;
        document.dispatchEvent(new CustomEvent('vimeoReady'));
      });
  }
  
  function checkIfVimeoIsReady() {
    var wait;
    var timeout;
  
    var deferred = new Promise((resolve, reject) => {
      wait = setInterval(function() {
        if (!Vimeo) {
          return;
        }
  
        clearInterval(wait);
        clearTimeout(timeout);
        resolve();
      }, 500);
  
      timeout = setTimeout(function() {
        clearInterval(wait);
        reject();
      }, 4000); // subjective. test up to 8 times over 4 seconds
    });
  
    return deferred;
  }
  
  theme.VimeoPlayer = (function() {
    var classes = {
      loading: 'loading',
      loaded: 'loaded',
      interactable: 'video-interactable'
    }
  
    var defaults = {
      background: true,
      byline: false,
      controls: false,
      loop: true,
      muted: true,
      playsinline: true,
      portrait: false,
      title: false
    };
  
    function VimeoPlayer(divId, videoId, options) {
      this.divId = divId;
      this.el = document.getElementById(divId);
      this.videoId = videoId;
      this.iframe = null;
      this.options = options;
  
      if (this.options && this.options.videoParent) {
        this.parent = this.el.closest(this.options.videoParent);
      }
  
      this.setAsLoading();
  
      if (theme.config.vimeoReady) {
        this.init();
      } else {
        theme.LibraryLoader.load('vimeo', window.vimeoApiReady);
        document.addEventListener('vimeoReady', this.init.bind(this));
      }
    }
  
    VimeoPlayer.prototype = Object.assign({}, VimeoPlayer.prototype, {
      init: function() {
        var args = defaults;
        args.id = this.videoId;
  
        this.videoPlayer = new Vimeo.Player(this.el, args);
  
        this.videoPlayer.ready().then(this.playerReady.bind(this));
      },
  
      playerReady: function() {
        this.iframe = this.el.querySelector('iframe');
        this.iframe.setAttribute('tabindex', '-1');
  
        this.videoPlayer.setMuted(true);
  
        this.setAsLoaded();
  
        // pause when out of view
        var observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              this.play();
            } else {
              this.pause();
            }
          });
        }, {rootMargin: '0px 0px 50px 0px'});
  
        observer.observe(this.iframe);
      },
  
      setAsLoading: function() {
        if (!this.parent) return;
        this.parent.classList.add(classes.loading);
      },
  
      setAsLoaded: function() {
        if (!this.parent) return;
        this.parent.classList.remove(classes.loading);
        this.parent.classList.add(classes.loaded);
        if (Shopify && Shopify.designMode) {
          if (window.AOS) {AOS.refreshHard()}
        }
      },
  
      enableInteraction: function() {
        if (!this.parent) return;
        this.parent.classList.add(classes.interactable);
      },
  
      play: function() {
        if (this.videoPlayer && typeof this.videoPlayer.play === 'function') {
          this.videoPlayer.play();
        }
      },
  
      pause: function() {
        if (this.videoPlayer && typeof this.videoPlayer.pause === 'function') {
          this.videoPlayer.pause();
        }
      },
  
      destroy: function() {
        if (this.videoPlayer && typeof this.videoPlayer.destroy === 'function') {
          this.videoPlayer.destroy();
        }
      }
    });
  
    return VimeoPlayer;
  })();
  
  window.onYouTubeIframeAPIReady = function() {
    theme.config.youTubeReady = true;
    document.dispatchEvent(new CustomEvent('youTubeReady'));
  }
  
  /*============================================================================
    YouTube SDK method
    Parameters:
      - player div id (required)
      - arguments
        - videoId (required)
        - videoParent (selector, optional for section loading state)
        - events (object, optional)
  ==============================================================================*/
  theme.YouTube = (function() {
    var classes = {
      loading: 'loading',
      loaded: 'loaded',
      interactable: 'video-interactable'
    }
  
    var defaults = {
      width: 1280,
      height: 720,
      playerVars: {
        autohide: 0,
        autoplay: 1,
        cc_load_policy: 0,
        controls: 0,
        fs: 0,
        iv_load_policy: 3,
        modestbranding: 1,
        playsinline: 1,
        rel: 0
      }
    };
  
    function YouTube(divId, options) {
      this.divId = divId;
      this.iframe = null;
  
      this.attemptedToPlay = false;
  
      // API callback events
      defaults.events = {
        onReady: this.onVideoPlayerReady.bind(this),
        onStateChange: this.onVideoStateChange.bind(this)
      };
  
      this.options = Object.assign({}, defaults, options);
  
      if (this.options) {
        if (this.options.videoParent) {
          this.parent = document.getElementById(this.divId).closest(this.options.videoParent);
        }
  
        // Most YT videos will autoplay. If in product media,
        // will handle in theme.Product instead
        if (!this.options.autoplay) {
          this.options.playerVars.autoplay = this.options.autoplay;
        }
  
        if (this.options.style === 'sound') {
          this.options.playerVars.controls = 1;
          this.options.playerVars.autoplay = 0;
        }
  
      }
  
      this.setAsLoading();
  
      if (theme.config.youTubeReady) {
        this.init();
      } else {
        theme.LibraryLoader.load('youtubeSdk');
        document.addEventListener('youTubeReady', this.init.bind(this));
      }
    }
  
    YouTube.prototype = Object.assign({}, YouTube.prototype, {
      init: function() {
        this.videoPlayer = new YT.Player(this.divId, this.options);
      },
  
      onVideoPlayerReady: function(evt) {
        this.iframe = document.getElementById(this.divId); // iframe once YT loads
        this.iframe.setAttribute('tabindex', '-1');
  
        if (this.options.style !== 'sound') {
          evt.target.mute();
        }
  
        // pause when out of view
        var observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              this.play();
            } else {
              this.pause();
            }
          });
        }, {rootMargin: '0px 0px 50px 0px'});
  
        observer.observe(this.iframe);
      },
  
      onVideoStateChange: function(evt) {
        switch (evt.data) {
          case -1: // unstarted
            // Handle low power state on iOS by checking if
            // video is reset to unplayed after attempting to buffer
            if (this.attemptedToPlay) {
              this.setAsLoaded();
              this.enableInteraction();
            }
            break;
          case 0: // ended, loop it
            this.play(evt);
            break;
          case 1: // playing
            this.setAsLoaded();
            break;
          case 3: // buffering
            this.attemptedToPlay = true;
            break;
        }
      },
  
      setAsLoading: function() {
        if (!this.parent) return;
        this.parent.classList.add(classes.loading);
      },
  
      setAsLoaded: function() {
        if (!this.parent) return;
        this.parent.classList.remove(classes.loading);
        this.parent.classList.add(classes.loaded);
        if (Shopify && Shopify.designMode) {
          if (window.AOS) {AOS.refreshHard()}
        }
      },
  
      enableInteraction: function() {
        if (!this.parent) return;
        this.parent.classList.add(classes.interactable);
      },
  
      play: function() {
        if (this.videoPlayer && typeof this.videoPlayer.playVideo === 'function') {
          this.videoPlayer.playVideo();
        }
      },
  
      pause: function() {
        if (this.videoPlayer && typeof this.videoPlayer.pauseVideo === 'function') {
          this.videoPlayer.pauseVideo();
        }
      },
  
      destroy: function() {
        if (this.videoPlayer && typeof this.videoPlayer.destroy === 'function') {
          this.videoPlayer.destroy();
        }
      }
    });
  
    return YouTube;
  })();
  
  // Prevent vertical scroll while using flickity sliders
  (function() {
    var e = !1;
    var t;
  
    document.body.addEventListener('touchstart', function(i) {
      if (!i.target.closest('.flickity-slider')) {
        return e = !1;
        void 0;
      }
      e = !0;
      t = {
        x: i.touches[0].pageX,
        y: i.touches[0].pageY
      }
    })
  
    document.body.addEventListener('touchmove', function(i) {
      if (e && i.cancelable) {
        var n = {
          x: i.touches[0].pageX - t.x,
          y: i.touches[0].pageY - t.y
        };
        Math.abs(n.x) > Flickity.defaults.dragThreshold && i.preventDefault()
      }
    }, { passive: !1 })
  })();
  

  /**
   * Ajax Renderer
   * -----------------------------------------------------------------------------
   * Render sections without reloading the page.
   * @param {Object[]} sections - The section to update on render.
   * @param {string} sections[].sectionId - The ID of the section from Shopify.
   * @param {string} sections[].nodeId - The ID of the DOM node to replace.
   * @param {Function} sections[].onReplace (optional) - The custom render function.
   * @param {string[]} preserveParams - The param name to preserve in the URL.
   * @param {boolean} debug - Output logs to console for debugging.
   *
   */
  
  theme.AjaxRenderer = (function () {
    function AjaxRenderer({ sections, preserveParams, onReplace, debug } = {}) {
      this.sections = sections || [];
      this.preserveParams = preserveParams || [];
      this.cachedSections = [];
      this.onReplace = onReplace;
      this.debug = Boolean(debug);
    }
  
    AjaxRenderer.prototype = Object.assign({}, AjaxRenderer.prototype, {
      renderPage: function (basePath, searchParams, updateURLHash = true) {
        if (searchParams) this.appendPreservedParams(searchParams);
  
        const sectionRenders = this.sections.map(section => {
          const url = `${basePath}?section_id=${section.sectionId}&${searchParams}`;
          const cachedSectionUrl = cachedSection => cachedSection.url === url;
  
          return this.cachedSections.some(cachedSectionUrl)
            ? this.renderSectionFromCache(cachedSectionUrl, section)
            : this.renderSectionFromFetch(url, section);
        });
  
        if (updateURLHash) this.updateURLHash(searchParams);
  
        return Promise.all(sectionRenders);
      },
  
      renderSectionFromCache: function (url, section) {
        const cachedSection = this.cachedSections.find(url);
  
        this.log(`[AjaxRenderer] rendering from cache: url=${cachedSection.url}`);
        this.renderSection(cachedSection.html, section);
        return Promise.resolve(section);
      },
  
      renderSectionFromFetch: function (url, section) {
        this.log(`[AjaxRenderer] redering from fetch: url=${url}`);
  
        return new Promise((resolve, reject) => {
          fetch(url)
            .then(response => response.text())
            .then(responseText => {
              const html = responseText;
              this.cachedSections = [...this.cachedSections, { html, url }];
              this.renderSection(html, section);
              resolve(section);
            })
            .catch(err => reject(err));
        });
      },
  
      renderSection: function (html, section) {
        this.log(
          `[AjaxRenderer] rendering section: section=${JSON.stringify(section)}`,
        );
  
        const newDom = new DOMParser().parseFromString(html, 'text/html');
        if (this.onReplace) {
          this.onReplace(newDom, section);
        } else {
          if (typeof section.nodeId === 'string') {
            var newContentEl = newDom.getElementById(section.nodeId);
            if (!newContentEl) {
              return;
            }
  
            document.getElementById(section.nodeId).innerHTML =
              newContentEl.innerHTML;
          } else {
            section.nodeId.forEach(id => {
              document.getElementById(id).innerHTML =
                newDom.getElementById(id).innerHTML;
            });
          }
        }
  
        return section;
      },
  
      appendPreservedParams: function (searchParams) {
        this.preserveParams.forEach(paramName => {
          const param = new URLSearchParams(window.location.search).get(
            paramName,
          );
  
          if (param) {
            this.log(`[AjaxRenderer] Preserving ${paramName} param`);
            searchParams.append(paramName, param);
          }
        });
      },
  
      updateURLHash: function (searchParams) {
        history.pushState(
          {},
          '',
          `${window.location.pathname}${
            searchParams && '?'.concat(searchParams)
          }`,
        );
      },
  
      log: function (...args) {
        if (this.debug) {
          console.log(...args);
        }
      },
    });
  
    return AjaxRenderer;
  })();
  
  if (window.Shopify && window.Shopify.theme && navigator && navigator.sendBeacon && window.Shopify.designMode) {
    navigator.sendBeacon('https://api.archetypethemes.co/api/beacon', new URLSearchParams({
      shop: window.Shopify.shop,
      themeName: window.theme && window.theme.settings && `${window.theme.settings.themeName} v${window.theme.settings.themeVersion}`,
      role: window.Shopify.theme.role,
      route: window.location.pathname,
      themeId: window.Shopify.theme.id,
      themeStoreId: window.Shopify.theme.theme_store_id || 0,
      isThemeEditor: !!window.Shopify.designMode
    }))
  }
  theme.cart = {
    getCart: function() {
      var url = ''.concat(theme.routes.cart, '?t=').concat(Date.now());
      return fetch(url, {
        credentials: 'same-origin',
        method: 'GET'
      }).then(response => response.json());
    },
  
    getCartProductMarkup: function() {
      var url = ''.concat(theme.routes.cartPage, '?t=').concat(Date.now());
  
      url = url.indexOf('?') === -1 ? (url + '?view=ajax') : (url + '&view=ajax');
  
      return fetch(url, {
        credentials: 'same-origin',
        method: 'GET'
      })
      .then(function(response) {return response.text()});
    },
  
    changeItem: function(key, qty) {
      return this._updateCart({
        url: ''.concat(theme.routes.cartChange, '?t=').concat(Date.now()),
        data: JSON.stringify({
          id: key,
          quantity: qty
        })
      })
    },
  
    _updateCart: function(params) {
      return fetch(params.url, {
        method: 'POST',
        body: params.data,
        credentials: 'same-origin',
        headers: {
          'Content-Type': 'application/json',
          'X-Requested-With': 'XMLHttpRequest'
        }
      })
      .then(response => response.json())
      .then(function(cart) {
        return cart;
      });
    },
  
    updateAttribute: function(key, value) {
      return this._updateCart({
        url: '/cart/update.js',
        data: JSON.stringify({
          attributes: {
            [key]: theme.cart.attributeToString(value)
          }
        })
      });
    },
  
    updateNote: function(note) {
      return this._updateCart({
        url: '/cart/update.js',
        data: JSON.stringify({
          note: theme.cart.attributeToString(note)
        })
      });
    },
  
    attributeToString: function(attribute) {
      if ((typeof attribute) !== 'string') {
        attribute += '';
        if (attribute === 'undefined') {
          attribute = '';
        }
      }
      return attribute.trim();
    }
  }
  
  /*============================================================================
    CartForm
    - Prevent checkout when terms checkbox exists
    - Listen to quantity changes, rebuild cart (both widget and page)
  ==============================================================================*/
  theme.CartForm = (function() {
    var selectors = {
      products: '[data-products]',
      qtySelector: '.js-qty__wrapper',
      discounts: '[data-discounts]',
      savings: '[data-savings]',
      subTotal: '[data-subtotal]',
  
      cartBubble: '.cart-link__bubble',
      cartNote: '[name="note"]',
      termsCheckbox: '.cart__terms-checkbox',
      checkoutBtn: '.cart__checkout'
    };
  
    var classes = {
      btnLoading: 'btn--loading'
    };
  
    var config = {
      requiresTerms: false
    };
  
    function CartForm(form) {
      if (!form) {
        return;
      }
  
      this.form = form;
      this.wrapper = form.parentNode;
      this.location = form.dataset.location;
      this.namespace = '.cart-' + this.location;
      this.products = form.querySelector(selectors.products)
      this.submitBtn = form.querySelector(selectors.checkoutBtn);
  
      this.discounts = form.querySelector(selectors.discounts);
      this.savings = form.querySelector(selectors.savings);
      this.subtotal = form.querySelector(selectors.subTotal);
      this.termsCheckbox = form.querySelector(selectors.termsCheckbox);
      this.noteInput = form.querySelector(selectors.cartNote);
  
      if (this.termsCheckbox) {
        config.requiresTerms = true;
      }
  
      this.init();
    }
  
    CartForm.prototype = Object.assign({}, CartForm.prototype, {
      init: function() {
        this.initQtySelectors();
  
        document.addEventListener('cart:quantity' + this.namespace, this.quantityChanged.bind(this));
  
        this.form.on('submit' + this.namespace, this.onSubmit.bind(this));
  
        if (this.noteInput) {
          this.noteInput.addEventListener('change', function() {
            var newNote = this.value;
            theme.cart.updateNote(newNote);
          });
        }
  
        // Dev-friendly way to build the cart
        document.addEventListener('cart:build', function() {
          this.buildCart();
        }.bind(this));
      },
  
      reInit: function() {
        this.initQtySelectors();
      },
  
      onSubmit: function(evt) {
        this.submitBtn.classList.add(classes.btnLoading);
  
        if (config.requiresTerms) {
          if (this.termsCheckbox.checked) {
            // continue to checkout
          } else {
            alert(theme.strings.cartTermsConfirmation);
            this.submitBtn.classList.remove(classes.btnLoading)
            evt.preventDefault();
            return false;
          }
        }
      },
  
      /*============================================================================
        Query cart page to get markup
      ==============================================================================*/
      _parseProductHTML: function(html) {
        var parser = new DOMParser();
        var doc = parser.parseFromString(html, 'text/html');
        return {
          items: doc.querySelector('.cart__items'),
          discounts: doc.querySelector('.cart__discounts')
        }
      },
  
      buildCart: function() {
        theme.cart.getCartProductMarkup().then(this.cartMarkup.bind(this));
      },
  
      cartMarkup: function(html) {
        var markup = this._parseProductHTML(html);
        var items = markup.items;
        var count = parseInt(items.dataset.count);
        var subtotal = items.dataset.cartSubtotal;
        var savings = items.dataset.cartSavings;
  
        this.updateCartDiscounts(markup.discounts);
        this.updateSavings(savings);
  
        if (count > 0) {
          this.wrapper.classList.remove('is-empty');
        } else {
          this.wrapper.classList.add('is-empty');
        }
  
        this.updateCount(count);
  
        // Append item markup
        this.products.innerHTML = '';
        this.products.append(items);
  
        // Update subtotal
        this.subtotal.innerHTML = theme.Currency.formatMoney(subtotal, theme.settings.moneyFormat);
  
        this.reInit();
  
        if (window.AOS) { AOS.refreshHard() }
  
        if (Shopify && Shopify.StorefrontExpressButtons) {
          Shopify.StorefrontExpressButtons.initialize();
        }
        if (window.BOLD && BOLD.common && BOLD.common.eventEmitter &&
                  typeof BOLD.common.eventEmitter.emit === 'function'){
                BOLD.common.eventEmitter.emit('BOLD_COMMON_cart_loaded');
 }


      },
  
      updateCartDiscounts: function(markup) {
        if (!this.discounts) {
          return;
        }
        this.discounts.innerHTML = '';
        this.discounts.append(markup);
      },
  
      /*============================================================================
        Quantity handling
      ==============================================================================*/
      initQtySelectors: function() {
        this.form.querySelectorAll(selectors.qtySelector).forEach(el => {
          var selector = new theme.QtySelector(el, {
            namespace: this.namespace,
            isCart: true
          });
        });
      },
  
      quantityChanged: function(evt) {
        var key = evt.detail[0];
        var qty = evt.detail[1];
        var el = evt.detail[2];
  
        if (!key || !qty) {
          return;
        }
  
        // Disable qty selector so multiple clicks can't happen while loading
        if (el) {
          el.classList.add('is-loading');
        }
  
        theme.cart.changeItem(key, qty)
          .then(function(cart) {
            if (cart.item_count > 0) {
              this.wrapper.classList.remove('is-empty');
            } else {
              this.wrapper.classList.add('is-empty');
            }
  
            this.buildCart();
  
            document.dispatchEvent(new CustomEvent('cart:updated', {
              detail: {
                cart: cart
              }
            }));
          }.bind(this))
          .catch(function(XMLHttpRequest){});
      },
  
      /*============================================================================
        Update elements of the cart
      ==============================================================================*/
      updateSubtotal: function(subtotal) {
        this.form.querySelector(selectors.subTotal).innerHTML = theme.Currency.formatMoney(subtotal, theme.settings.moneyFormat);
      },
  
      updateSavings: function(savings) {
        if (!this.savings) {
          return;
        }
  
        if (savings > 0) {
          var amount = theme.Currency.formatMoney(savings, theme.settings.moneyFormat);
          this.savings.classList.remove('hide');
          this.savings.innerHTML = theme.strings.cartSavings.replace('[savings]', amount);
        } else {
          this.savings.classList.add('hide');
        }
      },
  
      updateCount: function(count) {
        var countEls = document.querySelectorAll('.cart-link__bubble-num');
  
        if (countEls.length) {
          countEls.forEach(el => {
            el.innerText = count;
          });
        }
  
        // show/hide bubble(s)
        var bubbles = document.querySelectorAll(selectors.cartBubble);
        if (bubbles.length) {
          if (count > 0) {
            bubbles.forEach(b => {
              b.classList.add('cart-link__bubble--visible');
            });
          } else {
            bubbles.forEach(b => {
              b.classList.remove('cart-link__bubble--visible');
            });
          }
        }
      }
    });
  
    return CartForm;
  })();
  
  // Either collapsible containers all acting individually,
  // or tabs that can only have one open at a time
  theme.collapsibles = (function() {
    var selectors = {
      trigger: '.collapsible-trigger',
      module: '.collapsible-content',
      moduleInner: '.collapsible-content__inner',
      tabs: '.collapsible-trigger--tab'
    };
  
    var classes = {
      hide: 'hide',
      open: 'is-open',
      autoHeight: 'collapsible--auto-height',
      tabs: 'collapsible-trigger--tab'
    };
  
    var namespace = '.collapsible';
  
    var isTransitioning = false;
  
    function init(scope) {
      var el = scope ? scope : document;
      el.querySelectorAll(selectors.trigger).forEach(trigger => {
        var state = trigger.classList.contains(classes.open);
        trigger.setAttribute('aria-expanded', state);
  
        trigger.off('click' + namespace);
        trigger.on('click' + namespace, toggle);
      });
    }
  
    function toggle(evt) {
      if (isTransitioning) {
        return;
      }
  
      isTransitioning = true;
  
      var el = evt.currentTarget;
      var isOpen = el.classList.contains(classes.open);
      var isTab = el.classList.contains(classes.tabs);
      var moduleId = el.getAttribute('aria-controls');
      var container = document.getElementById(moduleId);
  
      if (!moduleId) {
        moduleId = el.dataset.controls;
      }
  
      // No ID, bail
      if (!moduleId) {
        return;
      }
  
      // If container=null, there isn't a matching ID.
      // Check if data-id is set instead. Could be multiple.
      // Select based on being in the same parent div.
      if (!container) {
        var multipleMatches = document.querySelectorAll('[data-id="' + moduleId + '"]');
        if (multipleMatches.length > 0) {
          container = el.parentNode.querySelector('[data-id="' + moduleId + '"]');
        }
      }
  
      if (!container) {
        isTransitioning = false;
        return;
      }
  
      var height = container.querySelector(selectors.moduleInner).offsetHeight;
      var isAutoHeight = container.classList.contains(classes.autoHeight);
      var parentCollapsibleEl = container.parentNode.closest(selectors.module);
      var childHeight = height;
  
      if (isTab) {
        if(isOpen) {
          isTransitioning = false;
          return;
        }
  
        var newModule;
        document.querySelectorAll(selectors.tabs + '[data-id="'+ el.dataset.id +'"]').forEach(el => {
          el.classList.remove(classes.open);
          newModule = document.querySelector('#' + el.getAttribute('aria-controls'));
          setTransitionHeight(newModule, 0, true);
        });
      }
  
      // If isAutoHeight, set the height to 0 just after setting the actual height
      // so the closing animation works nicely
      if (isOpen && isAutoHeight) {
        setTimeout(function() {
          height = 0;
          setTransitionHeight(container, height, isOpen, isAutoHeight);
        }, 0);
      }
  
      if (isOpen && !isAutoHeight) {
        height = 0;
      }
  
      el.setAttribute('aria-expanded', !isOpen);
      if (isOpen) {
        el.classList.remove(classes.open);
      } else {
        el.classList.add(classes.open);
      }
  
      setTransitionHeight(container, height, isOpen, isAutoHeight);
  
      // If we are in a nested collapsible element like the mobile nav,
      // also set the parent element's height
      if (parentCollapsibleEl) {
        var totalHeight = isOpen
                          ? parentCollapsibleEl.offsetHeight - childHeight
                          : height + parentCollapsibleEl.offsetHeight;
  
        setTransitionHeight(parentCollapsibleEl, totalHeight, false, false);
      }
  
      // If Shopify Product Reviews app installed,
      // resize container on 'Write review' click
      // that shows form
      if (window.SPR) {
        var btn = container.querySelector('.spr-summary-actions-newreview');
        if (!btn) { return }
        btn.off('click' + namespace);
        btn.on('click' + namespace, function() {
          height = container.querySelector(selectors.moduleInner).offsetHeight;
          setTransitionHeight(container, height, isOpen, isAutoHeight);
        });
      }
    }
  
    function setTransitionHeight(container, height, isOpen, isAutoHeight) {
      container.classList.remove(classes.hide);
      theme.utils.prepareTransition(container, function() {
        container.style.height = height+'px';
        if (isOpen) {
          container.classList.remove(classes.open);
        } else {
          container.classList.add(classes.open);
        }
      });
  
      if (!isOpen && isAutoHeight) {
        var o = container;
        window.setTimeout(function() {
          o.css('height','auto');
          isTransitioning = false;
        }, 500);
      } else {
        isTransitioning = false;
      }
    }
  
    return {
      init: init
    };
  })();
  
  // Shopify-built select-like popovers for currency and language selection
  theme.Disclosure = (function() {
    var selectors = {
      disclosureForm: '[data-disclosure-form]',
      disclosureList: '[data-disclosure-list]',
      disclosureToggle: '[data-disclosure-toggle]',
      disclosureInput: '[data-disclosure-input]',
      disclosureOptions: '[data-disclosure-option]'
    };
  
    var classes = {
      listVisible: 'disclosure-list--visible'
    };
  
    function Disclosure(disclosure) {
      this.container = disclosure;
      this._cacheSelectors();
      this._setupListeners();
    }
  
    Disclosure.prototype = Object.assign({}, Disclosure.prototype, {
      _cacheSelectors: function() {
        this.cache = {
          disclosureForm: this.container.closest(selectors.disclosureForm),
          disclosureList: this.container.querySelector(selectors.disclosureList),
          disclosureToggle: this.container.querySelector(
            selectors.disclosureToggle
          ),
          disclosureInput: this.container.querySelector(
            selectors.disclosureInput
          ),
          disclosureOptions: this.container.querySelectorAll(
            selectors.disclosureOptions
          )
        };
      },
  
      _setupListeners: function() {
        this.eventHandlers = this._setupEventHandlers();
  
        this.cache.disclosureToggle.addEventListener(
          'click',
          this.eventHandlers.toggleList
        );
  
        this.cache.disclosureOptions.forEach(function(disclosureOption) {
          disclosureOption.addEventListener(
            'click',
            this.eventHandlers.connectOptions
          );
        }, this);
  
        this.container.addEventListener(
          'keyup',
          this.eventHandlers.onDisclosureKeyUp
        );
  
        this.cache.disclosureList.addEventListener(
          'focusout',
          this.eventHandlers.onDisclosureListFocusOut
        );
  
        this.cache.disclosureToggle.addEventListener(
          'focusout',
          this.eventHandlers.onDisclosureToggleFocusOut
        );
  
        document.body.addEventListener('click', this.eventHandlers.onBodyClick);
      },
  
      _setupEventHandlers: function() {
        return {
          connectOptions: this._connectOptions.bind(this),
          toggleList: this._toggleList.bind(this),
          onBodyClick: this._onBodyClick.bind(this),
          onDisclosureKeyUp: this._onDisclosureKeyUp.bind(this),
          onDisclosureListFocusOut: this._onDisclosureListFocusOut.bind(this),
          onDisclosureToggleFocusOut: this._onDisclosureToggleFocusOut.bind(this)
        };
      },
  
      _connectOptions: function(event) {
        event.preventDefault();
  
        this._submitForm(event.currentTarget.dataset.value);
      },
  
      _onDisclosureToggleFocusOut: function(event) {
        var disclosureLostFocus =
          this.container.contains(event.relatedTarget) === false;
  
        if (disclosureLostFocus) {
          this._hideList();
        }
      },
  
      _onDisclosureListFocusOut: function(event) {
        var childInFocus = event.currentTarget.contains(event.relatedTarget);
  
        var isVisible = this.cache.disclosureList.classList.contains(
          classes.listVisible
        );
  
        if (isVisible && !childInFocus) {
          this._hideList();
        }
      },
  
      _onDisclosureKeyUp: function(event) {
        if (event.which !== 27) return;
        this._hideList();
        this.cache.disclosureToggle.focus();
      },
  
      _onBodyClick: function(event) {
        var isOption = this.container.contains(event.target);
        var isVisible = this.cache.disclosureList.classList.contains(
          classes.listVisible
        );
  
        if (isVisible && !isOption) {
          this._hideList();
        }
      },
  
      _submitForm: function(value) {
        this.cache.disclosureInput.value = value;
        this.cache.disclosureForm.submit();
      },
  
      _hideList: function() {
        this.cache.disclosureList.classList.remove(classes.listVisible);
        this.cache.disclosureToggle.setAttribute('aria-expanded', false);
      },
  
      _toggleList: function() {
        var ariaExpanded =
          this.cache.disclosureToggle.getAttribute('aria-expanded') === 'true';
        this.cache.disclosureList.classList.toggle(classes.listVisible);
        this.cache.disclosureToggle.setAttribute('aria-expanded', !ariaExpanded);
      },
  
      destroy: function() {
        this.cache.disclosureToggle.removeEventListener(
          'click',
          this.eventHandlers.toggleList
        );
  
        this.cache.disclosureOptions.forEach(function(disclosureOption) {
          disclosureOption.removeEventListener(
            'click',
            this.eventHandlers.connectOptions
          );
        }, this);
  
        this.container.removeEventListener(
          'keyup',
          this.eventHandlers.onDisclosureKeyUp
        );
  
        this.cache.disclosureList.removeEventListener(
          'focusout',
          this.eventHandlers.onDisclosureListFocusOut
        );
  
        this.cache.disclosureToggle.removeEventListener(
          'focusout',
          this.eventHandlers.onDisclosureToggleFocusOut
        );
  
        document.body.removeEventListener(
          'click',
          this.eventHandlers.onBodyClick
        );
      }
    });
  
    return Disclosure;
  })();
  
  theme.Drawers = (function() {
    function Drawers(id, name) {
      this.config = {
        id: id,
        close: '.js-drawer-close',
        open: '.js-drawer-open-' + name,
        openClass: 'js-drawer-open',
        closingClass: 'js-drawer-closing',
        activeDrawer: 'drawer--is-open',
        namespace: '.drawer-' + name
      };
  
      this.nodes = {
        page: document.querySelector('#MainContent')
      };
  
      this.drawer = document.querySelector('#' + id);
      this.isOpen = false;
  
      if (!this.drawer) {
        return;
      }
  
      this.init();
    }
  
    Drawers.prototype = Object.assign({}, Drawers.prototype, {
      init: function() {
        // Setup open button(s)
        document.querySelectorAll(this.config.open).forEach(openBtn => {
          openBtn.setAttribute('aria-expanded', 'false');
          openBtn.addEventListener('click', this.open.bind(this));
        });
  
        this.drawer.querySelector(this.config.close).addEventListener('click', this.close.bind(this));
  
        // Close modal if a drawer is opened
        document.addEventListener('modalOpen', function() {
          this.close();
        }.bind(this));
      },
  
      open: function(evt, returnFocusEl) {
        if (evt) {
          evt.preventDefault();
        }
  
        if (this.isOpen) {
          return;
        }
  
        // Without this the drawer opens, the click event bubbles up to $nodes.page which closes the drawer.
        if (evt && evt.stopPropagation) {
          evt.stopPropagation();
          // save the source of the click, we'll focus to this on close
          evt.currentTarget.setAttribute('aria-expanded', 'true');
          this.activeSource = evt.currentTarget;
        } else if (returnFocusEl) {
          returnFocusEl.setAttribute('aria-expanded', 'true');
          this.activeSource = returnFocusEl;
        }
  
        theme.utils.prepareTransition(this.drawer, function() {
          this.drawer.classList.add(this.config.activeDrawer);
        }.bind(this));
  
        document.documentElement.classList.add(this.config.openClass);
        this.isOpen = true;
  
        theme.a11y.trapFocus({
          container: this.drawer,
          namespace: 'drawer_focus'
        });
  
        document.dispatchEvent(new CustomEvent('drawerOpen'));
        document.dispatchEvent(new CustomEvent('drawerOpen.' + this.config.id));
  
        this.bindEvents();
      },
  
      close: function(evt) {
        if (!this.isOpen) {
          return;
        }
  
        // Do not close if click event came from inside drawer
        if (evt) {
          if (evt.target.closest('.js-drawer-close')) {
            // Do not close if using the drawer close button
          } else if (evt.target.closest('.drawer')) {
            return;
          }
        }
  
        // deselect any focused form elements
        document.activeElement.blur();
  
        theme.utils.prepareTransition(this.drawer, function() {
          this.drawer.classList.remove(this.config.activeDrawer);
        }.bind(this));
  
        document.documentElement.classList.remove(this.config.openClass);
        document.documentElement.classList.add(this.config.closingClass);
  
        window.setTimeout(function() {
          document.documentElement.classList.remove(this.config.closingClass);
          if (this.activeSource && this.activeSource.getAttribute('aria-expanded')) {
            this.activeSource.setAttribute('aria-expanded', 'false');
            this.activeSource.focus();
          }
        }.bind(this), 500);
  
        this.isOpen = false;
  
        theme.a11y.removeTrapFocus({
          container: this.drawer,
          namespace: 'drawer_focus'
        });
  
        this.unbindEvents();
      },
  
      bindEvents: function() {
        // Clicking out of drawer closes it
        window.on('click' + this.config.namespace, function(evt) {
          this.close(evt)
          return;
        }.bind(this));
  
        // Pressing escape closes drawer
        window.on('keyup' + this.config.namespace, function(evt) {
          if (evt.keyCode === 27) {
            this.close();
          }
        }.bind(this));
  
        theme.a11y.lockMobileScrolling(this.config.namespace, this.nodes.page);
      },
  
      unbindEvents: function() {
        window.off('click' + this.config.namespace);
        window.off('keyup' + this.config.namespace);
  
        theme.a11y.unlockMobileScrolling(this.config.namespace, this.nodes.page);
      }
    });
  
    return Drawers;
  })();
  
  theme.Modals = (function() {
    function Modal(id, name, options) {
      var defaults = {
        close: '.js-modal-close',
        open: '.js-modal-open-' + name,
        openClass: 'modal--is-active',
        closingClass: 'modal--is-closing',
        bodyOpenClass: ['modal-open'],
        bodyOpenSolidClass: 'modal-open--solid',
        bodyClosingClass: 'modal-closing',
        closeOffContentClick: true
      };
  
      this.id = id;
      this.modal = document.getElementById(id);
  
      if (!this.modal) {
        return false;
      }
  
      this.modalContent = this.modal.querySelector('.modal__inner');
  
      this.config = Object.assign(defaults, options);
      this.modalIsOpen = false;
      this.focusOnOpen = this.config.focusIdOnOpen ? document.getElementById(this.config.focusIdOnOpen) : this.modal;
      this.isSolid = this.config.solid;
  
      this.init();
    }
  
    Modal.prototype.init = function() {
      document.querySelectorAll(this.config.open).forEach(btn => {
        btn.setAttribute('aria-expanded', 'false');
        btn.addEventListener('click', this.open.bind(this));
      });
  
      this.modal.querySelectorAll(this.config.close).forEach(btn => {
        btn.addEventListener('click', this.close.bind(this));
      });
  
      // Close modal if a drawer is opened
      document.addEventListener('drawerOpen', function() {
        this.close();
      }.bind(this));
    };
  
    Modal.prototype.open = function(evt) {
      // Keep track if modal was opened from a click, or called by another function
      var externalCall = false;
  
      // don't open an opened modal
      if (this.modalIsOpen) {
        return;
      }
  
      // Prevent following href if link is clicked
      if (evt) {
        evt.preventDefault();
      } else {
        externalCall = true;
      }
  
      // Without this, the modal opens, the click event bubbles up to $nodes.page
      // which closes the modal.
      if (evt && evt.stopPropagation) {
        evt.stopPropagation();
        // save the source of the click, we'll focus to this on close
        this.activeSource = evt.currentTarget.setAttribute('aria-expanded', 'true');
      }
  
      if (this.modalIsOpen && !externalCall) {
        this.close();
      }
  
      this.modal.classList.add(this.config.openClass);
  
      document.documentElement.classList.add(...this.config.bodyOpenClass);
  
      if (this.isSolid) {
        document.documentElement.classList.add(this.config.bodyOpenSolidClass);
      }
  
      this.modalIsOpen = true;
  
      theme.a11y.trapFocus({
        container: this.modal,
        elementToFocus: this.focusOnOpen,
        namespace: 'modal_focus'
      });
  
      document.dispatchEvent(new CustomEvent('modalOpen'));
      document.dispatchEvent(new CustomEvent('modalOpen.' + this.id));
  
      this.bindEvents();
    };
  
    Modal.prototype.close = function(evt) {
      // don't close a closed modal
      if (!this.modalIsOpen) {
        return;
      }
  
      // Do not close modal if click happens inside modal content
      if (evt) {
        if (evt.target.closest('.js-modal-close')) {
          // Do not close if using the modal close button
        } else if (evt.target.closest('.modal__inner')) {
          return;
        }
      }
  
      // deselect any focused form elements
      document.activeElement.blur();
  
      this.modal.classList.remove(this.config.openClass);
      this.modal.classList.add(this.config.closingClass);
  
      document.documentElement.classList.remove(...this.config.bodyOpenClass);
      document.documentElement.classList.add(this.config.bodyClosingClass);
  
      window.setTimeout(function() {
        document.documentElement.classList.remove(this.config.bodyClosingClass);
        this.modal.classList.remove(this.config.closingClass);
        if (this.activeSource && this.activeSource.getAttribute('aria-expanded')) {
          this.activeSource.setAttribute('aria-expanded', 'false').focus();
        }
      }.bind(this), 500); // modal close css transition
  
      if (this.isSolid) {
        document.documentElement.classList.remove(this.config.bodyOpenSolidClass);
      }
  
      this.modalIsOpen = false;
  
      theme.a11y.removeTrapFocus({
        container: this.modal,
        namespace: 'modal_focus'
      });
  
      document.dispatchEvent(new CustomEvent('modalClose.' + this.id));
  
      this.unbindEvents();
    };
  
    Modal.prototype.bindEvents = function() {
      window.on('keyup.modal', function(evt) {
        if (evt.keyCode === 27) {
          this.close();
        }
      }.bind(this));
  
      if (this.config.closeOffContentClick) {
        // Clicking outside of the modal content also closes it
        this.modal.on('click.modal', this.close.bind(this));
      }
    };
  
    Modal.prototype.unbindEvents = function() {
      document.documentElement.off('.modal');
  
      if (this.config.closeOffContentClick) {
        this.modal.off('.modal');
      }
    };
  
    return Modal;
  })();
  
  // Used in Motion and Expanse to fade between pages.
  // initialize in theme.js with theme.pageTransitions();
  
  window.onpageshow = function(evt) {
    // Removes unload class when returning to page via history
    if (evt.persisted) {
      document.body.classList.remove('unloading');
      document.querySelectorAll('.cart__checkout').forEach(el => {
        el.classList.remove('btn--loading');
      });
    }
  };
  
  theme.pageTransitions = function() {
    if (document.body.dataset.transitions === 'true') {
  
      // Hack test to fix Safari page cache issue.
      // window.onpageshow doesn't always run when navigating
      // back to the page, so the unloading class remains, leaving
      // a white page. Setting a timeout to remove that class when leaving
      // the page actually finishes running when they come back.
      if (!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)) {
        document.querySelectorAll('a').forEach(a => {
          window.setTimeout(function() {
            document.body.classList.remove('unloading');
          }, 1200);
        });
      }
  
      // Add disable transition class to various link types
      document.querySelectorAll('a[href^="mailto:"], a[href^="#"], a[target="_blank"], a[href*="youtube.com/watch"], a[href*="youtu.be/"], a[download]').forEach(el => {
        el.classList.add('js-no-transition');
      });
  
      document.querySelectorAll('a:not(.js-no-transition)').forEach(el => {
        el.addEventListener('click', function(evt) {
          if (evt.metaKey) return true;
          evt.preventDefault();
          document.body.classList.add('unloading');
          var src = el.getAttribute('href');
          window.setTimeout(function() {
            location.href = src;
          }, 50);
        });
      });
  
      document.querySelectorAll('a.mobile-nav__link').forEach(el => {
        el.addEventListener('click', function() {
          theme.NavDrawer.close();
        })
      });
    }
  };
  
  theme.parallaxSections = {};
  
  theme.Parallax = (function() {
    var speed = 0.85;
    var reset = false;
  
    function parallax(container, args) {
      this.isInit = false;
      this.isVisible = false;
      this.container = container;
      this.image = container.querySelector('.parallax-image');
      this.namespace = args.namespace;
      this.desktopOnly = args.desktopOnly;
  
      if (!this.container || !this.image) {
        return;
      }
  
      // If set for desktop only, setup listeners for disabling
      // on mobile and re-enabling on desktop
      if (this.desktopOnly) {
        document.addEventListener('matchSmall', function() {
          this.destroy();
        }.bind(this));
  
        document.addEventListener('unmatchSmall', function() {
          this.init(true);
        }.bind(this));
      }
  
      this.init(this.desktopOnly);
    }
  
    parallax.prototype = Object.assign({}, parallax.prototype, {
      init: function(desktopOnly) {
        // Reset in case initialized again
        if (this.isInit) {
          this.destroy();
        }
  
        this.isInit = true;
  
        // Do not setup scroll event if on mobile
        if (desktopOnly && theme.config.bpSmall) {
          return;
        }
  
        // Set position on page load
        this.setSizes();
        this.scrollHandler();
  
        var observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            this.isVisible = entry.isIntersecting;
            if (this.isVisible) {
              window.on('scroll' + this.namespace, this.onScroll.bind(this));
            } else {
              window.off('scroll' + this.namespace);
            }
          });
        }, {rootMargin: '200px 0px 200px 0px'});
  
        observer.observe(this.container);
  
        window.on('resize' + this.namespace, theme.utils.debounce(250, this.setSizes.bind(this)));
  
        document.addEventListener('shopify:section:reorder', theme.utils.debounce(250, this.onReorder.bind(this)));
      },
  
      onScroll: function() {
        if (!this.isVisible) {
          return;
        }
  
        // If a scroll event finds Shopify's review app,
        // update parallax scroll positions because of page reflows
        if (window.SPR && !reset) {
          this.setSizes();
          reset = true;
        }
  
        requestAnimationFrame(this.scrollHandler.bind(this));
      },
  
      scrollHandler: function() {
        var shiftDistance = (window.scrollY - this.elTop) * speed;
        this.image.style.transform = 'translate3d(0, ' + shiftDistance + 'px, 0)';
      },
  
      setSizes: function() {
        var rect = this.container.getBoundingClientRect();
        this.elTop = rect.top + window.scrollY;
      },
  
      onReorder: function() {
        this.setSizes();
        this.onScroll();
      },
  
      destroy: function() {
        this.image.style.transform = 'none';
        window.off('scroll' + this.namespace);
        window.off('resize' + this.namespace);
      }
    });
  
    return parallax;
  })();
  
  if (typeof window.noUiSlider === 'undefined') {
    throw new Error('theme.PriceRange is missing vendor noUiSlider: // =require vendor/nouislider.js');
  }
  
  theme.PriceRange = (function () {
    var defaultStep = 10;
    var selectors = {
      priceRange: '.price-range',
      priceRangeSlider: '.price-range__slider',
      priceRangeInputMin: '.price-range__input-min',
      priceRangeInputMax: '.price-range__input-max',
      priceRangeDisplayMin: '.price-range__display-min',
      priceRangeDisplayMax: '.price-range__display-max',
    };
  
    function PriceRange(container, {onChange, onUpdate, ...sliderOptions} = {}) {
      this.container = container;
      this.onChange = onChange;
      this.onUpdate = onUpdate;
      this.sliderOptions = sliderOptions || {};
  
      return this.init();
    }
  
    PriceRange.prototype = Object.assign({}, PriceRange.prototype, {
      init: function () {
        if (!this.container.classList.contains('price-range')) {
          throw new Error('You must instantiate PriceRange with a valid container')
        }
  
        this.formEl = this.container.closest('form');
        this.sliderEl = this.container.querySelector(selectors.priceRangeSlider);
        this.inputMinEl = this.container.querySelector(selectors.priceRangeInputMin);
        this.inputMaxEl = this.container.querySelector(selectors.priceRangeInputMax);
        this.displayMinEl = this.container.querySelector(selectors.priceRangeDisplayMin);
        this.displayMaxEl = this.container.querySelector(selectors.priceRangeDisplayMax);
  
        this.minRange = parseFloat(this.container.dataset.min) || 0;
        this.minValue = parseFloat(this.container.dataset.minValue) || 0;
        this.maxRange = parseFloat(this.container.dataset.max) || 100;
        this.maxValue = parseFloat(this.container.dataset.maxValue) || this.maxRange;
  
        return this.createPriceRange();
      },
  
      createPriceRange: function () {
        if (this.sliderEl && this.sliderEl.noUiSlider && typeof this.sliderEl.noUiSlider.destroy === 'function') {
          this.sliderEl.noUiSlider.destroy();
        }
  
        var slider = noUiSlider.create(this.sliderEl, {
          connect: true,
          step: defaultStep,
          ...this.sliderOptions,
          // Do not allow overriding these options
          start: [this.minValue, this.maxValue],
          range: {
            min: this.minRange,
            max: this.maxRange,
          },
        });
  
        slider.on('update', values => {
          this.displayMinEl.innerHTML = theme.Currency.formatMoney(
            values[0],
            theme.settings.moneyFormat,
          );
          this.displayMaxEl.innerHTML = theme.Currency.formatMoney(
            values[1],
            theme.settings.moneyFormat,
          );
  
          if (this.onUpdate) {
            this.onUpdate(values);
          }
        });
  
        slider.on('change', values => {
          this.inputMinEl.value = values[0];
          this.inputMaxEl.value = values[1];
  
          if (this.onChange) {
            const formData = new FormData(this.formEl);
            this.onChange(formData);
          }
        });
  
        return slider;
      },
    });
  
    return PriceRange;
  })();
  
  theme.AjaxProduct = (function() {
    var status = {
      loading: false
    };
  
    function ProductForm(form, submit, args) {
      this.form = form;
      this.args = args;
  
      var submitSelector = submit ? submit : '.add-to-cart';
  
      if (this.form) {
        this.addToCart = form.querySelector(submitSelector);
        this.form.addEventListener('submit', this.addItemFromForm.bind(this));
      }
    };
  
    ProductForm.prototype = Object.assign({}, ProductForm.prototype, {
      addItemFromForm: function(evt, callback){
        evt.preventDefault();
  
        if (status.loading) {
          return;
        }
  
        // Loading indicator on add to cart button
        this.addToCart.classList.add('btn--loading');
  
        status.loading = true;
  
        var data = theme.utils.serialize(this.form);
        var form = document.querySelector('.product-single__form');
        // Bold:POv2 - Enable file uploads with AJAX.
        var formdata = false;
        if(window.FormData){
          formdata = new FormData(form)
        }

  
        fetch(theme.routes.cartAdd, {
          method: 'POST',
//           body: data,
          // Bold:POv2
          body: formdata ? formdata : form.serialize(),
          contentType : false,    // Optional. If the form tag with content type of enctype="multipart/form-data", this comes as a default.
          processData : false,    // Optional. If you want to send a DOMDocument, or other non-processed data.
          // Bold:POv2
          credentials: 'same-origin'
//           headers: {
//             'Content-Type': 'application/x-www-form-urlencoded',
//             'X-Requested-With': 'XMLHttpRequest'
//           }
        })
        .then(response => response.json())
        .then(function(data) {
          if (data.status === 422) {
            this.error(data);
          } else {
            var product = data;
            this.success(product);
          }
  
          status.loading = false;
          this.addToCart.classList.remove('btn--loading');
  
          // Reload page if adding product from a section on the cart page
          if (document.body.classList.contains('template-cart')) {
            window.scrollTo(0, 0);
            location.reload();
          }
        }.bind(this));
      },
  
      success: function(product) {
        var errors = this.form.querySelector('.errors');
        if (errors) {
          errors.remove();
        }
  
        document.dispatchEvent(new CustomEvent('ajaxProduct:added', {
          detail: {
            product: product,
            addToCartBtn: this.addToCart
          }
        }));
  
        if (this.args && this.args.scopedEventId) {
          document.dispatchEvent(new CustomEvent('ajaxProduct:added:' + this.args.scopedEventId, {
            detail: {
              product: product,
              addToCartBtn: this.addToCart
            }
          }));
        }
      },
  
      error: function(error) {
        if (!error.description) {
          console.warn(error);
          return;
        }
  
        var errors = this.form.querySelector('.errors');
        if (errors) {
          errors.remove();
        }
  
        var errorDiv = document.createElement('div');
        errorDiv.classList.add('errors', 'text-center');
        errorDiv.textContent = error.description;
        this.form.append(errorDiv);
  
        document.dispatchEvent(new CustomEvent('ajaxProduct:error', {
          detail: {
            errorMessage: error.description
          }
        }));
  
        if (this.args && this.args.scopedEventId) {
          document.dispatchEvent(new CustomEvent('ajaxProduct:error:' + this.args.scopedEventId, {
            detail: {
              errorMessage: error.description
            }
          }));
        }
      }
    });
  
    return ProductForm;
  })();
  
  theme.ProductMedia = (function() {
    var modelJsonSections = {};
    var models = {};
    var xrButtons = {};
  
    var selectors = {
      mediaGroup: '[data-product-single-media-group]',
      xrButton: '[data-shopify-xr]'
    };
  
    function init(modelViewerContainers, sectionId) {
      modelJsonSections[sectionId] = {
        loaded: false
      };
  
      modelViewerContainers.forEach(function(container, index) {
        var mediaId = container.dataset.mediaId;
        var modelViewerElement = container.querySelector('model-viewer');
        var modelId = modelViewerElement.dataset.modelId;
  
        if (index === 0) {
          var mediaGroup = container.closest(selectors.mediaGroup);
          var xrButton = mediaGroup.querySelector(selectors.xrButton);
          xrButtons[sectionId] = {
            element: xrButton,
            defaultId: modelId
          };
        }
  
        models[mediaId] = {
          modelId: modelId,
          sectionId: sectionId,
          container: container,
          element: modelViewerElement
        };
  
      });
  
      window.Shopify.loadFeatures([
        {
          name: 'shopify-xr',
          version: '1.0',
          onLoad: setupShopifyXr
        },
        {
          name: 'model-viewer-ui',
          version: '1.0',
          onLoad: setupModelViewerUi
        }
      ]);
  
      theme.LibraryLoader.load('modelViewerUiStyles');
    }
  
    function setupShopifyXr(errors) {
      if (errors) return;
  
      if (!window.ShopifyXR) {
        document.addEventListener('shopify_xr_initialized', function() {
          setupShopifyXr();
        });
        return;
      }
  
      for (var sectionId in modelJsonSections) {
        if (modelJsonSections.hasOwnProperty(sectionId)) {
          var modelSection = modelJsonSections[sectionId];
  
          if (modelSection.loaded) continue;
  
          var modelJson = document.querySelector('#ModelJson-' + sectionId);
  
          window.ShopifyXR.addModels(JSON.parse(modelJson.innerHTML));
          modelSection.loaded = true;
        }
      }
      window.ShopifyXR.setupXRElements();
    }
  
    function setupModelViewerUi(errors) {
      if (errors) return;
  
      for (var key in models) {
        if (models.hasOwnProperty(key)) {
          var model = models[key];
          if (!model.modelViewerUi && Shopify) {
            model.modelViewerUi = new Shopify.ModelViewerUI(model.element);
          }
          setupModelViewerListeners(model);
        }
      }
    }
  
    function setupModelViewerListeners(model) {
      var xrButton = xrButtons[model.sectionId];
  
      model.container.addEventListener('mediaVisible', function() {
        xrButton.element.setAttribute('data-shopify-model3d-id', model.modelId);
        if (theme.config.isTouch) return;
        model.modelViewerUi.play();
      });
  
      model.container.addEventListener('mediaHidden', function() {
        xrButton.element.setAttribute('data-shopify-model3d-id', xrButton.defaultId);
        model.modelViewerUi.pause();
      });
  
      model.container.addEventListener('xrLaunch', function() {
        model.modelViewerUi.pause();
      });
    }
  
    function removeSectionModels(sectionId) {
      for (var key in models) {
        if (models.hasOwnProperty(key)) {
          var model = models[key];
          if (model.sectionId === sectionId) {
            delete models[key];
          }
        }
      }
      delete modelJsonSections[sectionId];
    }
  
    return {
      init: init,
      removeSectionModels: removeSectionModels
    };
  })();
  
  theme.QtySelector = (function() {
    var selectors = {
      input: '.js-qty__num',
      plus: '.js-qty__adjust--plus',
      minus: '.js-qty__adjust--minus'
    };
  
    function QtySelector(el, options) {
      this.wrapper = el;
      this.plus = el.querySelector(selectors.plus);
      this.minus = el.querySelector(selectors.minus);
      this.input = el.querySelector(selectors.input);
      this.minValue = this.input.getAttribute('min') || 1;
  
      var defaults = {
        namespace: null,
        isCart: false,
        key: this.input.dataset.id
      };
  
      this.options = Object.assign({}, defaults, options);
  
      this.init();
    }
  
    QtySelector.prototype = Object.assign({}, QtySelector.prototype, {
      init: function() {
        this.plus.addEventListener('click', function() {
          var qty = this._getQty();
          this._change(qty + 1);
        }.bind(this));
  
        this.minus.addEventListener('click', function() {
          var qty = this._getQty();
          this._change(qty - 1);
        }.bind(this));
  
        this.input.addEventListener('change', function(evt) {
          this._change(this._getQty());
        }.bind(this));
      },
  
      _getQty: function() {
        var qty = this.input.value;
        if((parseFloat(qty) == parseInt(qty)) && !isNaN(qty)) {
          // We have a valid number!
        } else {
          // Not a number. Default to 1.
          qty = 1;
        }
        return parseInt(qty);
      },
  
      _change: function(qty) {
        if (qty <= this.minValue) {
          qty = this.minValue;
        }
  
        this.input.value = qty;
  
        if (this.options.isCart) {
          document.dispatchEvent(new CustomEvent('cart:quantity' + this.options.namespace, {
              detail: [this.options.key, qty, this.wrapper]
          }));
        }
      }
    });
  
    return QtySelector;
  })();
  
  theme.initQuickShop = function() {
    var ids = [];
    var products = document.querySelectorAll('.grid-product');
  
    if (!products.length || !theme.settings.quickView) {
      return;
    }
  
    products.forEach(product => {
      product.addEventListener('mouseover', productMouseover);
    });
  
    function productMouseover(evt) {
      var el = evt.currentTarget;
      // No quick view on mobile breakpoint
      if (!theme.config.bpSmall) {
        el.removeEventListener('mouseover', productMouseover);
        if (!el || !el.dataset.productId) {
          // Onboarding product, no real data
          return;
        }
        var productId = el.dataset.productId;
        var handle = el.dataset.productHandle;
        var btn = el.querySelector('.quick-product__btn');
        theme.preloadProductModal(handle, productId, btn);
      }
    }
  };
  
  theme.preloadProductModal = function(handle, productId, btn) {
    var holder = document.getElementById('QuickShopHolder-' + handle);
    var url = theme.routes.home + '/products/' + handle + '?view=modal';
  
    // remove double `/` in case shop might have /en or language in URL
    url = url.replace('//', '/');
  
    fetch(url).then(function(response) {
      return response.text();
    }).then(function(html) {
      // Convert the HTML string into a document object
      var parser = new DOMParser();
      var doc = parser.parseFromString(html, 'text/html');
      var div = doc.querySelector('.product-section[data-product-handle="'+handle+'"]');
  
      if (!holder) {
        return;
      }
  
      holder.innerHTML = '';
      holder.append(div);
  
      // Setup quick view modal
      var modalId = 'QuickShopModal-' + productId;
      var name = 'quick-modal-' + productId;
      new theme.Modals(modalId, name);
  
      // Register product template inside quick view
      theme.sections.register('product', theme.Product, holder);
  
      // Register collapsible elements
      theme.collapsibles.init();
  
      // Register potential video modal links (when video has sound)
      theme.videoModal();
  
      if (btn) {
        btn.classList.remove('quick-product__btn--not-ready');
      }
    });
  }
  
  // theme.Slideshow handles all flickity based sliders
  // Child navigation is only setup to work on product images
  theme.Slideshow = (function() {
    var classes = {
      animateOut: 'animate-out',
      isPaused: 'is-paused',
      isActive: 'is-active'
    };
  
    var selectors = {
      allSlides: '.slideshow__slide',
      currentSlide: '.is-selected',
      wrapper: '.slideshow-wrapper',
      pauseButton: '.slideshow__pause'
    };
  
    var productSelectors = {
      thumb: '.product__thumb-item:not(.hide)',
      links: '.product__thumb-item:not(.hide) a',
      arrow: '.product__thumb-arrow'
    };
  
    var defaults = {
      adaptiveHeight: false,
      autoPlay: false,
      avoidReflow: false, // custom by Archetype
      childNav: null, // element. Custom by Archetype instead of asNavFor
      childNavScroller: null, // element
      childVertical: false,
      dragThreshold: 7,
      fade: false,
      friction: 0.8,
      initialIndex: 0,
      pageDots: false,
      pauseAutoPlayOnHover: false,
      prevNextButtons: false,
      rightToLeft: theme.config.rtl,
      selectedAttraction: 0.14,
      setGallerySize: true,
      wrapAround: true
    };
  
    function slideshow(el, args) {
      this.el = el;
      this.args = Object.assign({}, defaults, args);
  
      // Setup listeners as part of arguments
      this.args.on = {
        ready: this.init.bind(this),
        change: this.slideChange.bind(this),
        settle: this.afterChange.bind(this)
      };
  
      if (this.args.childNav) {
        this.childNavEls = this.args.childNav.querySelectorAll(productSelectors.thumb);
        this.childNavLinks = this.args.childNav.querySelectorAll(productSelectors.links);
        this.arrows = this.args.childNav.querySelectorAll(productSelectors.arrow);
        if (this.childNavLinks.length) {
          this.initChildNav();
        }
      }
  
      if (this.args.avoidReflow) {
        avoidReflow(el);
      }
  
      this.slideshow = new Flickity(el, this.args);
  
      if (this.args.autoPlay) {
        var wrapper = el.closest(selectors.wrapper);
        this.pauseBtn = wrapper.querySelector(selectors.pauseButton);
        if (this.pauseBtn) {
          this.pauseBtn.addEventListener('click', this._togglePause.bind(this));
        }
      }
  
      // Reset dimensions on resize
      window.on('resize', theme.utils.debounce(300, function() {
        this.resize();
      }.bind(this)));
  
      // Set flickity-viewport height to first element to
      // avoid awkward page reflows while initializing.
      // Must be added in a `style` tag because element does not exist yet.
      // Slideshow element must have an ID
      function avoidReflow(el) {
        if (!el.id) return;
        var firstChild = el.firstChild;
        while(firstChild != null && firstChild.nodeType == 3){ // skip TextNodes
          firstChild = firstChild.nextSibling;
        }
        var style = document.createElement('style');
        style.innerHTML = `#${el.id} .flickity-viewport{height:${firstChild.offsetHeight}px}`;
        document.head.appendChild(style);
      }
    }
  
    slideshow.prototype = Object.assign({}, slideshow.prototype, {
      init: function(el) {
        this.currentSlide = this.el.querySelector(selectors.currentSlide);
  
        // Optional onInit callback
        if (this.args.callbacks && this.args.callbacks.onInit) {
          if (typeof this.args.callbacks.onInit === 'function') {
            this.args.callbacks.onInit(this.currentSlide);
          }
        }
  
        if (window.AOS) { AOS.refresh() }
      },
  
      slideChange: function(index) {
        // Outgoing fade styles
        if (this.args.fade && this.currentSlide) {
          this.currentSlide.classList.add(classes.animateOut);
          this.currentSlide.addEventListener('transitionend', function() {
            this.currentSlide.classList.remove(classes.animateOut);
          }.bind(this));
        }
  
        // Match index with child nav
        if (this.args.childNav) {
          this.childNavGoTo(index);
        }
  
        // Optional onChange callback
        if (this.args.callbacks && this.args.callbacks.onChange) {
          if (typeof this.args.callbacks.onChange === 'function') {
            this.args.callbacks.onChange(index);
          }
        }
  
        // Show/hide arrows depending on selected index
        if (this.arrows && this.arrows.length) {
          this.arrows[0].classList.toggle('hide', index === 0);
          this.arrows[1].classList.toggle('hide', index === (this.childNavLinks.length - 1));
        }
      },
      afterChange: function(index) {
        // Remove all fade animation classes after slide is done
        if (this.args.fade) {
          this.el.querySelectorAll(selectors.allSlides).forEach(slide => {
            slide.classList.remove(classes.animateOut);
          });
        }
  
        this.currentSlide = this.el.querySelector(selectors.currentSlide);
  
        // Match index with child nav (in case slider height changed first)
        if (this.args.childNav) {
          this.childNavGoTo(this.slideshow.selectedIndex);
        }
      },
      destroy: function() {
        if (this.args.childNav && this.childNavLinks.length) {
          this.childNavLinks.forEach(a => {
            a.classList.remove(classes.isActive);
          });
        }
        this.slideshow.destroy();
      },
      reposition: function() {
        this.slideshow.reposition();
      },
      _togglePause: function() {
        if (this.pauseBtn.classList.contains(classes.isPaused)) {
          this.pauseBtn.classList.remove(classes.isPaused);
          this.slideshow.playPlayer();
        } else {
          this.pauseBtn.classList.add(classes.isPaused);
          this.slideshow.pausePlayer();
        }
      },
      resize: function() {
        this.slideshow.resize();
      },
      play: function() {
        this.slideshow.playPlayer();
      },
      pause: function() {
        this.slideshow.pausePlayer();
      },
      goToSlide: function(i) {
        this.slideshow.select(i);
      },
      setDraggable: function(enable) {
        this.slideshow.options.draggable = enable;
        this.slideshow.updateDraggable();
      },
  
      initChildNav: function() {
        this.childNavLinks[this.args.initialIndex].classList.add('is-active');
  
        // Setup events
        this.childNavLinks.forEach((link, i) => {
          // update data-index because image-set feature may be enabled
          link.setAttribute('data-index', i);
  
          link.addEventListener('click', function(evt) {
            evt.preventDefault();
            this.goToSlide(this.getChildIndex(evt.currentTarget))
          }.bind(this));
          link.addEventListener('focus', function(evt) {
            this.goToSlide(this.getChildIndex(evt.currentTarget))
          }.bind(this));
          link.addEventListener('keydown', function(evt) {
            if (evt.keyCode === 13) {
              this.goToSlide(this.getChildIndex(evt.currentTarget))
            }
          }.bind(this));
        });
  
        // Setup optional arrows
        if (this.arrows.length) {
          this.arrows.forEach(arrow => {
            arrow.addEventListener('click', this.arrowClick.bind(this));
          });;
        }
      },
  
      getChildIndex: function(target) {
        return parseInt(target.dataset.index);
      },
  
      childNavGoTo: function(index) {
        this.childNavLinks.forEach(a => {
          a.blur();
          a.classList.remove(classes.isActive);
        });
  
        var el = this.childNavLinks[index];
        el.classList.add(classes.isActive);
  
        if (!this.args.childNavScroller) {
          return;
        }
  
        if (this.args.childVertical) {
          var elTop = el.offsetTop;
          this.args.childNavScroller.scrollTop = elTop - 100;
        } else {
          var elLeft = el.offsetLeft;
          this.args.childNavScroller.scrollLeft = elLeft - 100;
        }
      },
  
      arrowClick: function(evt) {
        if (evt.currentTarget.classList.contains('product__thumb-arrow--prev')) {
          this.slideshow.previous();
        } else {
          this.slideshow.next();
        }
      }
    });
  
    return slideshow;
  })();
  
  /*============================================================================
    VariantAvailability
    - Cross out sold out or unavailable variants
    - To disable, set dynamicVariantsEnable to false in theme.liquid
    - Required markup:
      - class=variant-input-wrap to wrap select or button group
      - class=variant-input to wrap button/label
  ==============================================================================*/
  
  theme.VariantAvailability = (function() {
    var classes = {
      disabled: 'disabled'
    };
  
    function availability(args) {
      this.type = args.type;
      this.variantsObject = args.variantsObject;
      this.currentVariantObject = args.currentVariantObject;
      this.container = args.container;
      this.namespace = args.namespace;
  
      this.init();
    }
  
    availability.prototype = Object.assign({}, availability.prototype, {
      init: function() {
        this.container.on('variantChange' + this.namespace, this.setAvailability.bind(this));
  
        // Set default state based on current selected variant
        this.setAvailability(null, this.currentVariantObject);
      },
  
      setAvailability: function(evt, variant) {
        if (evt) {
          var variant = evt.detail.variant;
        }
  
        // Object to hold all options by value.
        // This will be what sets a button/dropdown as
        // sold out or unavailable (not a combo set as purchasable)
        var valuesToManage = {
          option1: [],
          option2: [],
          option3: []
        };
  
        var ignoreIndex = null;
        var availableVariants = this.variantsObject.filter(function(el) {
          if (!variant || variant.id === el.id) {
            return false;
          }
  
          if (variant.option2 === el.option2 && variant.option3 === el.option3) {
            return true;
          }
  
          if (variant.option1 === el.option1 && variant.option3 === el.option3) {
            return true;
          }
  
          if (variant.option1 === el.option1 && variant.option2 === el.option2) {
            return true;
          }
        });
  
        var variantObject = {
          variant: variant
        };
  
        var variants = Object.assign({}, {variant}, availableVariants);
  
        // Disable all options to start.
        // If coming from a variant change event, do not disable
        // options inside current index group
        this.container.querySelectorAll('.variant-input-wrap').forEach(group => {
          this.disableVariantGroup(group);
        });
  
        // Loop through each available variant to gather variant values
        for (var property in variants) {
          if (variants.hasOwnProperty(property)) {
            var item = variants[property];
            if (!item) {
              return;
            }
  
            var value1 = item.option1;
            var value2 = item.option2;
            var value3 = item.option3;
            var soldOut = item.available === false;
  
            if (value1 && ignoreIndex !== 'option1') {
              valuesToManage.option1.push({
                value: value1,
                soldOut: soldOut
              });
            }
            if (value2 && ignoreIndex !== 'option2') {
              valuesToManage.option2.push({
                value: value2,
                soldOut: soldOut
              });
            }
            if (value3 && ignoreIndex !== 'option3') {
              valuesToManage.option3.push({
                value: value3,
                soldOut: soldOut
              });
            }
          }
        }
  
        // Loop through all option levels and send each
        // value w/ args to function that determines to show/hide/enable/disable
        for (var [option, values] of Object.entries(valuesToManage)) {
          this.manageOptionState(option, values);
        }
      },
  
      manageOptionState: function(option, values) {
        var group = this.container.querySelector('.variant-input-wrap[data-index="'+ option +'"]');
  
        // Loop through each option value
        values.forEach(obj => {
          this.enableVariantOption(group, obj);
        });
      },
  
      enableVariantOptionByValue: function(array, index) {
        var group = this.container.querySelector('.variant-input-wrap[data-index="'+ index +'"]');
  
        for (var i = 0; i < array.length; i++) {
          this.enableVariantOption(group, array[i]);
        }
      },
  
      enableVariantOption: function(group, obj) {
        // Selecting by value so escape it
        var value = obj.value.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,'\\$1');
  
        if (this.type === 'dropdown') {
          group.querySelector('option[value="'+ value +'"]').disabled = false;
        } else {
          var buttonGroup = group.querySelector('.variant-input[data-value="'+ value +'"]');
          var input = buttonGroup.querySelector('input');
          var label = buttonGroup.querySelector('label');
  
          // Variant exists - enable & show variant
          input.classList.remove(classes.disabled);
          label.classList.remove(classes.disabled);
  
          // Variant sold out - cross out option (remains selectable)
          if (obj.soldOut) {
            input.classList.add(classes.disabled);
            label.classList.add(classes.disabled);
          }
        }
      },
  
      disableVariantGroup: function(group) {
        if (this.type === 'dropdown') {
          group.querySelectorAll('option').forEach(option => {
            option.disabled = true;
          });
        } else {
          group.querySelectorAll('input').forEach(input => {
            input.classList.add(classes.disabled);
          });
          group.querySelectorAll('label').forEach(label => {
            label.classList.add(classes.disabled);
          });
        }
      }
  
    });
  
    return availability;
  })();
  
  // Video modal will auto-initialize for any anchor link that points to YouTube
  // MP4 videos must manually be enabled with:
  //   - .product-video-trigger--mp4 (trigger button)
  //   - .product-video-mp4-sound video player element (cloned into modal)
  //     - see media.liquid for example of this
  theme.videoModal = function() {
    var youtubePlayer;
  
    var videoHolderId = 'VideoHolder';
    var selectors = {
      youtube: 'a[href*="youtube.com/watch"], a[href*="youtu.be/"]',
      mp4Trigger: '.product-video-trigger--mp4',
      mp4Player: '.product-video-mp4-sound'
    };
  
    var youtubeTriggers = document.querySelectorAll(selectors.youtube);
    var mp4Triggers = document.querySelectorAll(selectors.mp4Trigger);
  
    if (!youtubeTriggers.length && !mp4Triggers.length) {
      return;
    }
  
    var videoHolderDiv = document.getElementById(videoHolderId);
  
    if (youtubeTriggers.length) {
      theme.LibraryLoader.load('youtubeSdk');
    }
  
    var modal = new theme.Modals('VideoModal', 'video-modal', {
      closeOffContentClick: true,
      bodyOpenClass: ['modal-open', 'video-modal-open'],
      solid: true
    });
  
    youtubeTriggers.forEach(btn => {
      btn.addEventListener('click', triggerYouTubeModal);
    });
  
    mp4Triggers.forEach(btn => {
      btn.addEventListener('click', triggerMp4Modal);
    });
  
    document.addEventListener('modalClose.VideoModal', closeVideoModal);
  
    function triggerYouTubeModal(evt) {
      // If not already loaded, treat as normal link
      if (!theme.config.youTubeReady) {
        return;
      }
  
      evt.preventDefault();
      emptyVideoHolder();
  
      modal.open(evt);
  
      var videoId = getYoutubeVideoId(evt.currentTarget.getAttribute('href'));
      youtubePlayer = new theme.YouTube(
        videoHolderId,
        {
          videoId: videoId,
          style: 'sound',
          events: {
            onReady: onYoutubeReady
          }
        }
      );
    }
  
    function triggerMp4Modal(evt) {
      emptyVideoHolder();
  
      var el = evt.currentTarget;
      var player = el.parentNode.querySelector(selectors.mp4Player);
  
      // Clone video element and place it in the modal
      var playerClone = player.cloneNode(true);
      playerClone.classList.remove('hide');
  
      videoHolderDiv.append(playerClone);
      modal.open(evt);
  
      // Play new video element
      videoHolderDiv.querySelector('video').play();
    }
  
    function onYoutubeReady(evt) {
      evt.target.unMute();
      evt.target.playVideo();
    }
  
    function getYoutubeVideoId(url) {
      var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
      var match = url.match(regExp);
      return (match&&match[7].length==11)? match[7] : false;
    }
  
    function emptyVideoHolder() {
      videoHolderDiv.innerHTML = '';
    }
  
    function closeVideoModal() {
      if (youtubePlayer && typeof youtubePlayer.destroy === 'function') {
        youtubePlayer.destroy();
      } else {
        emptyVideoHolder();
      }
    }
  };
  
  

  theme.buildProductGridItem = function(items, gridWidth) {
    var output = '';
  
    items.forEach(product => {
      var image = theme.buildPredictiveImage(product);
      var markup = `
        <div class="grid__item ${gridWidth}">
          <a href="${product.url}" class="predictive__result">
            <div class="predictive__result-image">
              ${image}
            </div>
            <div class="predictive__result-meta">
              <div class="grid-product__title">
                ${product.title}
              </div>
            </div>
          </a>
        </div>
      `;
  
      output += markup;
    });
  
    return output;
  }
  
  theme.buildCollectionItem = function(items) {
    var output = '';
  
    items.forEach(collection => {
      var image = theme.buildPredictiveImage(collection);
      var markup = `
        <div class="grid__item medium-up--one-third">
          <a href="${collection.url}" class="predictive__result">
            <div class="predictive__result-image">
              ${image}
            </div>
            <div class="predictive__result-meta">
              <div class="grid-product__title">
                ${collection.title}
              </div>
            </div>
          </a>
        </div>
      `;
  
      output += markup;
    });
  
    return output;
  }
  
  theme.buildPageItem = function(items) {
    var output = '';
  
    items.forEach(page => {
      var markup = `
        <div>
          <a href="${page.url}">
            ${page.title}
          </a>
        </div>
      `;
  
      output += markup;
    });
  
    return output;
  }
  
  theme.buildArticleItem = function(items) {
    var output = '';
  
    items.forEach(article => {
      var image = theme.buildPredictiveImage(article);
      var markup = `
        <div class="grid__item medium-up--one-third">
          <a href="${article.url}" class="predictive__result">
            <div class="predictive__result-image">
              ${image}
            </div>
            <div class="predictive__result-meta">
              ${article.title}
            </div>
          </a>
        </div>
      `;
  
      output += markup;
    });
  
    return output;
  }
  
  theme.buildPredictiveImage = function(obj) {
    var imageMarkup = '';
    if (obj.image) {
      imageMarkup = `<img src="${obj.image}" alt="${obj.title}">`;
    }
    return imageMarkup;
  }
  
  theme.announcementBar = (function() {
    var selectors = {
      bar: '.announcement',
      text: '.announcement__text',
      closeBtn: '.announcement__close'
    };
  
    var classes = {
      opening: 'announcement--opening',
      closed: 'announcement--closed'
    };
  
    var config = {
      namespace: '.announcementBar'
    };
  
    function init() {
      // If no close button, no JS needed
      if (!document.querySelector(selectors.closeBtn)) {
        return;
      }
  
      if (theme.config.hasSessionStorage && sessionStorage[announcementBarText()] !== 'hidden') {
        window.setTimeout(function() {
          announcementBarShow();
        }, 2000);
      }
  
      // Probably in the editor, so show it anyway
      if (!theme.config.hasSessionStorage) {
        window.setTimeout(function() {
          announcementBarShow();
        }, 2000);
      }
  
      document.querySelector(selectors.closeBtn).addEventListener('click', announcementBarClose);
  
      window.on('resize' + config.namespace, theme.utils.debounce(500, announcementBarHeight));
    }
  
    function unload() {
      window.off('resize' + config.namespace);
    }
  
    function announcementBarShow() {
      document.querySelector(selectors.bar).classList.remove(classes.closed);
      announcementBarHeight();
    }
  
    function announcementBarHeight() {
      var barHeight = document.querySelector(selectors.text).clientHeight;
      document.querySelector(selectors.bar).classList.add(classes.opening);
      document.querySelector(selectors.bar).style.maxHeight = barHeight + 'px';
    }
  
    function announcementBarClose() {
      if (theme.config.hasSessionStorage) {
        sessionStorage.setItem(announcementBarText(), 'hidden');
      }
  
      document.querySelector(selectors.bar).classList.add(classes.closed);
    }
  
    function announcementBarText() {
      return document.querySelector(selectors.text).dataset.text;
    }
  
    return {
      init: init,
      unload: unload
    };
  })();
  
  theme.articleImages = function() {
    var wrappers = document.querySelectorAll('.rte--indented-images');
  
    if (!wrappers.length) {
      return;
    }
  
    wrappers.forEach(wrapper => {
      wrapper.querySelectorAll('img').forEach(image => {
        var attr = image.getAttribute('style');
        // Check if undefined for float: none
        if (!attr || attr == 'float: none;') {
          // Remove grid-breaking styles if image is not wider than parent
          if (image.width < wrapper.offsetWidth) {
            image.classList.add('rte__no-indent');
          }
        }
      });
    });
  };
  
  theme.CartDrawer = (function() {
    var selectors = {
      drawer: '#CartDrawer',
      form: '#CartDrawerForm'
    };
  
    function CartDrawer() {
      this.form = document.querySelector(selectors.form);
      this.drawer = new theme.Drawers('CartDrawer', 'cart');
  
      this.init();
    }
  
    CartDrawer.prototype = Object.assign({}, CartDrawer.prototype, {
      init: function() {
        this.cartForm = new theme.CartForm(this.form);
        this.cartForm.buildCart();
  
        document.addEventListener('ajaxProduct:added', function(evt) {
          this.cartForm.buildCart();
          this.open();
        }.bind(this));
  
        // Dev-friendly way to open cart
        document.addEventListener('cart:open', this.open.bind(this));
        document.addEventListener('cart:close', this.close.bind(this));
      },
  
      open: function() {
        this.drawer.open();
      },
  
      close: function() {
        this.drawer.close();
      }
    });
  
    return CartDrawer;
  })();
  
  theme.customerTemplates = function() {
    checkUrlHash();
    initEventListeners();
    resetPasswordSuccess();
    customerAddressForm();
  
    function checkUrlHash() {
      var hash = window.location.hash;
  
      // Allow deep linking to recover password form
      if (hash === '#recover') {
        toggleRecoverPasswordForm();
      }
    }
  
    function toggleRecoverPasswordForm() {
      var passwordForm = document.getElementById('RecoverPasswordForm').classList.toggle('hide');
      var loginForm = document.getElementById('CustomerLoginForm').classList.toggle('hide');
    }
  
    function initEventListeners() {
      // Show reset password form
      var recoverForm = document.getElementById('RecoverPassword');
      if (recoverForm) {
        recoverForm.addEventListener('click', function(evt) {
          evt.preventDefault();
          toggleRecoverPasswordForm();
        });
      }
  
      // Hide reset password form
      var hideRecoverPassword = document.getElementById('HideRecoverPasswordLink');
      if (hideRecoverPassword) {
        hideRecoverPassword.addEventListener('click', function(evt) {
          evt.preventDefault();
          toggleRecoverPasswordForm();
        });
      }
    }
  
    function resetPasswordSuccess() {
      var formState = document.querySelector('.reset-password-success');
  
      // check if reset password form was successfully submitted
      if (!formState) {
        return;
      }
  
      // show success message
      document.getElementById('ResetSuccess').classList.remove('hide');
    }
  
    function customerAddressForm() {
      var newAddressForm = document.getElementById('AddressNewForm');
      var addressForms = document.querySelectorAll('.js-address-form');
  
      if (!newAddressForm || !addressForms.length) {
        return;
      }
  
      // Country/province selector can take a short time to load
      setTimeout(function() {
        document.querySelectorAll('.js-address-country').forEach(el => {
          var countryId = el.dataset.countryId;
          var provinceId = el.dataset.provinceId;
          var provinceContainerId = el.dataset.provinceContainerId;
  
          new Shopify.CountryProvinceSelector(
            countryId,
            provinceId,
            {
              hideElement: provinceContainerId
            }
          );
        });
      }, 1000);
  
      // Toggle new/edit address forms
      document.querySelectorAll('.address-new-toggle').forEach(el => {
        el.addEventListener('click', function() {
          newAddressForm.classList.toggle('hide');
        });
      });
  
      document.querySelectorAll('.address-edit-toggle').forEach(el => {
        el.addEventListener('click', function(evt) {
          var formId = evt.currentTarget.dataset.formId;
          document.getElementById('EditAddress_' + formId).classList.toggle('hide');
        });
      });
  
      document.querySelectorAll('.address-delete').forEach(el => {
        el.addEventListener('click', function(evt) {
          var formId = evt.currentTarget.dataset.formId;
          var confirmMessage = evt.currentTarget.dataset.confirmMessage;
  
          if (confirm(confirmMessage || 'Are you sure you wish to delete this address?')) {
            if (Shopify) {
              Shopify.postLink('/account/addresses/' + formId, {parameters: {_method: 'delete'}});
            }
          }
        })
      });
    }
  };
  
  theme.headerNav = (function() {
    var selectors = {
      wrapper: '#HeaderWrapper',
      siteHeader: '#SiteHeader',
      searchBtn: '.js-search-header',
      closeSearch: '#SearchClose',
      searchContainer: '.site-header__search-container',
      logo: '#LogoContainer img',
      navItems: '.site-nav__item',
      navLinks: '.site-nav__link',
      navDropdown: '.site-nav__dropdown',
      navLinksWithDropdown: '.site-nav__link--has-dropdown',
      navDropdownLinks: '.site-nav__dropdown-link--second-level'
    };
  
    var classes = {
      hasDropdownClass: 'site-nav--has-dropdown',
      hasSubDropdownClass: 'site-nav__deep-dropdown-trigger',
      dropdownActive: 'is-focused'
    };
  
    var config = {
      namespace: '.siteNav',
      wrapperOverlayed: false,
      overlayedClass: 'is-light',
      overlayEnabledClass: 'header-wrapper--overlay',
      stickyEnabled: false,
      stickyActive: false,
      stickyClass: 'site-header--stuck',
      stickyHeaderWrapper: 'StickyHeaderWrap',
      openTransitionClass: 'site-header--opening',
      lastScroll: 0
    };
  
    // Elements used in resize functions, defined in init
    var wrapper;
    var siteHeader;
  
    function init() {
      wrapper = document.querySelector(selectors.wrapper);
      siteHeader = document.querySelector(selectors.siteHeader);
  
      config.stickyEnabled = (siteHeader.dataset.sticky === 'true');
      if (config.stickyEnabled) {
        config.wrapperOverlayed = wrapper.classList.contains(config.overlayedClass);
        stickyHeader();
      }
  
      theme.settings.overlayHeader = (siteHeader.dataset.overlay === 'true');
      // Disable overlay header if on collection template with no collection image
      if (theme.settings.overlayHeader && Shopify && Shopify.designMode) {
        if (document.body.classList.contains('template-collection') && !document.querySelector('.collection-hero')) {
          this.disableOverlayHeader();
        }
      }
  
      accessibleDropdowns();
      searchDrawer();
  
      window.on('load' + config.namespace, resizeLogo);
      window.on('resize' + config.namespace, theme.utils.debounce(150, resizeLogo));
    }
  
    // If the header setting to overlay the menu on the collection image
    // is enabled but the collection setting is disabled, we need to undo
    // the init of the sticky nav
    function disableOverlayHeader() {
      wrapper.classList.remove(config.overlayEnabledClass);
      wrapper.classList.remove(config.overlayedClass);
      config.wrapperOverlayed = false;
    }
  
    function stickyHeader() {
      config.lastScroll = 0;
  
      var wrapWith = document.createElement('div');
      wrapWith.id = config.stickyHeaderWrapper;
      theme.utils.wrap(siteHeader, wrapWith);
  
      stickyHeaderHeight();
  
      window.on('resize' + config.namespace, theme.utils.debounce(50, stickyHeaderHeight));
      window.on('scroll' + config.namespace, theme.utils.throttle(20, stickyHeaderScroll));
  
      // This gets messed up in the editor, so here's a fix
      if (Shopify && Shopify.designMode) {
        setTimeout(function() {
          stickyHeaderHeight();
        }, 250);
      }
    }
  
    function stickyHeaderHeight() {
      if (!config.stickyEnabled) {
        return;
      }
  
      var h = siteHeader.offsetHeight;
      var stickyHeader = document.querySelector('#' + config.stickyHeaderWrapper);
      stickyHeader.style.height = h + 'px';
    }
  
    function stickyHeaderScroll() {
      if (!config.stickyEnabled) {
        return;
      }
  
      requestAnimationFrame(scrollHandler);
  
      config.lastScroll = window.scrollY;
    }
  
    function scrollHandler() {
      if (window.scrollY > 250) {
        if (config.stickyActive) {
          return;
        }
  
        config.stickyActive = true;
  
        siteHeader.classList.add(config.stickyClass);
        if (config.wrapperOverlayed) {
          wrapper.classList.remove(config.overlayedClass);
        }
  
        // Add open transition class after element is set to fixed
        // so CSS animation is applied correctly
        setTimeout(function() {
          siteHeader.classList.add(config.openTransitionClass);
        }, 100);
      } else {
        if (!config.stickyActive) {
          return;
        }
  
        config.stickyActive = false;
  
        siteHeader.classList.remove(config.openTransitionClass);
        siteHeader.classList.remove(config.stickyClass);
        if (config.wrapperOverlayed) {
          wrapper.classList.add(config.overlayedClass);
        }
      }
    }
  
    function accessibleDropdowns() {
      var hasActiveDropdown = false;
      var hasActiveSubDropdown = false;
      var closeOnClickActive = false;
  
      // Touch devices open dropdown on first click, navigate to link on second
      if (theme.config.isTouch) {
        document.querySelectorAll(selectors.navLinksWithDropdown).forEach(el => {
          el.on('touchend' + config.namespace, function(evt) {
            var parent = evt.currentTarget.parentNode;
            if (!parent.classList.contains(classes.dropdownActive)) {
              evt.preventDefault();
              closeDropdowns();
              openFirstLevelDropdown(evt.currentTarget);
            } else {
              window.location.replace(evt.currentTarget.getAttribute('href'));
            }
          });
        });
      }
  
      // Open/hide top level dropdowns
      document.querySelectorAll(selectors.navLinks).forEach(el => {
        el.on('focusin' + config.namespace, accessibleMouseEvent);
        el.on('mouseover' + config.namespace, accessibleMouseEvent);
        el.on('mouseleave' + config.namespace, closeDropdowns);
      });
  
      document.querySelectorAll(selectors.navDropdownLinks).forEach(el => {
        if (theme.config.isTouch) {
          el.on('touchend' + config.namespace, function(evt) {
            var parent = evt.currentTarget.parentNode;
  
            // Open third level menu or go to link based on active state
            if (parent.classList.contains(classes.hasSubDropdownClass)) {
              if (!parent.classList.contains(classes.dropdownActive)) {
                evt.preventDefault();
                closeThirdLevelDropdown();
                openSecondLevelDropdown(evt.currentTarget);
              } else {
                window.location.replace(evt.currentTarget.getAttribute('href'));
              }
            } else {
              // No third level nav, go to link
              window.location.replace(evt.currentTarget.getAttribute('href'));
            }
          });
        }
  
        // Open/hide sub level dropdowns
        el.on('focusin' + config.namespace, function(evt) {
          closeThirdLevelDropdown();
          openSecondLevelDropdown(evt.currentTarget, true);
        })
      });
  
      // Clicking outside of the dropdown should close it
      if (theme.config.isTouch) {
        document.body.on('touchend' + config.namespace, function() {
          closeDropdowns();
        });
  
        // Exception to above: clicking anywhere on the dropdown content will NOT close it
        siteHeader.querySelectorAll(selectors.navDropdown).forEach(el => {
          el.on('touchend' + config.namespace, function(evt) {
            evt.stopImmediatePropagation();
          });
        });
      }
  
      function accessibleMouseEvent(evt) {
        if (hasActiveDropdown) {
          closeSecondLevelDropdown();
        }
  
        if (hasActiveSubDropdown) {
          closeThirdLevelDropdown();
        }
  
        openFirstLevelDropdown(evt.currentTarget);
      }
  
      // Private dropdown functions
      function openFirstLevelDropdown(el) {
        var parent = el.parentNode;
        if (parent.classList.contains(classes.hasDropdownClass)) {
          parent.classList.add(classes.dropdownActive);
          hasActiveDropdown = true;
        }
  
        if (!theme.config.isTouch) {
          if (!closeOnClickActive) {
            var eventType = theme.config.isTouch ? 'touchend' : 'click';
            closeOnClickActive = true;
            document.documentElement.on(eventType + config.namespace, function() {
              closeDropdowns();
              document.documentElement.off(eventType + config.namespace);
              closeOnClickActive = false;
            }.bind(this));
          }
        }
      }
  
      function openSecondLevelDropdown(el, skipCheck) {
        var parent = el.parentNode;
        if (parent.classList.contains(classes.hasSubDropdownClass) || skipCheck) {
          parent.classList.add(classes.dropdownActive);
          hasActiveSubDropdown = true;
        }
      }
  
      function closeDropdowns() {
        closeSecondLevelDropdown();
        closeThirdLevelDropdown();
      }
  
      function closeSecondLevelDropdown() {
        document.querySelectorAll(selectors.navItems).forEach(el => {
          el.classList.remove(classes.dropdownActive)
        });
      }
  
      function closeThirdLevelDropdown() {
        document.querySelectorAll(selectors.navDropdownLinks).forEach(el => {
          el.parentNode.classList.remove(classes.dropdownActive);
        });
      }
    }
  
    function searchDrawer() {
      document.querySelectorAll(selectors.searchBtn).forEach(btn => {
        btn.addEventListener('click', openSearchDrawer);
      });
  
      document.querySelector(selectors.closeSearch).addEventListener('click', closeSearchDrawer);
    }
  
    function openSearchDrawer(evt) {
      evt.preventDefault();
      evt.stopImmediatePropagation();
      var container = document.querySelector(selectors.searchContainer);
      theme.utils.prepareTransition(container, function() {
        container.classList.add('is-active');
      }.bind(this));
  
      document.documentElement.classList.add('js-drawer-open', 'js-drawer-open--search');
  
      setTimeout(function() {
        theme.a11y.trapFocus({
          container: container,
          namespace: 'header_search',
          elementToFocus: container.querySelector('.site-header__search-input')
        });
      }, 100);
  
      // If sticky is enabled, scroll to top on mobile when close to it
      // so you don't get an invisible search box
      if (theme.config.bpSmall && config.stickyEnabled && config.lastScroll < 300) {
        window.scrollTo(0,0);
      }
  
      // Bind events
      theme.a11y.lockMobileScrolling(config.namespace);
  
      bindSearchEvents();
    }
  
    function closeSearchDrawer(evt) {
      // Do not close if click event came from inside drawer
      if (evt) {
        // evt.path is non-standard, so have fallback
        var path = evt.path || (evt.composedPath && evt.composedPath());
        for (var i = 0; i < path.length; i++) {
          if (path[i].classList) {
            if (path[i].classList.contains('site-header__search-btn')) {
              break;
            }
  
            if (path[i].classList.contains('site-header__search-container')) {
              return;
            }
          }
        }
      }
  
      // deselect any focused form elements
      document.activeElement.blur();
  
      document.documentElement.classList.add('js-drawer-closing');
      document.documentElement.classList.remove('js-drawer-open', 'js-drawer-open--search');
  
      window.setTimeout(function() {
        document.documentElement.classList.remove('js-drawer-closing');
      }.bind(this), 500);
  
      var container = document.querySelector(selectors.searchContainer);
      theme.utils.prepareTransition(container, function() {
        container.classList.remove('is-active');
      }.bind(this));
  
      theme.a11y.removeTrapFocus({
        container: container,
        namespace: 'header_search'
      });
  
      theme.a11y.unlockMobileScrolling(config.namespace);
  
      unbindSearchEvents();
    }
  
    function bindSearchEvents() {
      window.on('keyup' + config.namespace, function(evt) {
        if (evt.keyCode === 27) {
          closeSearchDrawer();
        }
      }.bind(this));
  
      // Clicking out of container closes it
      document.documentElement.on('click' + config.namespace, function(evt) {
        closeSearchDrawer(evt);
      }.bind(this));
    }
  
    function unbindSearchEvents() {
      window.off('keyup' + config.namespace);
      document.documentElement.off('click' + config.namespace);
    }
  
    function resizeLogo(evt) {
      document.querySelectorAll(selectors.logo).forEach(logo => {
        var logoWidthOnScreen = logo.clientWidth;
        var containerWidth = logo.closest('.header-item').clientWidth;
  
        // If image exceeds container, let's make it smaller
        if (logoWidthOnScreen > containerWidth) {
          logo.style.maxWidth = containerWidth;
        }
        else {
          logo.removeAttribute('style')
        }
      });
    }
  
    return {
      init: init,
      disableOverlayHeader: disableOverlayHeader
    };
  })();
  
  theme.predictiveSearch = (function() {
    var currentString = '';
    var isLoading = false;
    var searchTimeout;
    var namespace = '.predictive';
  
    var selectors = {
      form: '#HeaderSearchForm',
      input: 'input[type="search"]',
      wrapper: '#PredictiveWrapper',
      resultDiv: '#PredictiveResults',
      searchButton: '[data-predictive-search-button]'
    };
  
    var cache = {};
  
    var classes = {
      isActive: 'predicitive-active'
    };
  
    var keys = {
      up_arrow: 38,
      down_arrow: 40,
      tab: 9
    };
  
    function init() {
      // Only some languages support predictive search
      if (document.getElementById('shopify-features')) {
        var supportedShopifyFeatures = JSON.parse(document.getElementById('shopify-features').innerHTML);
        if (!supportedShopifyFeatures.predictiveSearch) {
          return;
        }
      }
  
      cache.wrapper = document.querySelector(selectors.wrapper);
  
      if (!cache.wrapper) {
        return;
      }
  
      cache.form = document.querySelector(selectors.form);
      cache.form.setAttribute('autocomplete', 'off');
      cache.form.on('submit' + namespace, submitSearch);
  
      cache.input = cache.form.querySelector(selectors.input);
      cache.input.on('keyup' + namespace, handleKeyup);
  
      cache.submit = cache.wrapper.querySelector(selectors.searchButton);
      cache.submit.on('click' + namespace, triggerSearch);
  
      cache.results = document.querySelector(selectors.resultDiv);
    }
  
    function reset() {
      cache.wrapper.classList.add('hide');
      cache.results.innerHTML = '';
      clearTimeout(searchTimeout);
    }
  
    function triggerSearch() {
      cache.form.submit();
    }
  
    // Append * wildcard to search
    function submitSearch(evt) {
      evt.preventDefault ? evt.preventDefault() : evt.returnValue = false;
  
      var obj = {};
      var formData = new FormData(evt.target);
      for (var key of formData.keys()) {
        obj[key] = formData.get(key);
      }
  
      if (obj.q) {
        obj.q += '*';
      }
  
      var params = paramUrl(obj);
  
      window.location.href = `${theme.routes.search}?${params}`;
      return false;
    }
  
    function handleKeyup(evt) {
      if (evt.keyCode === keys.up_arrow) {
        return;
      }
  
      if (evt.keyCode === keys.down_arrow) {
        return;
      }
  
      if (evt.keyCode === keys.tab) {
        return;
      }
  
      search();
    }
  
    function search() {
      var keyword = cache.input.value;
  
      if (keyword === '') {
        reset();
        return;
      }
  
      var q = _normalizeQuery(keyword);
  
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(
        function () {
          predictQuery(q);
        }.bind(this),
        500
      );
    }
  
    function predictQuery(q) {
      if (isLoading) {
        return;
      }
  
      // Do not re-search the same thing
      if (currentString === q) {
        return;
      }
  
      currentString = q;
      isLoading = true;
  
      var searchObj = {
        'q': q,
        'resources[type]': theme.settings.predictiveSearchType,
        'resources[limit]': 3,
        'resources[options][unavailable_products]': 'last',
        'resources[options][fields]': 'title,product_type,variants.title,vendor'
      };
  
      var params = paramUrl(searchObj);
  
      fetch('/search/suggest.json?' + params)
      .then(response => response.json())
      .then(suggestions => {
        isLoading = false;
        var data = {};
        var resultCount = 0;
  
        cache.wrapper.classList.remove('hide');
        var resultTypes = Object.entries(suggestions.resources.results);
  
        Object.keys(resultTypes).forEach(function (i) {
          var obj = resultTypes[i];
          var type = obj[0];
          var results = obj[1];
          resultCount += results.length;
  
          switch(type) {
            case 'products':
              data[type] = buildProducts(results);
              break;
            case 'collections':
              data[type] = buildCollections(results);
              break;
            case 'pages':
              data[type] = buildPages(results);
              break;
            case 'articles':
              data[type] = buildArticles(results);
              break;
          }
        });
  
        if (resultCount === 0) {
          reset();
          return;
        }
  
        // Build and append result markup
        var output = buildOutput(data);
        cache.results.innerHTML = '';
        cache.results.innerHTML = output;
      });
    }
  
    function buildProducts(results) {
      var output = '';
      var products = [];
  
      results.forEach(product => {
        var new_product = {
          title: product.title,
          url: product.url,
          image: theme.Images.getSizedImageUrl(product.image, '200x200_crop_center')
        };
  
        products.push(new_product);
      });
  
      if (products.length) {
        var markup = theme.buildProductGridItem(products, 'medium-up--one-third');
  
        output = `
          <div data-type-products>
            <div class="grid grid--small">
              ${markup}
            </div>
          </div>
        `;
      }
  
      return output;
    }
  
    function buildCollections(results) {
      var output = '';
      var collections = [];
  
      results.forEach(collection => {
        var new_collection = {
          title: collection.title,
          url: collection.url
        };
  
        if (collection.featured_image.url) {
          new_collection.image = theme.Images.getSizedImageUrl(collection.featured_image.url, '200x200_crop_center');
        }
  
        collections.push(new_collection);
      });
  
      if (collections.length) {
        var markup = theme.buildCollectionItem(collections);
  
        output = `
          <div data-type-collections>
            <p class="h6 predictive__label">${theme.strings.searchCollections}</p>
            <div class="grid grid--small">
              ${markup}
            </div>
          </div>
        `;
      }
  
      return output;
    }
  
    function buildPages(pages) {
      var output = '';
  
      if (pages.length) {
        var markup = theme.buildPageItem(pages);
  
        output = `
          <div data-type-pages>
            <p class="h6 predictive__label">${theme.strings.searchPages}</p>
            ${markup}
          </div>
        `;
      }
  
      return output;
    }
  
    // Overwrite full sized image returned form API
    // with lazyloading-friendly path
    function buildArticles(articles) {
      var output = '';
  
      articles.forEach(article => {
        if (article.image) {
          article.image = theme.Images.getSizedImageUrl(article.image, '200x200_crop_center');
        }
      });
  
      if (articles.length) {
        var markup = theme.buildArticleItem(articles);
  
        output = `
          <div data-type-articles>
            <p class="h6 predictive__label">${theme.strings.searchArticles}</p>
            <div class="grid grid--uniform">
              ${markup}
            </div>
          </div>
        `;
      }
  
      return output;
    }
  
    // Combine all search result markup and print to page
    function buildOutput(data) {
      var output = '';
  
      if (data.products && data.products !== '') {
        output += data.products;
      }
  
      if (data.collections && data.collections !== '') {
        output += data.collections;
      }
  
      if (data.pages && data.pages !== '') {
        output += data.pages;
      }
  
      if (data.articles && data.articles !== '') {
        output += data.articles;
      }
  
      return output;
    }
  
    function _normalizeQuery(string) {
      if (typeof string !== 'string') {
        return null;
      }
  
      return string
        .trim()
        .replace(/\ /g, '-')
        .toLowerCase();
    }
  
    function paramUrl(obj) {
      return Object.keys(obj).map(function(key) {
        return key + '=' + encodeURIComponent(obj[key]);
      }).join('&')
    }
  
    return {
      init: init
    };
  })();
  

  theme.Maps = (function() {
    var config = {
      zoom: 14
    };
    var apiStatus = null;
    var mapsToLoad = [];
  
    var errors = {};
  
    var selectors = {
      section: '[data-section-type="map"]',
      map: '[data-map]',
      mapOverlay: '.map-section__overlay'
    };
  
    // Global function called by Google on auth errors.
    // Show an auto error message on all map instances.
    window.gm_authFailure = function() {
      if (!Shopify.designMode) {
        return;
      }
  
      document.querySelectorAll(selectors.section).forEach(section => {
        section.classList.add('map-section--load-error');
      });
  
      document.querySelectorAll(selectors.map).forEach(map => {
        map.parentNode.removeChild(map);
      });
  
      window.mapError(theme.strings.authError);
    };
  
    window.mapError = function(error) {
      var message = document.createElement('div');
      message.classList.add('map-section__error', 'errors', 'text-center');
      message.innerHTML = error;
      document.querySelectorAll(selectors.mapOverlay).forEach(overlay => {
        overlay.parentNode.prepend(message);
      });
      document.querySelectorAll('.map-section__link').forEach(link => {
        link.classList.add('hide');
      });
    };
  
    function Map(container) {
      this.container = container;
      this.sectionId = this.container.getAttribute('data-section-id');
      this.namespace = '.map-' + this.sectionId;
      this.map = container.querySelector(selectors.map);
      this.key = this.map.dataset.apiKey;
  
      errors = {
        addressNoResults: theme.strings.addressNoResults,
        addressQueryLimit: theme.strings.addressQueryLimit,
        addressError: theme.strings.addressError,
        authError: theme.strings.authError
      };
  
      if (!this.key) {
        return;
      }
  
      theme.initWhenVisible({
        element: this.container,
        callback: this.prepMapApi.bind(this),
        threshold: 20
      });
    }
  
    // API has loaded, load all Map instances in queue
    function initAllMaps() {
      mapsToLoad.forEach(instance => {
        instance.createMap();
      });
    }
  
    function geolocate(map) {
      var geocoder = new google.maps.Geocoder();
  
      if (!map) {
        return;
      }
  
      var address = map.dataset.addressSetting;
  
      var deferred = new Promise((resolve, reject) => {
        geocoder.geocode({ address: address }, function(results, status) {
          if (status !== google.maps.GeocoderStatus.OK) {
            reject(status);
          }
          resolve(results);
        });
      });
  
      return deferred;
    }
  
    Map.prototype = Object.assign({}, Map.prototype, {
      prepMapApi: function() {
        if (apiStatus === 'loaded') {
          this.createMap();
        } else {
          mapsToLoad.push(this);
  
          if (apiStatus !== 'loading') {
            apiStatus = 'loading';
            if (typeof window.google === 'undefined' || typeof window.google.maps === 'undefined' ) {
  
              var script = document.createElement('script');
              script.onload = function () {
                apiStatus = 'loaded';
                initAllMaps();
              };
              script.src = 'https://maps.googleapis.com/maps/api/js?key=' + this.key;
              document.head.appendChild(script);
            }
          }
        }
      },
  
      createMap: function() {
        var mapDiv = this.map;
  
        return geolocate(mapDiv)
          .then(
            function(results) {
              var mapOptions = {
                zoom: config.zoom,
                backgroundColor: 'none',
                center: results[0].geometry.location,
                draggable: false,
                clickableIcons: false,
                scrollwheel: false,
                disableDoubleClickZoom: true,
                disableDefaultUI: true
              };
  
              var map = (this.map = new google.maps.Map(mapDiv, mapOptions));
              var center = (this.center = map.getCenter());
  
              var marker = new google.maps.Marker({
                map: map,
                position: map.getCenter()
              });
  
              google.maps.event.addDomListener(
                window,
                'resize',
                theme.utils.debounce(250, function() {
                  google.maps.event.trigger(map, 'resize');
                  map.setCenter(center);
                  mapDiv.removeAttribute('style');
                })
              );
  
              if (Shopify.designMode) {
                if (window.AOS) { AOS.refreshHard() }
              }
            }.bind(this)
          )
          .catch(function(status) {
            var errorMessage;
  
            switch (status) {
              case 'ZERO_RESULTS':
                errorMessage = errors.addressNoResults;
                break;
              case 'OVER_QUERY_LIMIT':
                errorMessage = errors.addressQueryLimit;
                break;
              case 'REQUEST_DENIED':
                errorMessage = errors.authError;
                break;
              default:
                errorMessage = errors.addressError;
                break;
            }
  
            // Show errors only to merchant in the editor.
            if (Shopify.designMode) {
              window.mapError(errorMessage);
            }
          });
      },
  
      onUnload: function() {
        if (this.map.length === 0) {
          return;
        }
        // Causes a harmless JS error when a section without an active map is reloaded
        if (google && google.maps && google.maps.event) {
          google.maps.event.clearListeners(this.map, 'resize');
        }
      }
    });
  
    return Map;
  })();
  
  theme.NewsletterPopup = (function() {
    function NewsletterPopup(container) {
      this.container = container;
      var sectionId = this.container.getAttribute('data-section-id');
      this.cookieName = 'newsletter-' + sectionId;
  
      if (!container) {
        return;
      }
  
      // Prevent popup on Shopify robot challenge page
      if (window.location.pathname === '/challenge') {
        return;
      }
  
      // Prevent popup on password page
      if (window.location.pathname === '/password') {
        return;
      }
  
      this.data = {
        secondsBeforeShow: container.dataset.delaySeconds,
        daysBeforeReappear: container.dataset.delayDays,
        cookie: Cookies.get(this.cookieName),
        testMode: container.dataset.testMode
      };
  
      this.modal = new theme.Modals('NewsletterPopup-' + sectionId, 'newsletter-popup-modal');
  
      // Set cookie if optional button is clicked
      var btn = container.querySelector('.popup-cta a');
      if (btn) {
        btn.addEventListener('click', function(){
          this.closePopup(true);
        }.bind(this));
      }
  
      // Open modal if errors or success message exist
      if (container.querySelector('.errors') || container.querySelector('.note--success')) {
        this.modal.open();
      }
  
      // Set cookie as opened if success message
      if (container.querySelector('.note--success')) {
        this.closePopup(true);
        return;
      }
  
      document.addEventListener('modalClose.' + container.id, this.closePopup.bind(this));
  
      if (!this.data.cookie || this.data.testMode === 'true') {
        this.initPopupDelay();
      }
    }
  
    NewsletterPopup.prototype = Object.assign({}, NewsletterPopup.prototype, {
      initPopupDelay: function() {
        if (Shopify && Shopify.designMode) {
          return;
        }
        setTimeout(function() {
          this.modal.open();
        }.bind(this), this.data.secondsBeforeShow * 1000);
      },
  
      closePopup: function(success) {
        // Remove a cookie in case it was set in test mode
        if (this.data.testMode === 'true') {
          Cookies.remove(this.cookieName, { path: '/' });
          return;
        }
  
        var expiry = success ? 200 : this.data.daysBeforeReappear;
        Cookies.set(this.cookieName, 'opened', { path: '/', expires: expiry });
      },
  
      onLoad: function() {
        this.modal.open();
      },
  
      onSelect: function() {
        this.modal.open();
      },
  
      onDeselect: function() {
        this.modal.close();
      }
    });
  
    return NewsletterPopup;
  })();
  
  theme.PasswordHeader = (function() {
    function PasswordHeader() {
      this.init();
    }
  
    PasswordHeader.prototype = Object.assign({}, PasswordHeader.prototype, {
      init: function() {
        if (!document.querySelector('#LoginModal')) {
          return;
        }
  
        var passwordModal = new theme.Modals('LoginModal', 'login-modal', {
          focusIdOnOpen: 'password',
          solid: true
        });
  
        // Open modal if errors exist
        if (document.querySelectorAll('.errors').length) {
          passwordModal.open();
        }
      }
    });
  
    return PasswordHeader;
  })();
  
  theme.Photoswipe = (function() {
    var selectors = {
      trigger: '.js-photoswipe__zoom',
      images: '.photoswipe__image',
      slideshowTrack: '.flickity-viewport ',
      activeImage: '.is-selected'
    };
  
    function Photoswipe(container, sectionId) {
      this.container = container;
      this.sectionId = sectionId;
      this.namespace = '.photoswipe-' + this.sectionId;
      this.gallery;
      this.images;
      this.items;
      this.inSlideshow = false;
  
      if (!container || container.dataset.zoom === 'false') {
        return;
      }
  
      if (container.dataset.hasSlideshow === 'true') {
        this.inSlideshow = true;
      }
  
      this.init();
    }
  
    Photoswipe.prototype = Object.assign({}, Photoswipe.prototype, {
      init: function() {
        this.container.querySelectorAll(selectors.trigger).forEach(trigger => {
          trigger.on('click' + this.namespace, this.triggerClick.bind(this));
        });
      },
  
      triggerClick: function(evt) {
        this.items = this.getImageData();
  
        var image = this.inSlideshow ? this.container.querySelector(selectors.activeImage) : evt.currentTarget;
  
        var index = this.inSlideshow ? this.getChildIndex(image) : image.dataset.index;
  
        this.initGallery(this.items, index);
      },
  
      // Because of image set feature, need to get index based on location in parent
      getChildIndex: function(el) {
        var i = 0;
        while( (el = el.previousSibling) != null ) {
          i++;
        }
  
        // 1-based index required
        return i + 1;
      },
  
      getImageData: function() {
        this.images = this.inSlideshow
                        ? this.container.querySelectorAll(selectors.slideshowTrack + selectors.images)
                        : this.container.querySelectorAll(selectors.images);
  
        var items = [];
        var options = {};
  
        this.images.forEach(el => {
          var item = {
            msrc: el.currentSrc || el.src,
            src: el.getAttribute('data-photoswipe-src'),
            w: el.getAttribute('data-photoswipe-width'),
            h: el.getAttribute('data-photoswipe-height'),
            el: el,
            initialZoomLevel: 0.5
          }
  
          items.push(item);
        });
  
        return items;
      },
  
      initGallery: function(items, index) {
        var pswpElement = document.querySelectorAll('.pswp')[0];
  
        var options = {
          allowPanToNext: false,
          captionEl: false,
          closeOnScroll: false,
          counterEl: false,
          history: false,
          index: index - 1,
          pinchToClose: false,
          preloaderEl: false,
          scaleMode: 'zoom',
          shareEl: false,
          tapToToggleControls: false,
          getThumbBoundsFn: function(index) {
            var pageYScroll = window.pageYOffset || document.documentElement.scrollTop;
            var thumbnail = items[index].el;
            var rect = thumbnail.getBoundingClientRect();
            return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
          }
        }
  
        this.gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
        this.gallery.listen('afterChange', this.afterChange.bind(this));
        this.gallery.init();
  
        this.preventiOS15Scrolling();
      },
  
      afterChange: function() {
        var index = this.gallery.getCurrentIndex();
        this.container.dispatchEvent(new CustomEvent('photoswipe:afterChange', {
          detail: {
            index: index
          }
        }));
      },
  
      syncHeight: function() {
        document.documentElement.style.setProperty(
          "--window-inner-height", 
          `${window.innerHeight}px`
        );
      },
  
      // Fix poached from https://gist.github.com/dimsemenov/0b8c255c0d87f2989e8ab876073534ea
      preventiOS15Scrolling: function() {
        let initialScrollPos;
  
        if (!/iPhone|iPad|iPod/i.test(window.navigator.userAgent)) return; 
        
        this.syncHeight();
              
        // Store scroll position to restore it later
        initialScrollPos = window.scrollY;
        
        // Add class to root element when PhotoSwipe opens
        document.documentElement.classList.add('pswp-open-in-ios');
  
        window.addEventListener('resize', this.syncHeight);
      
        this.gallery.listen('destroy', () => {
          document.documentElement.classList.remove('pswp-open-in-ios');
          window.scrollTo(0, initialScrollPos);
        });
      }
    });
  
    return Photoswipe;
  })();
  
  
  theme.Recommendations = (function() {
    var selectors = {
      placeholder: '.product-recommendations-placeholder',
      sectionClass: ' .product-recommendations',
      productResults: '.grid-product'
    }
  
    function Recommendations(container) {
      this.container = container;
      this.sectionId = container.getAttribute('data-section-id');
      this.url = container.dataset.url;
  
      selectors.recommendations = 'Recommendations-' + this.sectionId;
  
      theme.initWhenVisible({
        element: container,
        callback: this.init.bind(this),
        threshold: 500
      });
    }
  
    Recommendations.prototype = Object.assign({}, Recommendations.prototype, {
      init: function() {
        var section = document.getElementById(selectors.recommendations);
  
        if (!section || section.dataset.enable === 'false') {
          return;
        }
  
        var id = section.dataset.productId;
        var limit = section.dataset.limit;
  
        var url = this.url + '?section_id=product-recommendations&limit='+ limit +'&product_id=' + id;
  
        // When section his hidden and shown, make sure it starts empty
        if (Shopify.designMode) {
          var wrapper = section.querySelector(selectors.sectionClass)
          if (wrapper) {
            wrapper.innerHTML = '';
          }
        }
  
        fetch(url).then(function(response) {
          return response.text();
        }).then(function(html) {
          // Convert the HTML string into a document object
          var parser = new DOMParser();
          var doc = parser.parseFromString(html, 'text/html');
          var div = doc.querySelector(selectors.sectionClass);
          var placeholder = section.querySelector(selectors.placeholder);
          if (!placeholder) {
            return;
          }
  
          placeholder.innerHTML = '';
  
          if (!div) {
            this.container.classList.add('hide');
            if (AOS) { AOS.refreshHard() }
            return;
          }
  
          placeholder.appendChild(div);
  
          theme.reinitProductGridItem(section);
  
          document.dispatchEvent(new CustomEvent('recommendations:loaded', {
            detail: {
              section: section
            }
          }));
  
          // If no results, hide the entire section
          var results = div.querySelectorAll(selectors.productResults);
          if (results.length === 0) {
            this.container.classList.add('hide');
          }
        }.bind(this));
      }
    });
  
    return Recommendations;
  })();
  
  theme.SlideshowSection = (function() {
  
    var selectors = {
      parallaxContainer: '.parallax-container'
    };
  
    function SlideshowSection(container) {
      this.container = container;
      var sectionId = container.getAttribute('data-section-id');
      this.slideshow = container.querySelector('#Slideshow-' + sectionId);
      this.namespace = '.' + sectionId;
  
      this.initialIndex = 0;
  
      if (!this.slideshow) { return }
  
      // Get shopify-created div that section markup lives in,
      // then get index of it inside its parent
      var sectionEl = container.parentElement;
      var sectionIndex = [].indexOf.call(sectionEl.parentElement.children, sectionEl);
  
      if (sectionIndex === 0) {
        this.init();
      } else {
        theme.initWhenVisible({
          element: this.container,
          callback: this.init.bind(this)
        });
      }
  
    }
  
    SlideshowSection.prototype = Object.assign({}, SlideshowSection.prototype, {
      init: function() {
        var slides = this.slideshow.querySelectorAll('.slideshow__slide');
  
        if (this.container.hasAttribute('data-immediate-load')) {
          this.slideshow.classList.remove('loading', 'loading--delayed');
          this.slideshow.classList.add('loaded');
        } else {
          // Wait for image to load before marking as done
          theme.loadImageSection(this.slideshow);
        }
  
        if (slides.length > 1) {
          var sliderArgs = {
            prevNextButtons: this.slideshow.hasAttribute('data-arrows'),
            pageDots: this.slideshow.hasAttribute('data-dots'),
            fade: true,
            setGallerySize: false,
            initialIndex: this.initialIndex,
            autoPlay: this.slideshow.dataset.autoplay === 'true'
              ? parseInt(this.slideshow.dataset.speed)
              : false
          };
  
          this.flickity = new theme.Slideshow(this.slideshow, sliderArgs);
        } else {
          // Add loaded class to first slide
          slides[0].classList.add('is-selected');
        }
  
        if (this.container.hasAttribute('data-parallax')) {
          // Create new parallax for each slideshow image
          this.container.querySelectorAll(selectors.parallaxContainer).forEach(function(el, i) {
            new theme.Parallax(el, {
              namespace: this.namespace + '-parallax-' + i
            });
          }.bind(this));
        }
      },
  
      forceReload: function() {
        this.onUnload();
        this.init();
      },
  
      onUnload: function() {
        if (this.flickity && typeof this.flickity.destroy === 'function') {
          this.flickity.destroy();
        }
      },
  
      onDeselect: function() {
        if (this.flickity && typeof this.flickity.play === 'function') {
          this.flickity.play();
        }
      },
  
      onBlockSelect: function(evt) {
        var slide = this.slideshow.querySelector('.slideshow__slide--' + evt.detail.blockId)
        var index = parseInt(slide.dataset.index);
  
        if (this.flickity && typeof this.flickity.pause === 'function') {
          this.flickity.goToSlide(index);
          this.flickity.pause();
        } else {
          // If section reloads, slideshow might not have been setup yet, wait a second and try again
          this.initialIndex = index;
          setTimeout(function() {
            if (this.flickity && typeof this.flickity.pause === 'function') {
              this.flickity.pause();
            }
          }.bind(this), 1000);
        }
      },
  
      onBlockDeselect: function() {
        if (this.flickity && typeof this.flickity.play === 'function') {
          if (this.flickity.args.autoPlay) {
            this.flickity.play();
          }
        }
      }
    });
  
    return SlideshowSection;
  })();
  
  theme.StoreAvailability = (function() {
    var selectors = {
      drawerOpenBtn: '.js-drawer-open-availability',
      modalOpenBtn: '.js-modal-open-availability',
      productTitle: '[data-availability-product-title]'
    };
  
    function StoreAvailability(container) {
      this.container = container;
      this.baseUrl = container.dataset.baseUrl;
      this.productTitle = container.dataset.productName;
    }
  
    StoreAvailability.prototype = Object.assign({}, StoreAvailability.prototype, {
      updateContent: function(variantId) {
        var variantSectionUrl =
          this.baseUrl +
          '/variants/' +
          variantId +
          '/?section_id=store-availability';
  
        var self = this;
  
        fetch(variantSectionUrl)
          .then(function(response) {
            return response.text();
          })
          .then(function(html) {
            if (html.trim() === '') {
              this.container.innerHTML = '';
              return;
            }
  
            self.container.innerHTML = html;
            self.container.innerHTML = self.container.firstElementChild.innerHTML;
  
            // Setup drawer if have open button
            if (self.container.querySelector(selectors.drawerOpenBtn)) {
              self.drawer = new theme.Drawers('StoreAvailabilityDrawer', 'availability');
            }
  
            // Setup modal if have open button
            if (self.container.querySelector(selectors.modalOpenBtn)) {
              self.modal = new theme.Modals('StoreAvailabilityModal', 'availability');
            }
  
            var title = self.container.querySelector(selectors.productTitle);
            if (title) {
              title.textContent = self.productTitle;
            }
          });
      }
    });
  
    return StoreAvailability;
  })();
  
  theme.VideoSection = (function() {
    var selectors = {
      videoParent: '.video-parent-section'
    };
  
    function videoSection(container) {
      this.container = container;
      this.sectionId = container.getAttribute('data-section-id');
      this.namespace = '.video-' + this.sectionId;
      this.videoObject;
  
      theme.initWhenVisible({
        element: this.container,
        callback: this.init.bind(this),
        threshold: 500
      });
    }
  
    videoSection.prototype = Object.assign({}, videoSection.prototype, {
      init: function() {
        var dataDiv = this.container.querySelector('.video-div');
        if (!dataDiv) {
          return;
        }
        var type = dataDiv.dataset.type;
  
        switch(type) {
          case 'youtube':
            var videoId = dataDiv.dataset.videoId;
            this.initYoutubeVideo(videoId);
            break;
          case 'vimeo':
            var videoId = dataDiv.dataset.videoId;
            this.initVimeoVideo(videoId);
            break;
          case 'mp4':
            this.initMp4Video();
            break;
        }
      },
  
      initYoutubeVideo: function(videoId) {
        this.videoObject = new theme.YouTube(
          'YouTubeVideo-' + this.sectionId,
          {
            videoId: videoId,
            videoParent: selectors.videoParent
          }
        );
      },
  
      initVimeoVideo: function(videoId) {
        this.videoObject = new theme.VimeoPlayer(
          'Vimeo-' + this.sectionId,
          videoId,
          {
            videoParent: selectors.videoParent
          }
        );
      },
  
      initMp4Video: function() {
        var mp4Video = 'Mp4Video-' + this.sectionId;
        var mp4Div = document.getElementById(mp4Video);
        var parent = mp4Div.closest(selectors.videoParent);
  
        if (mp4Div) {
          parent.classList.add('loaded');
  
          var playPromise = document.querySelector('#' + mp4Video).play();
  
          // Edge does not return a promise (video still plays)
          if (playPromise !== undefined) {
            playPromise.then(function() {
                // playback normal
              }).catch(function() {
                mp4Div.setAttribute('controls', '');
                parent.classList.add('video-interactable');
              });
          }
        }
      },
  
      onUnload: function(evt) {
        var sectionId = evt.target.id.replace('shopify-section-', '');
        if (this.videoObject && typeof this.videoObject.destroy === 'function') {
          this.videoObject.destroy();
        }
      }
    });
  
    return videoSection;
  })();
  

  theme.BackgroundImage = (function() {
  
    var selectors = {
      parallaxContainer: '.parallax-container'
    };
  
    function backgroundImage(container) {
      this.container = container;
      if (!container) {
        return;
      }
  
      var sectionId = container.getAttribute('data-section-id');
      this.namespace = '.' + sectionId;
  
      theme.initWhenVisible({
        element: this.container,
        callback: this.init.bind(this)
      });
    }
  
    backgroundImage.prototype = Object.assign({}, backgroundImage.prototype, {
      init: function() {
        if (this.container.dataset && this.container.dataset.parallax) {
          var parallaxContainer = this.container.querySelector(selectors.parallaxContainer);
          var args = {
            namespace: this.namespace,
            desktopOnly: true
          };
  
          theme.parallaxSections[this.namespace] = new theme.Parallax(parallaxContainer, args);
        }
      },
  
      onUnload: function(evt) {
        if (!this.container) { return }
        if (theme.parallaxSections[this.namespace] && typeof theme.parallaxSections[this.namespace].destroy === 'function') {
          theme.parallaxSections[this.namespace].destroy();
        }
        delete theme.parallaxSections[this.namespace];
      }
    });
  
    return backgroundImage;
  })();
  
  theme.Blog = (function() {
  
    function Blog(container) {
      this.tagFilters();
    }
  
    Blog.prototype = Object.assign({}, Blog.prototype, {
      tagFilters: function() {
        var filterBy = document.getElementById('BlogTagFilter');
  
        if (!filterBy) {
          return;
        }
  
        filterBy.addEventListener('change', function() {
          location.href = filterBy.value;
        });
      }
    });
  
    return Blog;
  })();
  
  theme.CollectionSwitcher = (function() {
    var selectors = {
      trigger: '.collection-switcher__trigger',
      collection: '.collection-switcher__collection',
      slider: '.collection-switcher__collection-grid'
    };
  
    var sliderArgs = {
      adaptiveHeight: true,
      avoidReflow: true,
      autoPlay: false,
      cellAlign: 'left',
      fade: false,
      prevNextButtons: true,
      setGallerySize: true,
      wrapAround: false
    };
  
    function CollectionSwitcher(container) {
      this.container = container;
      this.sectionId = this.container.getAttribute('data-section-id');
      this.slideshows = container.querySelectorAll(selectors.slider);
      this.namespace = '.switcher-' + this.sectionId;
      this.flickity = {};
      this.activeIndex = 0;
  
      theme.initWhenVisible({
        element: this.container,
        callback: this.init.bind(this),
        threshold: 300
      });
    }
  
    CollectionSwitcher.prototype = Object.assign({}, CollectionSwitcher.prototype, {
      init: function() {
        this.container.querySelectorAll(selectors.trigger)
        this.container.querySelectorAll(selectors.trigger).forEach(trigger => {
          trigger.on('click', this.switch.bind(this));
        });
  
        if (!this.slideshows.length) { return }
  
        this.config = {
          perRow: this.container.getAttribute('data-per-row'),
          perRowMobile: 2 // fixed always
        };
  
        this.initSliders();
  
        document.addEventListener('matchSmall', function() {
          this.initSliders();
        }.bind(this));
  
        document.addEventListener('unmatchSmall', function() {
          this.initSliders();
        }.bind(this));
      },
  
      initSliders: function() {
        // Make sure both sliders are visible so flickity inits properly
        this.container.querySelectorAll(selectors.collection).forEach(collection => {
          collection.classList.remove('hide');
        });
  
        sliderArgs.groupCells = theme.config.bpSmall ? this.config.perRowMobile : this.config.perRow;
  
        this.slideshows.forEach(function(slideshow, i) {
          if (this.flickity[i] && typeof this.flickity[i].destroy === 'function') {
            this.flickity[i].destroy();
          }
  
          this.flickity[i] = new theme.Slideshow(slideshow, sliderArgs);
  
          // Hide non-active collection after flickity setup
          if (i !== this.activeIndex) {
            slideshow.closest(selectors.collection).classList.add('hide');
          }
  
        }.bind(this));
  
        if (AOS) {
          AOS.refresh();
        }
      },
  
      switch: function(evt) {
        evt.preventDefault();
  
        var containerId = evt.currentTarget.getAttribute('aria-controls');
        var newContainer = document.getElementById(containerId);
        this.activeIndex = parseInt(newContainer.dataset.index);
  
        this.container.querySelectorAll(selectors.trigger).forEach(trigger => {
          trigger.classList.remove('is-active');
        });
  
        evt.currentTarget.classList.add('is-active');
  
        // Hide collections, show new one
        this.container.querySelectorAll(selectors.collection).forEach(collection => {
          collection.classList.add('hide');
        });
  
        newContainer.classList.remove('hide');
  
  
        if (this.flickity[this.activeIndex] && typeof this.flickity[this.activeIndex].resize === 'function') {
          this.flickity[this.activeIndex].resize();
        }
      },
  
      destroy: function() {
        if (this.flickity && typeof this.flickity.destroy === 'function') {
          this.flickity.destroy();
        }
      },
  
      onUnload: function() {
        this.destroy();
      }
  
    });
  
    return CollectionSwitcher;
  })();
  
  theme.CollectionSidebar = (function() {
    var selectors = {
      sidebar: '#CollectionSidebar',
    };
  
    function CollectionSidebar(container) {
      this.container = container.querySelector(selectors.sidebar);
    }
  
    CollectionSidebar.prototype = Object.assign({}, CollectionSidebar.prototype, {
      init: function() {
        // Do not load when no sidebar exists
        if (!this.container) {
          return;
        }
  
        this.onUnload();
  
        theme.FilterDrawer = new theme.Drawers('FilterDrawer', 'collection-filters', true);
      },
  
      forceReload: function() {
        this.init();
      },
  
      onSelect: function() {
        if (theme.FilterDrawer && (drawerStyle || theme.config.bpSmall)) {
          theme.FilterDrawer.open();
        }
      },
  
      onDeselect: function() {
        if (theme.FilterDrawer) {
          theme.FilterDrawer.close();
        }
      },
  
      onUnload: function() {
        if (theme.FilterDrawer) {
          theme.FilterDrawer.close();
        }
      }
    });
  
    return CollectionSidebar;
  })();
  
  theme.Collection = (function() {
    var isAnimating = false;
    var hasLoadedBefore = false;
  
    var selectors = {
      sortSelect: '#SortBy',
      hero: '.collection-hero',
      title: '.collection-title',
      parallaxContainer: '.parallax-container',
      sidebar: '#CollectionSidebar',
  
      // filter selectors
      activeTagList: '.tag-list--active-tags',
      tags: '.tag-list input',
      activeTags: '.tag-list a',
      tagsForm: '.filter-form',
      filters: '.collection-filter',
      filterSidebar: '.collapsible-content--sidebar',
      trigger: '.collapsible-trigger',
      priceRange: '.price-range',
    };
  
    var classes = {
      activeTag: 'tag--active',
      removeTagParent: 'tag--remove',
      filterSidebar: 'collapsible-content--sidebar',
      isOpen: 'is-open',
    };
  
    function Collection(container) {
      this.container = container;
      this.sectionId = container.getAttribute('data-section-id');
      this.namespace = '.collection-' + this.sectionId;
  
      var heroImageContainer = container.querySelector('.collection-hero');
  
      if (heroImageContainer) {
        if (hasLoadedBefore) {
          this.checkIfNeedReload();
        }
  
        theme.loadImageSection(heroImageContainer);
  
        if (container.dataset && container.dataset.parallax) {
          var parallaxContainer = container.querySelector(selectors.parallaxContainer);
          var args = {
            namespace: this.namespace
          };
          theme.parallaxSections[this.namespace] = new theme.Parallax(parallaxContainer, args);
        }
      } else if (theme.settings.overlayHeader) {
        theme.headerNav.disableOverlayHeader();
      }
  
      this.sidebar = new theme.CollectionSidebar(container);
  
      // Ajax loader for filters
      this.ajaxRenderer = new theme.AjaxRenderer({
        sections: [
          {
            sectionId: this.sectionId,
            nodeId: ['CollectionAjaxContent', 'FilterDrawerTrigger', 'FilterDrawer'],
          },
        ],
        onReplace: this.onReplaceAjaxContent.bind(this),
        preserveParams: ['sort_by', 'q', 'options[prefix]', 'type'],
      });
  
      this.init();
    }
  
    Collection.prototype = Object.assign({}, Collection.prototype, {
      init: function() {
        this.bindBackButton();
        this.sidebar.init();
        this.sortSelect = this.container.querySelector(selectors.sortSelect);
  
        if (this.sortSelect) {
          this.defaultSort = this.getDefaultSortValue();
          this.sortSelect.addEventListener('change', this.onSortChange.bind(this));
          this.initParams();
        }
  
        this.initPriceRange();
  
        document.querySelectorAll(selectors.activeTags).forEach(tag => {
          tag.addEventListener('click', this.onTagClick.bind(this));
        });
  
        document.querySelectorAll(selectors.tagsForm).forEach(form => {
          form.addEventListener('input', this.onFormSubmit.bind(this));
        });
  
        hasLoadedBefore = true;
      },
  
      onTagClick: function(evt) {
        const tag = evt.currentTarget;
  
        if (tag.classList.contains('no-ajax')) {
          return;
        }
  
        evt.preventDefault();
  
        if (isAnimating) {
          return;
        }
  
        isAnimating = true;
  
        const parent = tag.parentNode;
        const newUrl = new URL(tag.href);
  
        this.renderActiveTag(parent, tag);
        this.startLoading();
        this.renderCollectionPage(newUrl.searchParams);
      },
  
      onFormSubmit: function(evt) {
        const tag = evt.target;
  
        // Do not ajax-load collection links
        if (tag.classList.contains('no-ajax')) {
          return;
        }
  
        evt.preventDefault();
  
        if (isAnimating) {
          return;
        }
  
        isAnimating = true;
  
        const parent = tag.closest('li');
        const formEl = tag.closest('form');
        const formData = new FormData(formEl);
  
        this.renderActiveTag(parent, tag);
        this.startLoading();
        this.renderFromFormData(formData);
      },
  
      renderActiveTag: function(parent, el) {
        const textEl = parent.querySelector('.tag-text');
  
        if (parent.classList.contains(classes.activeTag)) {
          parent.classList.remove(classes.activeTag);
        } else {
          parent.classList.add(classes.activeTag);
  
          // If adding a tag, show new tag right away.
          // Otherwise, remove it before ajax finishes
          if (el.closest('li').classList.contains(classes.removeTagParent)) {
            parent.remove();
          } else {
            // Append new tag in both drawer and sidebar
            document.querySelectorAll(selectors.activeTagList).forEach(list => {
              const newTag = document.createElement('li');
              const newTagLink = document.createElement('a');
              newTag.classList.add('tag', 'tag--remove');
              newTagLink.classList.add('btn', 'btn--small');
              newTagLink.innerText = textEl.innerText;
              newTag.appendChild(newTagLink);
  
              list.appendChild(newTag);
            });
          }
        }
      },
  
      renderFromFormData: function(formData) {
        const searchParams = new URLSearchParams(formData);
        this.renderCollectionPage(searchParams);
      },
  
      renderCollectionPage: function(searchParams, updateURLHash = true) {
        // If on vendor page, make sure to pass the q param
        if (window.location.href.indexOf('collections/vendors') > -1) {
          const queryString = window.location.search;
          const urlParams = new URLSearchParams(queryString);
          const vendor = urlParams.get('q')
          if (vendor) {
            searchParams.append('q', vendor);
          }
        }
  
        this.ajaxRenderer
          .renderPage(window.location.pathname, searchParams, updateURLHash)
          .then(() => {
            isAnimating = false;
          });
      },
  
      initPriceRange: function() {
        const priceRangeEls = document.querySelectorAll(selectors.priceRange)
        priceRangeEls.forEach((el) => new theme.PriceRange(el, {
          // onChange passes in formData
          onChange: this.renderFromFormData.bind(this),
        }));
      },
  
      initParams: function() {
        this.queryParams = {};
  
        if (location.search.length) {
          var aKeyValue;
          var aCouples = location.search.substr(1).split('&');
          for (var i = 0; i < aCouples.length; i++) {
            aKeyValue = aCouples[i].split('=');
            if (aKeyValue.length > 1) {
              this.queryParams[
                decodeURIComponent(aKeyValue[0])
              ] = decodeURIComponent(aKeyValue[1]);
            }
          }
        }
      },
  
      getSortValue: function() {
        return this.sortSelect.value || this.defaultSort;
      },
  
      getDefaultSortValue: function() {
        return this.sortSelect.getAttribute('data-default-sortby');
      },
  
      onSortChange: function() {
        this.queryParams.sort_by = this.getSortValue();
  
        if (this.queryParams.page) {
          delete this.queryParams.page;
        }
  
        window.location.search = decodeURIComponent(new URLSearchParams(Object.entries(this.queryParams)));
      },
  
      fetchOpenCollasibleFilters: function() {
        return Array.from(
          document.querySelectorAll(
            `${selectors.sidebar} ${selectors.trigger}.${classes.isOpen}`,
          ),
        ).map(trigger => trigger.dataset.collapsibleId);
      },
  
      onReplaceAjaxContent: function(newDom, section) {
        const openCollapsibleIds = this.fetchOpenCollasibleFilters();
  
        openCollapsibleIds.forEach(selector => {
          newDom
            .querySelectorAll(`[data-collapsible-id=${selector}]`)
            .forEach(this.openCollapsible);
        });
  
        if (typeof section.nodeId === 'string') {
          var newContentEl = newDom.getElementById(section.nodeId);
          if (!newContentEl) {
            return;
          }
          document.getElementById(section.nodeId).innerHTML =
            newContentEl.innerHTML;
        } else {
          section.nodeId.forEach(id => {
            document.getElementById(id).innerHTML =
              newDom.getElementById(id).innerHTML;
          });
        }
  
        this.reInit(newDom);
      },
  
      openCollapsible: function(el) {
        if (el.classList.contains(classes.filterSidebar)) {
          el.style.height = 'auto';
        }
  
        el.classList.add(classes.isOpen);
      },
  
      reInit: function(doc) {
        // Reload collection template (it can be anywhere in the sections.instance array)
        for (var i = 0; i < theme.sections.instances.length; i++) {
          var instance = theme.sections.instances[i];
          if (instance['type'] === 'collection-template') {
            instance.forceReload();
          }
        }
  
        // Update collection title
        var title = doc.querySelector(selectors.title)
        if (doc && title) {
          document.querySelector(selectors.title).innerText = title.innerText;;
        }
  
        this.initPriceRange();
        theme.reinitProductGridItem();
      },
  
      forceReload: function() {
        this.onUnload();
        this.init();
      },
  
      // A liquid variable in the header needs a full page refresh
      // if the collection header hero image setting is enabled
      // and the header is set to sticky. Only necessary in the editor.
      checkIfNeedReload: function() {
        if (!Shopify.designMode) {
          return;
        }
  
        if (theme.settings.overlayHeader) {
          var header = document.querySelector('.header-wrapper');
          if (!header.classList.contains('header-wrapper--overlay')) {
            location.reload();
          }
        }
      },
  
      onUnload: function() {
        if (theme.parallaxSections[this.namespace]) {
          theme.parallaxSections[this.namespace].destroy();
          delete theme.parallaxSections[this.namespace];
        }
      },
  
      bindBackButton: function() {
        // Ajax page on back button
        window.off('popstate' + this.namespace);
        window.on('popstate' + this.namespace, function(state) {
          if (state) {
            const newUrl = new URL(window.location.href);
            this.renderCollectionPage(newUrl.searchParams, false);
          }
        }.bind(this));
      },
  
      startLoading: function() {
        this.container.querySelectorAll('.grid-product').forEach(item => {
          item.classList.add('unload');
        });
      },
    });
  
    return Collection;
  })();
  
  theme.FadingImages = (function() {
  
    var classes = {
      activeImage: 'active-image',
      finishedImage: 'finished-image',
      activeTitles: 'active-titles',
      finishedTitles: 'finished-titles',
      compensation: 'compensation'
    };
  
    function FadingImages(container) {
      this.container = container;
      var sectionId = container.getAttribute('data-section-id');
      var namespace = this.namespace = '.fading-images-' + sectionId;
  
      if (!container) {
        return;
      }
  
      this.imageInterval;
      this.titleInterval;
  
      this.data = {
        interval: container.dataset.interval,
        block_count: container.dataset.count,
        finish_interval: 1000,
        timer_offset: 400,
        active_image: 1,
        active_title: 1,
        removed_compensation: false
      };
  
      theme.initWhenVisible({
        element: this.container,
        callback: this.init.bind(this)
      });
    }
  
    FadingImages.prototype = Object.assign({}, FadingImages.prototype, {
      init: function() {
        var imageContainer = this.container.querySelector('.fading-images');
        theme.loadImageSection(imageContainer);
  
        this.allTitles = this.container.querySelectorAll('.fading-images-overlay__titles');
  
        // pause when out of view
        var observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              this.startImages();
              this.startTitles();
            } else {
              clearInterval(this.imageInterval);
              clearInterval(this.titleInterval);
            }
          });
        }, {rootMargin: '0px 0px 0px 0px'});
  
        observer.observe(this.container);
      },
  
      nextImage: function() {
        var activeImage = this.container.querySelector('.fading-images__item[data-slide-index="' + this.data.active_image + '"]');
  
        if (!this.data.removed_compensation) {
          activeImage.classList.remove(classes.compensation);
          this.data.removed_compensation = true;
        }
  
        activeImage.classList.remove(classes.activeImage);
        activeImage.classList.add(classes.finishedImage);
  
        var target_image = this.data.active_image;
        window.setTimeout(function() {
          activeImage.classList.remove(classes.finishedImage);
        }, this.data.finish_interval);
  
        this.data.active_image++;
        if (this.data.active_image > this.data.block_count) {
          this.data.active_image = 1;
        }
  
        var nextImage = this.container.querySelector('.fading-images__item[data-slide-index="' + this.data.active_image + '"]');
  
        nextImage.classList.add(classes.activeImage);
      },
  
      nextTitle: function() {
        this.allTitles.forEach(title => {
          title.classList.remove(classes.activeTitles);
          title.classList.add(classes.finishedTitles);
        });
  
        this.data.active_title++;
        if (this.data.active_title > this.data.block_count) {
          this.data.active_title = 1;
        }
  
        var target_title = this.data.active_title;
        window.setTimeout(function() {
          var slide = this.container.querySelector('.fading-images__item[data-slide-index="' + target_title + '"]');
          var newText1 = slide.getAttribute('data-slide-title1');
          var newText2 = slide.getAttribute('data-slide-title2');
  
          this.container.querySelector('.fading-images-overlay__title--1').textContent = newText1;
          var textTwoContainer = this.container.querySelector('.fading-images-overlay__title--2');
          if (textTwoContainer) {
            textTwoContainer.textContent = newText2;
          }
  
          this.allTitles.forEach(title => {
            title.classList.remove(classes.finishedTitles);
            title.classList.add(classes.activeTitles);
          });
  
        }.bind(this), this.data.finish_interval - 200);
      },
  
      startImages: function() {
        // Prep and show first image
        var firstImage = this.container.querySelector('.fading-images__item[data-slide-index="' + this.data.active_image + '"]');
        firstImage.classList.add(classes.activeImage);
        firstImage.classList.add(classes.compensation);
  
        // Begin timer
        window.setTimeout(function() {
          this.imageInterval = setInterval(this.nextImage.bind(this), this.data.interval);
        }.bind(this), this.data.timer_offset);
      },
  
      startTitles: function() {
        // Prep and show first titles
        var target_title = this.data.active_title;
  
        window.setTimeout(function() {
          var slide = this.container.querySelector('.fading-images__item[data-slide-index="' + target_title + '"]');
          var newText1 = slide.getAttribute('data-slide-title1');
          var newText2 = slide.getAttribute('data-slide-title2');
  
          this.container.querySelector('.fading-images-overlay__title--1').textContent = newText1;
          var textTwoContainer = this.container.querySelector('.fading-images-overlay__title--2');
          if (textTwoContainer) {
            textTwoContainer.textContent = newText2;
          }
  
          this.allTitles.forEach(title => {
            title.classList.add(classes.activeTitles);
          });
        }.bind(this), 750);
  
        // Begin timer
        this.titleInterval = setInterval(this.nextTitle.bind(this), this.data.interval);
      }
    });
  
    return FadingImages;
  })();
  
  theme.FooterSection = (function() {
    var selectors = {
      locale: 'FooterLocale',
      currency: 'FooterCurrency'
    };
  
    function FooterSection(container) {
      this.container = container;
      this.localeDisclosure = null;
      this.currencyDisclosure = null;
  
      this.init();
    }
  
    FooterSection.prototype = Object.assign({}, FooterSection.prototype, {
      init: function() {
        var localeEl = document.getElementById(selectors.locale);
        var currencyEl = document.getElementById(selectors.currency);
  
        if (localeEl) {
          this.localeDisclosure = new theme.Disclosure(localeEl);
        }
  
        if (currencyEl) {
          this.currencyDisclosure = new theme.Disclosure(currencyEl);
        }
  
        // Re-hook up collapsible box triggers
        theme.collapsibles.init(this.container);
      },
  
      onUnload: function() {
        if (this.localeDisclosure) {
          this.localeDisclosure.destroy();
        }
  
        if (this.currencyDisclosure) {
          this.currencyDisclosure.destroy();
        }
      }
    });
  
    return FooterSection;
  })();
  
  theme.HeaderSection = (function() {
    function HeaderSection(container) {
      this.init();
    }
  
    HeaderSection.prototype = Object.assign({}, HeaderSection.prototype, {
      init: function() {
        // Reload any slideshow if header is reloaded to make sure
        // sticky header works as expected
        // (can be anywhere in sections.instance array)
        if (Shopify && Shopify.designMode) {
          for (var i = 0; i < theme.sections.instances.length; i++) {
            var instance = theme.sections.instances[i];
            if (instance['type'] === 'slideshow-section') {
              instance.forceReload();
            }
          }
        }
  
        theme.headerNav.init();
        theme.announcementBar.init();
        this.initDrawers();
      },
  
      initDrawers: function() {
        theme.NavDrawer = new theme.Drawers('NavDrawer', 'nav');
        if (theme.settings.cartType === 'drawer') {
          if (!document.body.classList.contains('template-cart')) {
            new theme.CartDrawer();
          }
        }
  
        theme.collapsibles.init(document.getElementById('NavDrawer'));
      },
  
      onUnload: function() {
        theme.NavDrawer.close();
        theme.announcementBar.unload();
      }
    });
  
    return HeaderSection;
  })();
  
  theme.Product = (function() {
    var videoObjects = {};
  
    var classes = {
      onSale: 'sale-price',
      disabled: 'disabled',
      isModal: 'is-modal',
      loading: 'loading',
      loaded: 'loaded',
      hidden: 'hide',
      interactable: 'video-interactable',
      visuallyHide: 'visually-invisible'
    };
  
    var selectors = {
      productVideo: '.product__video',
      videoParent: '.product__video-wrapper',
      slide: '.product-main-slide',
      currentSlide: '.is-selected',
      startingSlide: '.starting-slide',
      variantType: '.variant-wrapper',
      blocks: '[data-product-blocks]',
      blocksHolder: '[data-blocks-holder]'
    };
  
    function Product(container) {
      this.container = container;
      var sectionId = this.sectionId = container.getAttribute('data-section-id');
      var productId = this.productId = container.getAttribute('data-product-id');
  
      this.inModal = (container.dataset.modal === 'true');
      this.modal;
  
      this.settings = {
        enableHistoryState: container.dataset.history || false,
        namespace: '.product-' + sectionId,
        inventory: false,
        inventoryThreshold: 10,
        modalInit: false,
        hasImages: true,
        imageSetName: null,
        imageSetIndex: null,
        currentImageSet: null,
        imageSize: '620x',
        currentSlideIndex: 0,
        videoLooping: container.dataset.videoLooping
      };
  
      // Overwrite some settings when loaded in modal
      if (this.inModal) {
        this.settings.enableHistoryState = false;
        this.settings.namespace = '.product-' + sectionId + '-modal';
        this.modal = document.getElementById('QuickShopModal-' + productId);
      }
  
      this.selectors = {
        variantsJson: '[data-variant-json]',
        currentVariantJson: '[data-current-variant-json]',
        form: '.product-single__form',
  
        media: '[data-product-media-type-model]',
        closeMedia: '.product-single__close-media',
        photoThumbs: '[data-product-thumb]',
        thumbSlider: '[data-product-thumbs]',
        thumbScroller: '.product__thumbs--scroller',
        mainSlider: '[data-product-photos]',
        imageContainer: '[data-product-images]',
        productImageMain: '[data-product-image-main]',
  
        priceWrapper: '[data-product-price-wrap]',
        price: '[data-product-price]',
        comparePrice: '[data-compare-price]',
        priceA11y: '[data-a11y-price]',
        comparePriceA11y: '[data-compare-price-a11y]',
        unitWrapper: '[data-unit-price-wrapper]',
        unitPrice: '[data-unit-price]',
        unitPriceBaseUnit: '[data-unit-base]',
        sku: '[data-sku]',
        inventory: '[data-product-inventory]',
        incomingInventory: '[data-incoming-inventory]',
        colorLabel: '[data-variant-color-label]',
  
        addToCart: '[data-add-to-cart]',
        addToCartText: '[data-add-to-cart-text]',
  
        originalSelectorId: '[data-product-select]',
  
        singleOptionSelector: '[data-variant-input]',
        variantColorSwatch: '.variant__input--color-swatch',
  
        availabilityContainer: '[data-store-availability-holder]'
      };
  
      this.cacheElements();
  
      this.firstProductImage = this.cache.mainSlider.querySelector('img');
  
      if (!this.firstProductImage) {
        this.settings.hasImages = false;
      }
  
      var dataSetEl = this.cache.mainSlider.querySelector('[data-set-name]');
      if (dataSetEl) {
        this.settings.imageSetName = dataSetEl.dataset.setName;
      }
  
      this.init();
    }
  
    Product.prototype = Object.assign({}, Product.prototype, {
      init: function() {
        if (this.inModal) {
          this.container.classList.add(classes.isModal);
          document.addEventListener('modalOpen.QuickShopModal-' + this.productId, this.openModalProduct.bind(this));
          document.addEventListener('modalClose.QuickShopModal-' + this.productId, this.closeModalProduct.bind(this));
        }
  
        if (!this.inModal) {
          this.formSetup();
          this.productSetup();
          this.videoSetup();
          this.initProductSlider();
          this.customMediaListners();
        }
      },
  
      cacheElements: function() {
        this.cache = {
          form: this.container.querySelector(this.selectors.form),
          mainSlider: this.container.querySelector(this.selectors.mainSlider),
          thumbSlider: this.container.querySelector(this.selectors.thumbSlider),
          thumbScroller: this.container.querySelector(this.selectors.thumbScroller),
          productImageMain: this.container.querySelector(this.selectors.productImageMain),
  
          // Price-related
          priceWrapper: this.container.querySelector(this.selectors.priceWrapper),
          comparePriceA11y: this.container.querySelector(this.selectors.comparePriceA11y),
          comparePrice: this.container.querySelector(this.selectors.comparePrice),
          price: this.container.querySelector(this.selectors.price),
          priceA11y: this.container.querySelector(this.selectors.priceA11y)
        };
      },
  
      onUnload: function() {
        theme.ProductMedia.removeSectionModels(this.sectionId);
  
        if (this.flickity && typeof this.flickity.destroy === 'function') {
          this.flickity.destroy();
        }
      },
  
      formSetup: function() {
        this.initQtySelector();
        this.initAjaxProductForm();
        this.availabilitySetup();
        this.initVariants();
      },
  
      availabilitySetup: function() {
        var container = this.container.querySelector(this.selectors.availabilityContainer);
        if (container) {
          this.storeAvailability = new theme.StoreAvailability(container);
        }
      },
  
      productSetup: function() {
        this.setImageSizes();
        this.initImageZoom();
        this.initModelViewerLibraries();
        this.initShopifyXrLaunch();
        theme.collapsibles.init(this.container);
  
        if (window.SPR) {SPR.initDomEls();SPR.loadBadges()}
      },
  
      setImageSizes: function() {
        if (!this.settings.hasImages) {
          return;
        }
  
        // Get srcset image src, works on most modern browsers
        // otherwise defaults to settings.imageSize
        var currentImage = this.firstProductImage.currentSrc;
  
        if (currentImage) {
          this.settings.imageSize = theme.Images.imageSize(currentImage);
        }
      },
  
      initVariants: function() {
        var variantJson = this.container.querySelector(this.selectors.variantsJson);
  
        if (!variantJson) {
          return;
        }
  
        this.variantsObject = JSON.parse(variantJson.innerHTML);
  
        var options = {
          container: this.container,
          enableHistoryState: this.settings.enableHistoryState,
          singleOptionSelector: this.selectors.singleOptionSelector,
          originalSelectorId: this.selectors.originalSelectorId,
          variants: this.variantsObject
        };
  
        this.variants = new theme.Variants(options);
  
        this.container.querySelectorAll(this.selectors.variantColorSwatch).forEach(swatch => {
          swatch.addEventListener('change', function(evt) {
            var el = evt.currentTarget;
            var color = el.dataset.colorName;
            var index = el.dataset.colorIndex;
            this.updateColorName(color, index);
          }.bind(this));
        });
  
        // Product availability on page load
        if (this.storeAvailability) {
          var variant_id = this.variants.currentVariant ? this.variants.currentVariant.id : this.variants.variants[0].id;
  
          this.storeAvailability.updateContent(variant_id);
          this.container.on('variantChange' + this.settings.namespace, this.updateAvailability.bind(this));
        }
  
        this.container.on('variantChange' + this.settings.namespace, this.updateCartButton.bind(this));
        this.container.on('variantImageChange' + this.settings.namespace, this.updateVariantImage.bind(this));
        this.container.on('variantPriceChange' + this.settings.namespace, this.updatePrice.bind(this));
        this.container.on('variantUnitPriceChange' + this.settings.namespace, this.updateUnitPrice.bind(this));
  
        if (this.container.querySelector(this.selectors.sku)) {
          this.container.on('variantSKUChange' + this.settings.namespace, this.updateSku.bind(this));
        }
  
        var inventoryEl = this.container.querySelector(this.selectors.inventory);
        if (inventoryEl) {
          this.settings.inventory = true;
          this.settings.inventoryThreshold = inventoryEl.dataset.threshold;
          this.container.on('variantChange' + this.settings.namespace, this.updateInventory.bind(this));
        }
  
        // Update individual variant availability on each selection
        if (theme.settings.dynamicVariantsEnable) {
          var currentVariantJson = this.container.querySelector(this.selectors.currentVariantJson);
  
          if (currentVariantJson) {
            var variantType = this.container.querySelector(selectors.variantType);
  
            if (variantType) {
              new theme.VariantAvailability({
                container: this.container,
                namespace: this.settings.namespace,
                type: variantType.dataset.type,
                variantsObject: this.variantsObject,
                currentVariantObject: JSON.parse(currentVariantJson.innerHTML)
              });
            }
          }
        }
  
        // image set names variant change listeners
        if (this.settings.imageSetName) {
          var variantWrapper = this.container.querySelector('.variant-input-wrap[data-handle="'+this.settings.imageSetName+'"]');
          if (variantWrapper) {
            this.settings.imageSetIndex = variantWrapper.dataset.index;
            this.container.on('variantChange' + this.settings.namespace, this.updateImageSet.bind(this))
          } else {
            this.settings.imageSetName = null;
          }
        }
      },
  
      /*============================================================================
        Variant change methods
      ==============================================================================*/
      updateColorName: function(color, index) {
        // Updates on radio button change, not variant.js
        this.container.querySelector(this.selectors.colorLabel + `[data-index="${index}"`).textContent = color;
      },
  
      initQtySelector: function() {
        this.container.querySelectorAll('.js-qty__wrapper').forEach(el => {
          new theme.QtySelector(el, {
            namespace: '.product'
          });
        });
      },
  
      initAjaxProductForm: function() {
        if (theme.settings.cartType === 'drawer') {
          new theme.AjaxProduct(this.cache.form);
        }
      },
  
      updateCartButton: function(evt) {
        var variant = evt.detail.variant;
        var cartBtn = this.container.querySelector(this.selectors.addToCart);
        var cartBtnText = this.container.querySelector(this.selectors.addToCartText);
  
        if (variant) {
          if (variant.available) {
            // Available, enable the submit button and change text
            cartBtn.classList.remove(classes.disabled);
            cartBtn.disabled = false;
            var defaultText = cartBtnText.dataset.defaultText;
            cartBtnText.textContent = defaultText;
          } else {
            // Sold out, disable the submit button and change text
            cartBtn.classList.add(classes.disabled);
            cartBtn.disabled = true;
            cartBtnText.textContent = theme.strings.soldOut;
          }
        } else {
          // The variant doesn't exist, disable submit button
          cartBtn.classList.add(classes.disabled);
          cartBtn.disabled = true;
          cartBtnText.textContent = theme.strings.unavailable;
        }
      },
  
      updatePrice: function(evt) {
        var variant = evt.detail.variant;
  
        if (variant) {
          // Regular price
          this.cache.price.innerHTML = theme.Currency.formatMoney(variant.price, theme.settings.moneyFormat);
  
          // Sale price, if necessary
          if (variant.compare_at_price > variant.price) {
            this.cache.comparePrice.innerHTML = theme.Currency.formatMoney(variant.compare_at_price, theme.settings.moneyFormat);
            this.cache.priceWrapper.classList.remove(classes.hidden);
            this.cache.price.classList.add(classes.onSale);
            this.cache.comparePriceA11y.setAttribute('aria-hidden', 'false');
            this.cache.priceA11y.setAttribute('aria-hidden', 'false');
          } else {
            if (this.cache.priceWrapper) {
              this.cache.priceWrapper.classList.add(classes.hidden);
            }
            this.cache.price.classList.remove(classes.onSale);
            if (this.cache.comparePriceA11y) {
              this.cache.comparePriceA11y.setAttribute('aria-hidden', 'true');
            }
            this.cache.priceA11y.setAttribute('aria-hidden', 'true');
          }
        }
      },
  
      updateUnitPrice: function(evt) {
        var variant = evt.detail.variant;
  
        if (variant && variant.unit_price) {
          this.container.querySelector(this.selectors.unitPrice).innerHTML = theme.Currency.formatMoney(variant.unit_price, theme.settings.moneyFormat);
          this.container.querySelector(this.selectors.unitPriceBaseUnit).innerHTML = theme.Currency.getBaseUnit(variant);
          this.container.querySelector(this.selectors.unitWrapper).classList.remove(classes.visuallyHide);
        } else {
          this.container.querySelector(this.selectors.unitWrapper).classList.add(classes.visuallyHide);
        }
      },
  
      imageSetArguments: function(variant) {
        var variant = variant ? variant : (this.variants ? this.variants.currentVariant : null);
        if (!variant) return;
  
        var setValue = this.settings.currentImageSet = this.getImageSetName(variant[this.settings.imageSetIndex]);
        var set = this.settings.imageSetName + '_' + setValue;
  
        // Always start on index 0
        this.settings.currentSlideIndex = 0;
  
        // Return object that adds cellSelector to mainSliderArgs
        return {
          cellSelector: '[data-group="'+set+'"]',
          imageSet: set,
          initialIndex: this.settings.currentSlideIndex
        }
      },
  
      updateImageSet: function(evt) {
        // If called directly, use current variant
        var variant = evt ? evt.detail.variant : (this.variants ? this.variants.currentVariant : null);
        if (!variant) {
          return;
        }
  
        var setValue = this.getImageSetName(variant[this.settings.imageSetIndex]);
  
        // Already on the current image group
        if (this.settings.currentImageSet === setValue) {
          return;
        }
  
        this.initProductSlider(variant);
      },
  
      // Show/hide thumbnails based on current image set
      updateImageSetThumbs: function(set) {
        this.cache.thumbSlider.querySelectorAll('.product__thumb-item').forEach(thumb => {
          thumb.classList.toggle(classes.hidden, thumb.dataset.group !== set);
        });
      },
  
      getImageSetName: function(string) {
        return string.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/-$/, '').replace(/^-/, '');
      },
  
      updateSku: function(evt) {
        var variant = evt.detail.variant;
        var newSku = '';
  
        if (variant) {
          if (variant.sku) {
            newSku = variant.sku;
          }
  
          this.container.querySelector(this.selectors.sku).textContent = newSku;
        }
      },
  
      updateInventory: function(evt) {
        var variant = evt.detail.variant;
  
        // Hide stock if no inventory management or policy is continue
        if (!variant || !variant.inventory_management || variant.inventory_policy === 'continue') {
          this.toggleInventoryQuantity(variant, false);
          this.toggleIncomingInventory(false);
          return;
        }
  
        if (variant.inventory_management === 'shopify' && window.inventories && window.inventories[this.productId]) {
          var variantInventoryObject = window.inventories[this.productId][variant.id];
  
          // Hide stock if policy is continue
          if (variantInventoryObject.policy === 'continue') {
            this.toggleInventoryQuantity(variant, false);
            this.toggleIncomingInventory(false);
            return;
          }
  
          var quantity = variantInventoryObject.quantity;
          var showInventory = true;
          var showIncomingInventory = false;
  
          if (quantity <= 0 || quantity > this.settings.inventoryThreshold) {
            showInventory = false;
          }
  
          this.toggleInventoryQuantity(variant, showInventory, quantity);
  
          // Only show incoming inventory when:
          // - inventory notice itself is hidden
          // - have incoming inventory
          // - current quantity is below theme setting threshold
          if (!showInventory && variantInventoryObject.incoming === 'true' && quantity <= this.settings.inventoryThreshold) {
            showIncomingInventory = true;
          }
  
          this.toggleIncomingInventory(showIncomingInventory, variant.available, variantInventoryObject.next_incoming_date);
        }
      },
  
      updateAvailability: function(evt) {
        var variant = evt.detail.variant;
        if (!variant) {
          return;
        }
  
        this.storeAvailability.updateContent(variant.id);
      },
  
      toggleInventoryQuantity: function(variant, show, qty) {
        if (!this.settings.inventory) {
          show = false;
        }
  
        var el = this.container.querySelector(this.selectors.inventory);
        var salesPoint = el.closest('.product-block');
  
        if (parseInt(qty) <= parseInt(this.settings.inventoryThreshold)) {
          el.parentNode.classList.add('inventory--low')
          el.textContent = theme.strings.stockLabel.replace('[count]', qty);
        } else {
          el.parentNode.classList.remove('inventory--low')
          el.textContent = theme.strings.inStockLabel;
        }
  
        if (variant && variant.available) {
          el.parentNode.classList.remove(classes.hidden);
          if (salesPoint) {
            salesPoint.classList.remove(classes.hidden);
          }
        } else {
          el.parentNode.classList.add(classes.hidden);
          if (salesPoint) {
            salesPoint.classList.add(classes.hidden);
          }
        }
      },
  
      toggleIncomingInventory: function(show, available, date) {
        var el = this.container.querySelector(this.selectors.incomingInventory);
        var salesPoint = el.closest('.product-block');
  
        if (!el) {
          return;
        }
  
        var textEl = el.querySelector('.js-incoming-text');
  
        if (show) {
          var string = available ?
                       theme.strings.willNotShipUntil.replace('[date]', date) :
                       theme.strings.willBeInStockAfter.replace('[date]', date);
  
          if (!date) {
            string = theme.strings.waitingForStock;
          }
  
          el.classList.remove(classes.hidden);
          if (salesPoint) {
            salesPoint.classList.remove(classes.hidden);
          }
          textEl.textContent = string;
        } else {
          el.classList.add(classes.hidden);
        }
      },
  
      /*============================================================================
        Product videos
      ==============================================================================*/
      videoSetup: function() {
        var productVideos = this.cache.mainSlider.querySelectorAll(selectors.productVideo);
  
        if (!productVideos.length) {
          return false;
        }
  
        productVideos.forEach(vid => {
          var type = vid.dataset.videoType;
          if (type === 'youtube') {
            this.initYoutubeVideo(vid);
          } else if (type === 'mp4') {
            this.initMp4Video(vid);
          }
        });
      },
  
      initYoutubeVideo: function(div) {
        videoObjects[div.id] = new theme.YouTube(
          div.id,
          {
            videoId: div.dataset.youtubeId,
            videoParent: selectors.videoParent,
            autoplay: false, // will handle this in callback
            style: div.dataset.videoStyle,
            loop: div.dataset.videoLoop,
            events: {
              onReady: this.youtubePlayerReady.bind(this),
              onStateChange: this.youtubePlayerStateChange.bind(this)
            }
          }
        );
      },
  
      // Comes from YouTube SDK
      // Get iframe ID with evt.target.getIframe().id
      // Then access product video players with videoObjects[id]
      youtubePlayerReady: function(evt) {
        var iframeId = evt.target.getIframe().id;
  
        if (!videoObjects[iframeId]) {
          // No youtube player data
          return;
        }
  
        var obj = videoObjects[iframeId];
        var player = obj.videoPlayer;
  
        if (obj.options.style !== 'sound') {
          player.mute();
        }
  
        obj.parent.classList.remove('loading');
        obj.parent.classList.add('loaded');
  
        // If we have an element, it is in the visible/first slide,
        // and is muted, play it
        if (this._isFirstSlide(iframeId) && obj.options.style !== 'sound') {
          player.playVideo();
        }
      },
  
      _isFirstSlide: function(id) {
        return this.cache.mainSlider.querySelector(selectors.startingSlide + ' ' + '#' + id);
      },
  
      youtubePlayerStateChange: function(evt) {
        var iframeId = evt.target.getIframe().id;
        var obj = videoObjects[iframeId];
  
        switch (evt.data) {
          case -1: // unstarted
            // Handle low power state on iOS by checking if
            // video is reset to unplayed after attempting to buffer
            if (obj.attemptedToPlay) {
              obj.parent.classList.add('video-interactable');
            }
            break;
          case 0: // ended
            if (obj && obj.options.loop === 'true') {
              obj.videoPlayer.playVideo();
            }
            break;
          case 3: // buffering
            obj.attemptedToPlay = true;
            break;
        }
      },
  
      initMp4Video: function(div) {
        videoObjects[div.id] = {
          id: div.id,
          type: 'mp4'
        };
  
        if (this._isFirstSlide(div.id)) {
          this.playMp4Video(div.id);
        }
      },
  
      stopVideos: function() {
        for (var [id, vid] of Object.entries(videoObjects)) {
          if (vid.videoPlayer) {
            if (typeof vid.videoPlayer.stopVideo === 'function') {
              vid.videoPlayer.stopVideo(); // YouTube player
            }
          } else if (vid.type === 'mp4') {
            this.stopMp4Video(vid.id); // MP4 player
          }
        }
      },
  
      _getVideoType: function(video) {
        return video.getAttribute('data-video-type');
      },
  
      _getVideoDivId: function(video) {
        return video.id;
      },
  
      playMp4Video: function(id) {
        var player = this.container.querySelector('#' + id);
        var playPromise = player.play();
  
        if (playPromise !== undefined) {
          playPromise.then(function() {
            // Playing as expected
          })
          .catch(function(error) {
            // Likely low power mode on iOS, show controls
            player.setAttribute('controls', '');
            player.closest(selectors.videoParent).setAttribute('data-video-style', 'unmuted');
          });
        }
      },
  
      stopMp4Video: function(id) {
        var player = this.container.querySelector('#' + id);
        if (player && typeof player.pause === 'function') {
          player.pause();
        }
      },
  
      /*============================================================================
        Product images
      ==============================================================================*/
      initImageZoom: function() {
        var container = this.container.querySelector(this.selectors.imageContainer);
        if (!container) {
          return;
        }
        var imageZoom = new theme.Photoswipe(container, this.sectionId);
        container.addEventListener('photoswipe:afterChange', function(evt) {
          if (this.flickity) {
            this.flickity.goToSlide(evt.detail.index);
          }
        }.bind(this));
      },
  
      getThumbIndex: function(target) {
        return target.dataset.index;
      },
  
      updateVariantImage: function(evt) {
        var variant = evt.detail.variant;
        var sizedImgUrl = theme.Images.getSizedImageUrl(variant.featured_media.preview_image.src, this.settings.imageSize);
  
        var newImage = this.container.querySelector('.product__thumb[data-id="' + variant.featured_media.id + '"]');
        var imageIndex = this.getThumbIndex(newImage);
  
        // If there is no index, slider is not initalized
        if (typeof imageIndex === 'undefined') {
          return;
        }
  
        // Go to that variant image's slide
        if (this.flickity) {
          this.flickity.goToSlide(imageIndex);
        }
      },
  
      initProductSlider: function(variant) {
        // Stop if only a single image, but add active class to first slide
        if (this.cache.mainSlider.querySelectorAll(selectors.slide).length <= 1) {
          var slide = this.cache.mainSlider.querySelector(selectors.slide);
          if (slide) {
            slide.classList.add('is-selected');
          }
          return;
        }
  
        // Destroy slider in preparation of new initialization
        if (this.flickity && typeof this.flickity.destroy === 'function') {
          this.flickity.destroy();
        }
  
        // If variant argument exists, slideshow is reinitializing because of the
        // image set feature enabled and switching to a new group.
        // currentSlideIndex
        if (!variant) {
          var activeSlide = this.cache.mainSlider.querySelector(selectors.startingSlide);
          this.settings.currentSlideIndex = this._slideIndex(activeSlide);
        }
  
        var mainSliderArgs = {
          adaptiveHeight: true,
          avoidReflow: true,
          initialIndex: this.settings.currentSlideIndex,
          childNav: this.cache.thumbSlider,
          childNavScroller: this.cache.thumbScroller,
          childVertical: this.cache.thumbSlider.dataset.position === 'beside',
          wrapAround: false,
          callbacks: {
            onInit: this.onSliderInit.bind(this),
            onChange: this.onSlideChange.bind(this)
          }
        };
  
        // Override default settings if image set feature enabled
        if (this.settings.imageSetName) {
          var imageSetArgs = this.imageSetArguments(variant);
          mainSliderArgs = Object.assign({}, mainSliderArgs, imageSetArgs);
          this.updateImageSetThumbs(mainSliderArgs.imageSet);
        }
  
        this.flickity = new theme.Slideshow(this.cache.mainSlider, mainSliderArgs);
      },
  
      onSliderInit: function(slide) {
        // If slider is initialized with image set feature active,
        // initialize any videos/media when they are first slide
        if (this.settings.imageSetName) {
          this.prepMediaOnSlide(slide);
        }
      },
  
      onSlideChange: function(index) {
        if (!this.flickity) return;
  
        var prevSlide = this.cache.mainSlider.querySelector('.product-main-slide[data-index="'+this.settings.currentSlideIndex+'"]');
  
        // If imageSetName exists, use a more specific selector
        var nextSlide = this.settings.imageSetName ?
                        this.cache.mainSlider.querySelectorAll('.flickity-slider .product-main-slide')[index] :
                        this.cache.mainSlider.querySelector('.product-main-slide[data-index="'+index+'"]');
  
        prevSlide.setAttribute('tabindex', '-1');
        nextSlide.setAttribute('tabindex', 0);
  
        // Pause any existing slide video/media
        this.stopMediaOnSlide(prevSlide);
  
        // Prep next slide video/media
        this.prepMediaOnSlide(nextSlide);
  
        // Update current slider index
        this.settings.currentSlideIndex = index;
      },
  
      stopMediaOnSlide(slide) {
        // Stop existing video
        var video = slide.querySelector(selectors.productVideo);
        if (video) {
          var videoType = this._getVideoType(video);
          var videoId = this._getVideoDivId(video);
          if (videoType === 'youtube') {
            if (videoObjects[videoId].videoPlayer) {
              videoObjects[videoId].videoPlayer.stopVideo();
              return;
            }
          } else if (videoType === 'mp4') {
            this.stopMp4Video(videoId);
            return;
          }
        }
  
        // Stop existing media
        var currentMedia = slide.querySelector(this.selectors.media);
        if (currentMedia) {
          currentMedia.dispatchEvent(
            new CustomEvent('mediaHidden', {
              bubbles: true,
              cancelable: true
            })
          );
        }
      },
  
      prepMediaOnSlide(slide) {
        var video = slide.querySelector(selectors.productVideo);
        if (video) {
          this.flickity.reposition();
          var videoType = this._getVideoType(video);
          var videoId = this._getVideoDivId(video);
          if (videoType === 'youtube') {
            if (videoObjects[videoId].videoPlayer && videoObjects[videoId].options.style !== 'sound') {
              videoObjects[videoId].videoPlayer.playVideo();
              return;
            }
          } else if (videoType === 'mp4') {
            this.playMp4Video(videoId);
          }
        }
  
        var nextMedia = slide.querySelector(this.selectors.media);
        if (nextMedia) {
          nextMedia.dispatchEvent(
            new CustomEvent('mediaVisible', {
              bubbles: true,
              cancelable: true
            })
          );
          slide.querySelector('.shopify-model-viewer-ui__button').setAttribute('tabindex', 0);
          slide.querySelector('.product-single__close-media').setAttribute('tabindex', 0);
        }
      },
  
      _slideIndex: function(el) {
        return el.getAttribute('data-index');
      },
  
      /*============================================================================
        Products when in quick view modal
      ==============================================================================*/
      openModalProduct: function() {
        var initialized = false;
  
        if (!this.settings.modalInit) {
          this.blocksHolder = this.container.querySelector(selectors.blocksHolder);
          var url = this.blocksHolder.dataset.url;
  
          fetch(url).then(function(response) {
            return response.text();
          }).then(function(html) {
            var parser = new DOMParser();
            var doc = parser.parseFromString(html, 'text/html');
            var blocks = doc.querySelector(selectors.blocks);
  
            // Because the same product could be opened in quick view
            // on the page we load the form elements from, we need to
            // update any `id`, `for`, and `form` attributes
            blocks.querySelectorAll('[id]').forEach(el => {
              // Update input `id`
              var val = el.getAttribute('id');
              el.setAttribute('id', val + '-modal');
  
              // Update related label if it exists
              var label = blocks.querySelector(`[for="${val}"]`);
              if (label) {
                label.setAttribute('for', val + '-modal');
              }
  
              // Update any collapsible elements
              var collapsibleTrigger = blocks.querySelector(`[aria-controls="${val}"]`);
              if (collapsibleTrigger) {
                collapsibleTrigger.setAttribute('aria-controls', val + '-modal');
              }
            });
  
            // Update any elements with `form` attribute.
            // Form element already has `-modal` appended
            var form = blocks.querySelector(this.selectors.form);
            var formId = form.getAttribute('id');
            blocks.querySelectorAll('[form]').forEach(el => {
              el.setAttribute('form', formId);
            });
  
            this.blocksHolder.innerHTML = '';
            this.blocksHolder.append(blocks);
            this.blocksHolder.classList.add('product-form-holder--loaded');
  
            this.cacheElements();
  
            this.formSetup();
            this.updateModalProductInventory();
  
            if (Shopify && Shopify.PaymentButton) {
              Shopify.PaymentButton.init();
            }
  
            // Re-hook up collapsible box triggers
            theme.collapsibles.init(this.container);
  
            document.dispatchEvent(new CustomEvent('quickview:loaded', {
              detail: {
                productId: this.sectionId
              }
            }));
          }.bind(this));
  
          this.productSetup();
          this.videoSetup();
  
          // Enable product slider in quick view
          // 1. with image sets enabled, make sure we have this.variants before initializing
          // 2. initialize normally, form data not required
          if (this.settings.imageSetName) {
            if (this.variants) {
              this.initProductSlider();
            } else {
              document.addEventListener('quickview:loaded', function(evt) {
                if (evt.detail.productId === this.sectionId) {
                  this.initProductSlider();
                }
              }.bind(this));
            }
          } else {
            this.initProductSlider();
          }
          this.customMediaListners();
          this.settings.modalInit = true;
        } else {
          initialized = true;
        }
  
        AOS.refreshHard();
  
        document.dispatchEvent(new CustomEvent('quickview:open', {
          detail: {
            initialized: initialized,
            productId: this.sectionId
          }
        }));
      },
  
      // Recommended products load via JS and don't add variant inventory to the
      // global variable that we later check. This function scrapes a data div
      // to get that info and manually add the values.
      updateModalProductInventory: function() {
        window.inventories = window.inventories || {};
        this.container.querySelectorAll('.js-product-inventory-data').forEach(el => {
          var productId = el.dataset.productId;
          window.inventories[productId] = {};
  
          el.querySelectorAll('.js-variant-inventory-data').forEach(el => {
            window.inventories[productId][el.dataset.id] = {
              'quantity': el.dataset.quantity,
              'policy': el.dataset.policy,
              'incoming': el.dataset.incoming,
              'next_incoming_date': el.dataset.date
            }
          });
        });
      },
  
      closeModalProduct: function() {
        this.stopVideos();
      },
  
      /*============================================================================
        Product media (3D)
      ==============================================================================*/
      initModelViewerLibraries: function() {
        var modelViewerElements = this.container.querySelectorAll(this.selectors.media);
        if (modelViewerElements.length < 1) return;
  
        theme.ProductMedia.init(modelViewerElements, this.sectionId);
      },
  
      initShopifyXrLaunch: function() {
        document.addEventListener(
          'shopify_xr_launch',
          function() {
            var currentMedia = this.container.querySelector(
              this.selectors.productMediaWrapper +
                ':not(.' +
                self.classes.hidden +
                ')'
            );
            currentMedia.dispatchEvent(
              new CustomEvent('xrLaunch', {
                bubbles: true,
                cancelable: true
              })
            );
          }.bind(this)
        );
      },
  
      customMediaListners: function() {
        document.querySelectorAll(this.selectors.closeMedia).forEach(el => {
          el.addEventListener('click', function() {
            var slide = this.cache.mainSlider.querySelector(selectors.currentSlide);
            var media = slide.querySelector(this.selectors.media);
            if (media) {
              media.dispatchEvent(
                new CustomEvent('mediaHidden', {
                  bubbles: true,
                  cancelable: true
                })
              );
            }
          }.bind(this))
        });
  
        var modelViewers = this.container.querySelectorAll('model-viewer');
        if (modelViewers.length) {
          modelViewers.forEach(el => {
            el.addEventListener('shopify_model_viewer_ui_toggle_play', function(evt) {
              this.mediaLoaded(evt);
            }.bind(this));
  
            el.addEventListener('shopify_model_viewer_ui_toggle_pause', function(evt) {
              this.mediaUnloaded(evt);
            }.bind(this));
          });
        }
      },
  
      mediaLoaded: function(evt) {
        this.container.querySelectorAll(this.selectors.closeMedia).forEach(el => {
          el.classList.remove(classes.hidden);
        });
  
        if (this.flickity) {
          this.flickity.setDraggable(false);
        }
      },
  
      mediaUnloaded: function(evt) {
        this.container.querySelectorAll(this.selectors.closeMedia).forEach(el => {
          el.classList.add(classes.hidden);
        });
  
        if (this.flickity) {
          this.flickity.setDraggable(true);
        }
      }
    });
  
    return Product;
  })();
  
  theme.Testimonials = (function() {
    var defaults = {
      adaptiveHeight: true,
      avoidReflow: true,
      pageDots: true,
      prevNextButtons: false
    };
  
    function Testimonials(container) {
      this.container = container;
      var sectionId = container.getAttribute('data-section-id');
      this.slideshow = container.querySelector('#Testimonials-' + sectionId);
      this.namespace = '.testimonial-' + sectionId;
  
      if (!this.slideshow) { return }
  
      theme.initWhenVisible({
        element: this.container,
        callback: this.init.bind(this),
        threshold: 600
      });
    }
  
    Testimonials.prototype = Object.assign({}, Testimonials.prototype, {
      init: function() {
        // Do not wrap when only a few blocks
        if (this.slideshow.dataset.count <= 3) {
          defaults.wrapAround = false;
        }
  
        this.flickity = new theme.Slideshow(this.slideshow, defaults);
  
        // Autoscroll to next slide on load to indicate more blocks
        if (this.slideshow.dataset.count > 3) {
          setTimeout(function() {
            this.flickity.goToSlide(1);
          }.bind(this), 1000);
        }
      },
  
      onUnload: function() {
        if (this.flickity && typeof this.flickity.destroy === 'function') {
          this.flickity.destroy();
        }
      },
  
      onDeselect: function() {
        if (this.flickity && typeof this.flickity.play === 'function') {
          this.flickity.play();
        }
      },
  
      onBlockSelect: function(evt) {
        var slide = this.slideshow.querySelector('.testimonials-slide--' + evt.detail.blockId)
        var index = parseInt(slide.dataset.index);
  
        if (this.flickity && typeof this.flickity.pause === 'function') {
          this.flickity.goToSlide(index);
          this.flickity.pause();
        }
      },
  
      onBlockDeselect: function() {
        if (this.flickity && typeof this.flickity.play === 'function') {
          this.flickity.play();
        }
      }
    });
  
    return Testimonials;
  })();
  

  theme.isSessionStorageSupported = function() {
    // Return false if we are in an iframe without access to sessionStorage
    if (window.self !== window.top) {
      return false;
    }

    var testKey = 'test';
    var storage = window.sessionStorage;
    try {
      storage.setItem(testKey, '1');
      storage.removeItem(testKey);
      return true;
    } catch (error) {
      return false;
    }
  };

  theme.reinitProductGridItem = function(scope) {
    if (AOS) {AOS.refreshHard()}

    theme.initQuickShop();

    // Refresh reviews app
    if (window.SPR) {SPR.initDomEls();SPR.loadBadges()}

    // Re-hook up collapsible box triggers
    theme.collapsibles.init();
  };

  /*============================================================================
    Things that don't require DOM to be ready
  ==============================================================================*/
  theme.config.hasSessionStorage = theme.isSessionStorageSupported();
  AOS.init({
    easing: 'ease-out-quad',
    once: true,
    offset: 60,
    disableMutationObserver: true
  });

  // Trigger events when going between breakpoints
  theme.config.bpSmall = matchMedia(theme.config.mediaQuerySmall).matches;
  matchMedia(theme.config.mediaQuerySmall).addListener(function(mql) {
    if (mql.matches) {
      theme.config.bpSmall = true;
      document.dispatchEvent(new CustomEvent('matchSmall'));
    }
    else {
      theme.config.bpSmall = false;
      document.dispatchEvent(new CustomEvent('unmatchSmall'));
    }
  });

  /*============================================================================
    Things that require DOM to be ready
  ==============================================================================*/
  function DOMready(callback) {
    if (document.readyState != 'loading') callback();
    else document.addEventListener('DOMContentLoaded', callback);
  }

  // Load generic JS. Also reinitializes when sections are
  // added, edited, or removed in Shopify's editor
  theme.initGlobals = function() {
    theme.collapsibles.init();
    theme.videoModal();
  }

  DOMready(function(){
    theme.sections = new theme.Sections();

    theme.sections.register('slideshow-section', theme.SlideshowSection);
    theme.sections.register('header', theme.HeaderSection);
    theme.sections.register('footer', theme.FooterSection);
    theme.sections.register('product', theme.Product);
    theme.sections.register('password-header', theme.PasswordHeader);
    theme.sections.register('collection-switcher', theme.CollectionSwitcher);
    theme.sections.register('map', theme.Maps);
    theme.sections.register('blog', theme.Blog);
    theme.sections.register('newsletter-popup', theme.NewsletterPopup);
    theme.sections.register('product-recommendations', theme.Recommendations);
    theme.sections.register('video-section', theme.VideoSection);
    theme.sections.register('photoswipe', theme.Photoswipe);
    theme.sections.register('store-availability', theme.StoreAvailability);
    theme.sections.register('fading-images', theme.FadingImages);
    theme.sections.register('testimonials', theme.Testimonials);
    theme.sections.register('background-image', theme.BackgroundImage);
    theme.sections.register('collection-template', theme.Collection);

    theme.initGlobals();
    theme.initQuickShop();
    theme.rteInit();
    theme.articleImages();

    if (document.body.classList.contains('template-cart')) {
      var cartPageForm = document.getElementById('CartPageForm');
      if (cartPageForm) {
        new theme.CartForm(cartPageForm);
      }
    }

    if (theme.settings.predictiveSearch) {
      theme.predictiveSearch.init();
    }
    if (theme.settings.isCustomerTemplate) {
      theme.customerTemplates();
    }

    theme.pageTransitions();

    document.dispatchEvent(new CustomEvent('page:loaded'));
  });
})();

/*
@license
Motion by Archetype Themes (https://archetypethemes.co)

Plugins:
JavaScript Cookie       2.2.0
AOS                     2.3.4
Flickity                2.3.0 with customizations by Archetype
Flickity Fade           1.0.0 with customizations by Archetype
Photoswipe              4.1.3
Photoswipe UI           4.1.2 with customizations by Archetype
noUiSlider              15.2.0

Lazysizes for image loading:
core                    4.0.2
respimg                 4.0.1
rias                    4.0.1
*/
/*! lazysizes respimg - v4.0.1 */
!function(t, e) {
    var i = function() {
        e(t.lazySizes),
        t.removeEventListener("lazyunveilread", i, !0)
    };
    e = e.bind(null, t, t.document),
    "object" == typeof module && module.exports ? e(require("lazysizes"), require("../fix-ios-sizes/fix-ios-sizes")) : t.lazySizes ? i() : t.addEventListener("lazyunveilread", i, !0)
}(window, (function(t, e, i) {
    "use strict";
    var n, o = i && i.cfg || t.lazySizesConfig, r = e.createElement("img"), s = "sizes"in r && "srcset"in r, a = /\s+\d+h/g, l = function() {
        var t = /\s+(\d+)(w|h)\s+(\d+)(w|h)/
          , i = Array.prototype.forEach;
        return function(n) {
            var o = e.createElement("img")
              , r = function(e) {
                var i, n = e.getAttribute(lazySizesConfig.srcsetAttr);
                n && (n.match(t) && ((i = "w" == RegExp.$2 ? RegExp.$1 / RegExp.$3 : RegExp.$3 / RegExp.$1) && e.setAttribute("data-aspectratio", i)),
                e.setAttribute(lazySizesConfig.srcsetAttr, n.replace(a, "")))
            }
              , s = function(t) {
                var e = t.target.parentNode;
                e && "PICTURE" == e.nodeName && i.call(e.getElementsByTagName("source"), r),
                r(t.target)
            }
              , l = function() {
                o.currentSrc && e.removeEventListener("lazybeforeunveil", s)
            };
            n[1] && (e.addEventListener("lazybeforeunveil", s),
            o.onload = l,
            o.onerror = l,
            o.srcset = "data:,a 1w 1h",
            o.complete && l())
        }
    }();
    if (o || (o = {},
    t.lazySizesConfig = o),
    o.supportsType || (o.supportsType = function(t) {
        return !t
    }
    ),
    !t.picturefill && !o.pf) {
        if (t.HTMLPictureElement && s)
            return e.msElementsFromPoint && l(navigator.userAgent.match(/Edge\/(\d+)/)),
            void (o.pf = function() {}
            );
        o.pf = function(e) {
            var i, o;
            if (!t.picturefill)
                for (i = 0,
                o = e.elements.length; o > i; i++)
                    n(e.elements[i])
        }
        ,
        n = function() {
            var r = function(t, e) {
                return t.w - e.w
            }
              , l = /^\s*\d+\.*\d*px\s*$/
              , c = function() {
                var t, e = /(([^,\s].[^\s]+)\s+(\d+)w)/g, i = /\s/, n = function(e, i, n, o) {
                    t.push({
                        c: i,
                        u: n,
                        w: 1 * o
                    })
                };
                return function(o) {
                    return t = [],
                    (o = o.trim()).replace(a, "").replace(e, n),
                    t.length || !o || i.test(o) || t.push({
                        c: o,
                        u: o,
                        w: 99
                    }),
                    t
                }
            }()
              , u = function() {
                u.init || (u.init = !0,
                addEventListener("resize", function() {
                    var t, i = e.getElementsByClassName("lazymatchmedia"), o = function() {
                        var t, e;
                        for (t = 0,
                        e = i.length; e > t; t++)
                            n(i[t])
                    };
                    return function() {
                        clearTimeout(t),
                        t = setTimeout(o, 66)
                    }
                }()))
            }
              , d = function(e, n) {
                var r, s = e.getAttribute("srcset") || e.getAttribute(o.srcsetAttr);
                !s && n && (s = e._lazypolyfill ? e._lazypolyfill._set : e.getAttribute(o.srcAttr) || e.getAttribute("src")),
                e._lazypolyfill && e._lazypolyfill._set == s || (r = c(s || ""),
                n && e.parentNode && (r.isPicture = "PICTURE" == e.parentNode.nodeName.toUpperCase(),
                r.isPicture && t.matchMedia && (i.aC(e, "lazymatchmedia"),
                u())),
                r._set = s,
                Object.defineProperty(e, "_lazypolyfill", {
                    value: r,
                    writable: !0
                }))
            }
              , f = function(e) {
                var n = t.devicePixelRatio || 1
                  , o = i.getX && i.getX(e);
                return Math.min(o || n, 2.5, n)
            }
              , h = function(e) {
                return t.matchMedia ? (h = function(t) {
                    return !t || (matchMedia(t) || {}).matches
                }
                )(e) : !e
            }
              , p = function(t) {
                var e, n, s, a, c, u, p;
                if (d(a = t, !0),
                (c = a._lazypolyfill).isPicture)
                    for (n = 0,
                    s = (e = t.parentNode.getElementsByTagName("source")).length; s > n; n++)
                        if (o.supportsType(e[n].getAttribute("type"), t) && h(e[n].getAttribute("media"))) {
                            a = e[n],
                            d(a),
                            c = a._lazypolyfill;
                            break
                        }
                return c.length > 1 ? (p = a.getAttribute("sizes") || "",
                p = l.test(p) && parseInt(p, 10) || i.gW(t, t.parentNode),
                c.d = f(t),
                !c.src || !c.w || c.w < p ? (c.w = p,
                u = function(t) {
                    for (var e, i, n = t.length, o = t[n - 1], r = 0; n > r; r++)
                        if ((o = t[r]).d = o.w / t.w,
                        o.d >= t.d) {
                            !o.cached && (e = t[r - 1]) && e.d > t.d - .13 * Math.pow(t.d, 2.2) && (i = Math.pow(e.d - .6, 1.6),
                            e.cached && (e.d += .15 * i),
                            e.d + (o.d - t.d) * i > t.d && (o = e));
                            break
                        }
                    return o
                }(c.sort(r)),
                c.src = u) : u = c.src) : u = c[0],
                u
            }
              , m = function(t) {
                if (!s || !t.parentNode || "PICTURE" == t.parentNode.nodeName.toUpperCase()) {
                    var e = p(t);
                    e && e.u && t._lazypolyfill.cur != e.u && (t._lazypolyfill.cur = e.u,
                    e.cached = !0,
                    t.setAttribute(o.srcAttr, e.u),
                    t.setAttribute("src", e.u))
                }
            };
            return m.parse = c,
            m
        }(),
        o.loadedClass && o.loadingClass && function() {
            var t = [];
            ['img[sizes$="px"][srcset].', "picture > img:not([srcset])."].forEach((function(e) {
                t.push(e + o.loadedClass),
                t.push(e + o.loadingClass)
            }
            )),
            o.pf({
                elements: e.querySelectorAll(t.join(", "))
            })
        }()
    }
}
)),
function(t, e) {
    var i = function() {
        e(t.lazySizes),
        t.removeEventListener("lazyunveilread", i, !0)
    };
    e = e.bind(null, t, t.document),
    "object" == typeof module && module.exports ? e(require("lazysizes")) : t.lazySizes ? i() : t.addEventListener("lazyunveilread", i, !0)
}(window, (function(t, e, i) {
    "use strict";
    function n(e, i) {
        var n, o, r, s, a = t.getComputedStyle(e);
        for (n in o = e.parentNode,
        s = {
            isPicture: !(!o || !d.test(o.nodeName || ""))
        },
        r = function(t, i) {
            var n = e.getAttribute("data-" + t);
            if (!n) {
                var o = a.getPropertyValue("--ls-" + t);
                o && (n = o.trim())
            }
            if (n) {
                if ("true" == n)
                    n = !0;
                else if ("false" == n)
                    n = !1;
                else if (u.test(n))
                    n = parseFloat(n);
                else if ("function" == typeof l[t])
                    n = l[t](e, n);
                else if (m.test(n))
                    try {
                        n = JSON.parse(n)
                    } catch (t) {}
                s[t] = n
            } else
                t in l && "function" != typeof l[t] ? s[t] = l[t] : i && "function" == typeof l[t] && (s[t] = l[t](e, n))
        }
        ,
        l)
            r(n);
        return i.replace(p, (function(t, e) {
            e in s || r(e, !0)
        }
        )),
        s
    }
    function o(t, i, n) {
        var o = 0
          , r = 0
          , s = n;
        if (t) {
            if ("container" === i.ratio) {
                for (o = s.scrollWidth,
                r = s.scrollHeight; !(o && r || s === e); )
                    o = (s = s.parentNode).scrollWidth,
                    r = s.scrollHeight;
                o && r && (i.ratio = r / o)
            }
            (t = function(t, e) {
                var i = [];
                return i.srcset = [],
                e.absUrl && (v.setAttribute("href", t),
                t = v.href),
                t = ((e.prefix || "") + t + (e.postfix || "")).replace(p, (function(t, i) {
                    return c[typeof e[i]] ? e[i] : t
                }
                )),
                e.widths.forEach((function(n) {
                    var o = e.widthmap[n] || n
                      , r = {
                        u: t.replace(f, o).replace(h, e.ratio ? Math.round(n * e.ratio) : ""),
                        w: n
                    };
                    i.push(r),
                    i.srcset.push(r.c = r.u + " " + n + "w")
                }
                )),
                i
            }(t, i)).isPicture = i.isPicture,
            b && "IMG" == n.nodeName.toUpperCase() ? n.removeAttribute(a.srcsetAttr) : n.setAttribute(a.srcsetAttr, t.srcset.join(", ")),
            Object.defineProperty(n, "_lazyrias", {
                value: t,
                writable: !0
            })
        }
    }
    function r(t, e) {
        var o = n(t, e);
        return l.modifyOptions.call(t, {
            target: t,
            details: o,
            detail: o
        }),
        i.fire(t, "lazyriasmodifyoptions", o),
        o
    }
    function s(t) {
        return t.getAttribute(t.getAttribute("data-srcattr") || l.srcAttr) || t.getAttribute(a.srcsetAttr) || t.getAttribute(a.srcAttr) || t.getAttribute("data-pfsrcset") || ""
    }
    var a, l, c = {
        string: 1,
        number: 1
    }, u = /^\-*\+*\d+\.*\d*$/, d = /^picture$/i, f = /\s*\{\s*width\s*\}\s*/i, h = /\s*\{\s*height\s*\}\s*/i, p = /\s*\{\s*([a-z0-9]+)\s*\}\s*/gi, m = /^\[.*\]|\{.*\}$/, g = /^(?:auto|\d+(px)?)$/, v = e.createElement("a"), y = e.createElement("img"), b = "srcset"in y && !("sizes"in y), x = !!t.HTMLPictureElement && !b;
    !function() {
        var e, n = {
            prefix: "",
            postfix: "",
            srcAttr: "data-src",
            absUrl: !1,
            modifyOptions: function() {},
            widthmap: {},
            ratio: !1
        };
        for (e in (a = i && i.cfg || t.lazySizesConfig) || (a = {},
        t.lazySizesConfig = a),
        a.supportsType || (a.supportsType = function(t) {
            return !t
        }
        ),
        a.rias || (a.rias = {}),
        "widths"in (l = a.rias) || (l.widths = [],
        function(t) {
            for (var e, i = 0; !e || 3e3 > e; )
                (i += 5) > 30 && (i += 1),
                e = 36 * i,
                t.push(e)
        }(l.widths)),
        n)
            e in l || (l[e] = n[e])
    }(),
    addEventListener("lazybeforesizes", (function(t) {
        var e, n, c, u, d, h, p, m, v, y, b, S, C;
        if (t.detail.instance == i && (e = t.target,
        t.detail.dataAttr && !t.defaultPrevented && !l.disabled && (v = e.getAttribute(a.sizesAttr) || e.getAttribute("sizes")) && g.test(v))) {
            if (c = r(e, n = s(e)),
            b = f.test(c.prefix) || f.test(c.postfix),
            c.isPicture && (u = e.parentNode))
                for (h = 0,
                p = (d = u.getElementsByTagName("source")).length; p > h; h++)
                    (b || f.test(m = s(d[h]))) && (o(m, c, d[h]),
                    S = !0);
            b || f.test(n) ? (o(n, c, e),
            S = !0) : S && ((C = []).srcset = [],
            C.isPicture = !0,
            Object.defineProperty(e, "_lazyrias", {
                value: C,
                writable: !0
            })),
            S && (x ? e.removeAttribute(a.srcAttr) : "auto" != v && (y = {
                width: parseInt(v, 10)
            },
            w({
                target: e,
                detail: y
            })))
        }
    }
    ), !0);
    var w = function() {
        var n = function(t, e) {
            return t.w - e.w
        }
          , o = function(t, e) {
            var n;
            return !t._lazyrias && i.pWS && (n = i.pWS(t.getAttribute(a.srcsetAttr || ""))).length && (Object.defineProperty(t, "_lazyrias", {
                value: n,
                writable: !0
            }),
            e && t.parentNode && (n.isPicture = "PICTURE" == t.parentNode.nodeName.toUpperCase())),
            t._lazyrias
        }
          , r = function(e) {
            var n = t.devicePixelRatio || 1
              , o = i.getX && i.getX(e);
            return Math.min(o || n, 2.4, n)
        }
          , s = function(e, i) {
            var s, a, l, c, u, d;
            if ((u = e._lazyrias).isPicture && t.matchMedia)
                for (a = 0,
                l = (s = e.parentNode.getElementsByTagName("source")).length; l > a; a++)
                    if (o(s[a]) && !s[a].getAttribute("type") && (!(c = s[a].getAttribute("media")) || (matchMedia(c) || {}).matches)) {
                        u = s[a]._lazyrias;
                        break
                    }
            return (!u.w || u.w < i) && (u.w = i,
            u.d = r(e),
            d = function(t) {
                for (var e, i, n = t.length, o = t[n - 1], r = 0; n > r; r++)
                    if ((o = t[r]).d = o.w / t.w,
                    o.d >= t.d) {
                        !o.cached && (e = t[r - 1]) && e.d > t.d - .13 * Math.pow(t.d, 2.2) && (i = Math.pow(e.d - .6, 1.6),
                        e.cached && (e.d += .15 * i),
                        e.d + (o.d - t.d) * i > t.d && (o = e));
                        break
                    }
                return o
            }(u.sort(n))),
            d
        }
          , l = function(n) {
            if (n.detail.instance == i) {
                var r, c = n.target;
                return !b && (t.respimage || t.picturefill || lazySizesConfig.pf) ? void e.removeEventListener("lazybeforesizes", l) : void (("_lazyrias"in c || n.detail.dataAttr && o(c, !0)) && (r = s(c, n.detail.width),
                r && r.u && c._lazyrias.cur != r.u && (c._lazyrias.cur = r.u,
                r.cached = !0,
                i.rAF((function() {
                    c.setAttribute(a.srcAttr, r.u),
                    c.setAttribute("src", r.u)
                }
                )))))
            }
        };
        return x ? l = function() {}
        : addEventListener("lazybeforesizes", l),
        l
    }()
}
)),
function(t, e) {
    var i = function(t, e) {
        "use strict";
        if (e.getElementsByClassName) {
            var i, n, o = e.documentElement, r = t.Date, s = t.HTMLPictureElement, a = "addEventListener", l = "getAttribute", c = t[a], u = t.setTimeout, d = t.requestAnimationFrame || u, f = t.requestIdleCallback, h = /^picture$/i, p = ["load", "error", "lazyincluded", "_lazyloaded"], m = {}, g = Array.prototype.forEach, v = function(t, e) {
                return m[e] || (m[e] = new RegExp("(\\s|^)" + e + "(\\s|$)")),
                m[e].test(t[l]("class") || "") && m[e]
            }, y = function(t, e) {
                v(t, e) || t.setAttribute("class", (t[l]("class") || "").trim() + " " + e)
            }, b = function(t, e) {
                var i;
                (i = v(t, e)) && t.setAttribute("class", (t[l]("class") || "").replace(i, " "))
            }, x = function(t, e, i) {
                var n = i ? a : "removeEventListener";
                i && x(t, e),
                p.forEach((function(i) {
                    t[n](i, e)
                }
                ))
            }, w = function(t, n, o, r, s) {
                var a = e.createEvent("CustomEvent");
                return o || (o = {}),
                o.instance = i,
                a.initCustomEvent(n, !r, !s, o),
                t.dispatchEvent(a),
                a
            }, S = function(e, i) {
                var o;
                !s && (o = t.picturefill || n.pf) ? o({
                    reevaluate: !0,
                    elements: [e]
                }) : i && i.src && (e.src = i.src)
            }, C = function(t, e) {
                return (getComputedStyle(t, null) || {})[e]
            }, E = function(t, e, i) {
                for (i = i || t.offsetWidth; i < n.minSize && e && !t._lazysizesWidth; )
                    i = e.offsetWidth,
                    e = e.parentNode;
                return i
            }, z = function() {
                var t, i, n = [], o = [], r = n, s = function() {
                    var e = r;
                    for (r = n.length ? o : n,
                    t = !0,
                    i = !1; e.length; )
                        e.shift()();
                    t = !1
                }, a = function(n, o) {
                    t && !o ? n.apply(this, arguments) : (r.push(n),
                    i || (i = !0,
                    (e.hidden ? u : d)(s)))
                };
                return a._lsFlush = s,
                a
            }(), D = function(t, e) {
                return e ? function() {
                    z(t)
                }
                : function() {
                    var e = this
                      , i = arguments;
                    z((function() {
                        t.apply(e, i)
                    }
                    ))
                }
            }, k = function(t) {
                var e, i = 0, o = n.throttleDelay, s = n.ricTimeout, a = function() {
                    e = !1,
                    i = r.now(),
                    t()
                }, l = f && s > 49 ? function() {
                    f(a, {
                        timeout: s
                    }),
                    s !== n.ricTimeout && (s = n.ricTimeout)
                }
                : D((function() {
                    u(a)
                }
                ), !0);
                return function(t) {
                    var n;
                    (t = !0 === t) && (s = 33),
                    e || (e = !0,
                    (n = o - (r.now() - i)) < 0 && (n = 0),
                    t || n < 9 ? l() : u(l, n))
                }
            }, P = function(t) {
                var e, i, n = function() {
                    e = null,
                    t()
                }, o = function() {
                    var t = r.now() - i;
                    t < 99 ? u(o, 99 - t) : (f || n)(n)
                };
                return function() {
                    i = r.now(),
                    e || (e = u(o, 99))
                }
            };
            !function() {
                var e, i = {
                    lazyClass: "lazyload",
                    loadedClass: "lazyloaded",
                    loadingClass: "lazyloading",
                    preloadClass: "lazypreload",
                    errorClass: "lazyerror",
                    autosizesClass: "lazyautosizes",
                    srcAttr: "data-src",
                    srcsetAttr: "data-srcset",
                    sizesAttr: "data-sizes",
                    minSize: 40,
                    customMedia: {},
                    init: !0,
                    expFactor: 1.5,
                    hFac: .8,
                    loadMode: 2,
                    loadHidden: !0,
                    ricTimeout: 0,
                    throttleDelay: 125
                };
                for (e in n = t.lazySizesConfig || t.lazysizesConfig || {},
                i)
                    e in n || (n[e] = i[e]);
                t.lazySizesConfig = n,
                u((function() {
                    n.init && T()
                }
                ))
            }();
            var A = function() {
                var s, d, f, p, m, E, A, T, M, I, L, N, O, F, U = /^img$/i, R = /^iframe$/i, j = "onscroll"in t && !/glebot/.test(navigator.userAgent), W = 0, H = 0, V = -1, q = function(t) {
                    H--,
                    t && t.target && x(t.target, q),
                    (!t || H < 0 || !t.target) && (H = 0)
                }, B = function(t, i) {
                    var n, r = t, s = "hidden" == C(e.body, "visibility") || "hidden" != C(t, "visibility");
                    for (T -= i,
                    L += i,
                    M -= i,
                    I += i; s && (r = r.offsetParent) && r != e.body && r != o; )
                        (s = (C(r, "opacity") || 1) > 0) && "visible" != C(r, "overflow") && (n = r.getBoundingClientRect(),
                        s = I > n.left && M < n.right && L > n.top - 1 && T < n.bottom + 1);
                    return s
                }, Z = function() {
                    var t, r, a, c, u, f, h, m, g, v = i.elements;
                    if ((p = n.loadMode) && H < 8 && (t = v.length)) {
                        r = 0,
                        V++,
                        null == O && ("expand"in n || (n.expand = o.clientHeight > 500 && o.clientWidth > 500 ? 500 : 370),
                        N = n.expand,
                        O = N * n.expFactor),
                        W < O && H < 1 && V > 2 && p > 2 && !e.hidden ? (W = O,
                        V = 0) : W = p > 1 && V > 1 && H < 6 ? N : 0;
                        for (; r < t; r++)
                            if (v[r] && !v[r]._lazyRace)
                                if (j)
                                    if ((m = v[r][l]("data-expand")) && (f = 1 * m) || (f = W),
                                    g !== f && (E = innerWidth + f * F,
                                    A = innerHeight + f,
                                    h = -1 * f,
                                    g = f),
                                    a = v[r].getBoundingClientRect(),
                                    (L = a.bottom) >= h && (T = a.top) <= A && (I = a.right) >= h * F && (M = a.left) <= E && (L || I || M || T) && (n.loadHidden || "hidden" != C(v[r], "visibility")) && (d && H < 3 && !m && (p < 3 || V < 4) || B(v[r], f))) {
                                        if (Q(v[r]),
                                        u = !0,
                                        H > 9)
                                            break
                                    } else
                                        !u && d && !c && H < 4 && V < 4 && p > 2 && (s[0] || n.preloadAfterLoad) && (s[0] || !m && (L || I || M || T || "auto" != v[r][l](n.sizesAttr))) && (c = s[0] || v[r]);
                                else
                                    Q(v[r]);
                        c && !u && Q(c)
                    }
                }, X = k(Z), G = function(t) {
                    y(t.target, n.loadedClass),
                    b(t.target, n.loadingClass),
                    x(t.target, K),
                    w(t.target, "lazyloaded")
                }, Y = D(G), K = function(t) {
                    Y({
                        target: t.target
                    })
                }, $ = function(t) {
                    var e, i = t[l](n.srcsetAttr);
                    (e = n.customMedia[t[l]("data-media") || t[l]("media")]) && t.setAttribute("media", e),
                    i && t.setAttribute("srcset", i)
                }, J = D((function(t, e, i, o, r) {
                    var s, a, c, d, p, m;
                    (p = w(t, "lazybeforeunveil", e)).defaultPrevented || (o && (i ? y(t, n.autosizesClass) : t.setAttribute("sizes", o)),
                    a = t[l](n.srcsetAttr),
                    s = t[l](n.srcAttr),
                    r && (d = (c = t.parentNode) && h.test(c.nodeName || "")),
                    m = e.firesLoad || "src"in t && (a || s || d),
                    p = {
                        target: t
                    },
                    m && (x(t, q, !0),
                    clearTimeout(f),
                    f = u(q, 2500),
                    y(t, n.loadingClass),
                    x(t, K, !0)),
                    d && g.call(c.getElementsByTagName("source"), $),
                    a ? t.setAttribute("srcset", a) : s && !d && (R.test(t.nodeName) ? function(t, e) {
                        try {
                            t.contentWindow.location.replace(e)
                        } catch (i) {
                            t.src = e
                        }
                    }(t, s) : t.src = s),
                    r && (a || d) && S(t, {
                        src: s
                    })),
                    t._lazyRace && delete t._lazyRace,
                    b(t, n.lazyClass),
                    z((function() {
                        (!m || t.complete && t.naturalWidth > 1) && (m ? q(p) : H--,
                        G(p))
                    }
                    ), !0)
                }
                )), Q = function(t) {
                    var e, i = U.test(t.nodeName), o = i && (t[l](n.sizesAttr) || t[l]("sizes")), r = "auto" == o;
                    (!r && d || !i || !t[l]("src") && !t.srcset || t.complete || v(t, n.errorClass) || !v(t, n.lazyClass)) && (e = w(t, "lazyunveilread").detail,
                    r && _.updateElem(t, !0, t.offsetWidth),
                    t._lazyRace = !0,
                    H++,
                    J(t, e, r, o, i))
                }, tt = function() {
                    if (!d) {
                        if (r.now() - m < 999)
                            return void u(tt, 999);
                        var t = P((function() {
                            n.loadMode = 3,
                            X()
                        }
                        ));
                        d = !0,
                        n.loadMode = 3,
                        X(),
                        c("scroll", (function() {
                            3 == n.loadMode && (n.loadMode = 2),
                            t()
                        }
                        ), !0)
                    }
                };
                return {
                    _: function() {
                        m = r.now(),
                        i.elements = e.getElementsByClassName(n.lazyClass),
                        s = e.getElementsByClassName(n.lazyClass + " " + n.preloadClass),
                        F = n.hFac,
                        c("scroll", X, !0),
                        c("resize", X, !0),
                        t.MutationObserver ? new MutationObserver(X).observe(o, {
                            childList: !0,
                            subtree: !0,
                            attributes: !0
                        }) : (o[a]("DOMNodeInserted", X, !0),
                        o[a]("DOMAttrModified", X, !0),
                        setInterval(X, 999)),
                        c("hashchange", X, !0),
                        ["focus", "mouseover", "click", "load", "transitionend", "animationend", "webkitAnimationEnd"].forEach((function(t) {
                            e[a](t, X, !0)
                        }
                        )),
                        /d$|^c/.test(e.readyState) ? tt() : (c("load", tt),
                        e[a]("DOMContentLoaded", X),
                        u(tt, 2e4)),
                        i.elements.length ? (Z(),
                        z._lsFlush()) : X()
                    },
                    checkElems: X,
                    unveil: Q
                }
            }()
              , _ = function() {
                var t, i = D((function(t, e, i, n) {
                    var o, r, s;
                    if (t._lazysizesWidth = n,
                    n += "px",
                    t.setAttribute("sizes", n),
                    h.test(e.nodeName || ""))
                        for (r = 0,
                        s = (o = e.getElementsByTagName("source")).length; r < s; r++)
                            o[r].setAttribute("sizes", n);
                    i.detail.dataAttr || S(t, i.detail)
                }
                )), o = function(t, e, n) {
                    var o, r = t.parentNode;
                    r && (n = E(t, r, n),
                    (o = w(t, "lazybeforesizes", {
                        width: n,
                        dataAttr: !!e
                    })).defaultPrevented || (n = o.detail.width) && n !== t._lazysizesWidth && i(t, r, o, n))
                }, r = P((function() {
                    var e, i = t.length;
                    if (i)
                        for (e = 0; e < i; e++)
                            o(t[e])
                }
                ));
                return {
                    _: function() {
                        t = e.getElementsByClassName(n.autosizesClass),
                        c("resize", r)
                    },
                    checkElems: r,
                    updateElem: o
                }
            }()
              , T = function() {
                T.i || (T.i = !0,
                _._(),
                A._())
            };
            return i = {
                cfg: n,
                autoSizer: _,
                loader: A,
                init: T,
                uP: S,
                aC: y,
                rC: b,
                hC: v,
                fire: w,
                gW: E,
                rAF: z
            }
        }
    }(t, t.document);
    t.lazySizes = i,
    "object" == typeof module && module.exports && (module.exports = i)
}(window),
function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.AOS = e() : t.AOS = e()
}(this, (function() {
    return function(t) {
        function e(n) {
            if (i[n])
                return i[n].exports;
            var o = i[n] = {
                exports: {},
                id: n,
                loaded: !1
            };
            return t[n].call(o.exports, o, o.exports, e),
            o.loaded = !0,
            o.exports
        }
        var i = {};
        return e.m = t,
        e.c = i,
        e.p = "dist/",
        e(0)
    }([function(t, e, i) {
        "use strict";
        function n(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        var o = Object.assign || function(t) {
            for (var e = 1; e < arguments.length; e++) {
                var i = arguments[e];
                for (var n in i)
                    Object.prototype.hasOwnProperty.call(i, n) && (t[n] = i[n])
            }
            return t
        }
          , r = (n(i(1)),
        i(6))
          , s = n(r)
          , a = n(i(7))
          , l = n(i(8))
          , c = n(i(9))
          , u = n(i(10))
          , d = n(i(11))
          , f = n(i(14))
          , h = []
          , p = !1
          , m = document.all && !window.atob
          , g = {
            offset: 120,
            delay: 0,
            easing: "ease",
            duration: 400,
            disable: !1,
            once: !1,
            startEvent: "DOMContentLoaded",
            disableMutationObserver: !1
        }
          , v = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
            if (t && (p = !0),
            p)
                return h = (0,
                d.default)(h, g),
                (0,
                u.default)(h, g.once),
                h
        }
          , y = function() {
            h = (0,
            f.default)(),
            v()
        };
        t.exports = {
            init: function(t) {
                return g = o(g, t),
                h = (0,
                f.default)(),
                function(t) {
                    return !0 === t || "mobile" === t && c.default.mobile() || "phone" === t && c.default.phone() || "tablet" === t && c.default.tablet() || "function" == typeof t && !0 === t()
                }(g.disable) || m ? void h.forEach((function(t, e) {
                    t.node.removeAttribute("data-aos"),
                    t.node.removeAttribute("data-aos-easing"),
                    t.node.removeAttribute("data-aos-duration"),
                    t.node.removeAttribute("data-aos-delay")
                }
                )) : (document.querySelector("body").setAttribute("data-aos-easing", g.easing),
                document.querySelector("body").setAttribute("data-aos-duration", g.duration),
                document.querySelector("body").setAttribute("data-aos-delay", g.delay),
                "DOMContentLoaded" === g.startEvent && ["complete", "interactive"].indexOf(document.readyState) > -1 ? v(!0) : "load" === g.startEvent ? window.addEventListener(g.startEvent, (function() {
                    v(!0)
                }
                )) : document.addEventListener(g.startEvent, (function() {
                    v(!0)
                }
                )),
                window.addEventListener("resize", (0,
                a.default)(v, 50, !0)),
                window.addEventListener("orientationchange", (0,
                a.default)(v, 50, !0)),
                window.addEventListener("scroll", (0,
                s.default)((function() {
                    (0,
                    u.default)(h, g.once)
                }
                ), 99)),
                g.disableMutationObserver || (0,
                l.default)("[data-aos]", y),
                h)
            },
            refresh: v,
            refreshHard: y
        }
    }
    , function(t, e) {}
    , , , , , function(t, e) {
        (function(e) {
            "use strict";
            function i(t, e, i) {
                function o(e) {
                    var i = f
                      , n = h;
                    return f = h = void 0,
                    y = e,
                    m = t.apply(n, i)
                }
                function s(t) {
                    return y = t,
                    g = setTimeout(c, e),
                    S ? o(t) : m
                }
                function l(t) {
                    var i = t - v;
                    return void 0 === v || i >= e || i < 0 || C && t - y >= p
                }
                function c() {
                    var t = w();
                    return l(t) ? u(t) : void (g = setTimeout(c, function(t) {
                        var i = e - (t - v);
                        return C ? x(i, p - (t - y)) : i
                    }(t)))
                }
                function u(t) {
                    return g = void 0,
                    E && f ? o(t) : (f = h = void 0,
                    m)
                }
                function d() {
                    var t = w()
                      , i = l(t);
                    if (f = arguments,
                    h = this,
                    v = t,
                    i) {
                        if (void 0 === g)
                            return s(v);
                        if (C)
                            return g = setTimeout(c, e),
                            o(v)
                    }
                    return void 0 === g && (g = setTimeout(c, e)),
                    m
                }
                var f, h, p, m, g, v, y = 0, S = !1, C = !1, E = !0;
                if ("function" != typeof t)
                    throw new TypeError(a);
                return e = r(e) || 0,
                n(i) && (S = !!i.leading,
                p = (C = "maxWait"in i) ? b(r(i.maxWait) || 0, e) : p,
                E = "trailing"in i ? !!i.trailing : E),
                d.cancel = function() {
                    void 0 !== g && clearTimeout(g),
                    y = 0,
                    f = v = h = g = void 0
                }
                ,
                d.flush = function() {
                    return void 0 === g ? m : u(w())
                }
                ,
                d
            }
            function n(t) {
                var e = void 0 === t ? "undefined" : s(t);
                return !!t && ("object" == e || "function" == e)
            }
            function o(t) {
                return "symbol" == (void 0 === t ? "undefined" : s(t)) || function(t) {
                    return !!t && "object" == (void 0 === t ? "undefined" : s(t))
                }(t) && y.call(t) == c
            }
            function r(t) {
                if ("number" == typeof t)
                    return t;
                if (o(t))
                    return l;
                if (n(t)) {
                    var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                    t = n(e) ? e + "" : e
                }
                if ("string" != typeof t)
                    return 0 === t ? t : +t;
                t = t.replace(u, "");
                var i = f.test(t);
                return i || h.test(t) ? p(t.slice(2), i ? 2 : 8) : d.test(t) ? l : +t
            }
            var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
              , a = "Expected a function"
              , l = NaN
              , c = "[object Symbol]"
              , u = /^\s+|\s+$/g
              , d = /^[-+]0x[0-9a-f]+$/i
              , f = /^0b[01]+$/i
              , h = /^0o[0-7]+$/i
              , p = parseInt
              , m = "object" == (void 0 === e ? "undefined" : s(e)) && e && e.Object === Object && e
              , g = "object" == ("undefined" == typeof self ? "undefined" : s(self)) && self && self.Object === Object && self
              , v = m || g || Function("return this")()
              , y = Object.prototype.toString
              , b = Math.max
              , x = Math.min
              , w = function() {
                return v.Date.now()
            };
            t.exports = function(t, e, o) {
                var r = !0
                  , s = !0;
                if ("function" != typeof t)
                    throw new TypeError(a);
                return n(o) && (r = "leading"in o ? !!o.leading : r,
                s = "trailing"in o ? !!o.trailing : s),
                i(t, e, {
                    leading: r,
                    maxWait: e,
                    trailing: s
                })
            }
        }
        ).call(e, function() {
            return this
        }())
    }
    , function(t, e) {
        (function(e) {
            "use strict";
            function i(t) {
                var e = void 0 === t ? "undefined" : r(t);
                return !!t && ("object" == e || "function" == e)
            }
            function n(t) {
                return "symbol" == (void 0 === t ? "undefined" : r(t)) || function(t) {
                    return !!t && "object" == (void 0 === t ? "undefined" : r(t))
                }(t) && v.call(t) == l
            }
            function o(t) {
                if ("number" == typeof t)
                    return t;
                if (n(t))
                    return a;
                if (i(t)) {
                    var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                    t = i(e) ? e + "" : e
                }
                if ("string" != typeof t)
                    return 0 === t ? t : +t;
                t = t.replace(c, "");
                var o = d.test(t);
                return o || f.test(t) ? h(t.slice(2), o ? 2 : 8) : u.test(t) ? a : +t
            }
            var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
              , s = "Expected a function"
              , a = NaN
              , l = "[object Symbol]"
              , c = /^\s+|\s+$/g
              , u = /^[-+]0x[0-9a-f]+$/i
              , d = /^0b[01]+$/i
              , f = /^0o[0-7]+$/i
              , h = parseInt
              , p = "object" == (void 0 === e ? "undefined" : r(e)) && e && e.Object === Object && e
              , m = "object" == ("undefined" == typeof self ? "undefined" : r(self)) && self && self.Object === Object && self
              , g = p || m || Function("return this")()
              , v = Object.prototype.toString
              , y = Math.max
              , b = Math.min
              , x = function() {
                return g.Date.now()
            };
            t.exports = function(t, e, n) {
                function r(e) {
                    var i = f
                      , n = h;
                    return f = h = void 0,
                    w = e,
                    m = t.apply(n, i)
                }
                function a(t) {
                    return w = t,
                    g = setTimeout(c, e),
                    S ? r(t) : m
                }
                function l(t) {
                    var i = t - v;
                    return void 0 === v || i >= e || i < 0 || C && t - w >= p
                }
                function c() {
                    var t = x();
                    return l(t) ? u(t) : void (g = setTimeout(c, function(t) {
                        var i = e - (t - v);
                        return C ? b(i, p - (t - w)) : i
                    }(t)))
                }
                function u(t) {
                    return g = void 0,
                    E && f ? r(t) : (f = h = void 0,
                    m)
                }
                function d() {
                    var t = x()
                      , i = l(t);
                    if (f = arguments,
                    h = this,
                    v = t,
                    i) {
                        if (void 0 === g)
                            return a(v);
                        if (C)
                            return g = setTimeout(c, e),
                            r(v)
                    }
                    return void 0 === g && (g = setTimeout(c, e)),
                    m
                }
                var f, h, p, m, g, v, w = 0, S = !1, C = !1, E = !0;
                if ("function" != typeof t)
                    throw new TypeError(s);
                return e = o(e) || 0,
                i(n) && (S = !!n.leading,
                p = (C = "maxWait"in n) ? y(o(n.maxWait) || 0, e) : p,
                E = "trailing"in n ? !!n.trailing : E),
                d.cancel = function() {
                    void 0 !== g && clearTimeout(g),
                    w = 0,
                    f = v = h = g = void 0
                }
                ,
                d.flush = function() {
                    return void 0 === g ? m : u(x())
                }
                ,
                d
            }
        }
        ).call(e, function() {
            return this
        }())
    }
    , function(t, e) {
        "use strict";
        function i(t) {
            t && t.forEach((function(t) {
                var e = Array.prototype.slice.call(t.addedNodes)
                  , i = Array.prototype.slice.call(t.removedNodes);
                e.concat(i).filter((function(t) {
                    return t.hasAttribute && t.hasAttribute("data-aos")
                }
                )).length && r()
            }
            ))
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = window.document
          , o = window.MutationObserver || window.WebKitMutationObserver
          , r = function() {};
        e.default = function(t, e) {
            var s = new o(i);
            r = e,
            s.observe(n.documentElement, {
                childList: !0,
                subtree: !0,
                removedNodes: !0
            })
        }
    }
    , function(t, e) {
        "use strict";
        function i() {
            return navigator.userAgent || navigator.vendor || window.opera || ""
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    n.enumerable = n.enumerable || !1,
                    n.configurable = !0,
                    "value"in n && (n.writable = !0),
                    Object.defineProperty(t, n.key, n)
                }
            }
            return function(e, i, n) {
                return i && t(e.prototype, i),
                n && t(e, n),
                e
            }
        }()
          , o = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i
          , r = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i
          , s = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i
          , a = /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i
          , l = function() {
            function t() {
                !function(t, e) {
                    if (!(t instanceof e))
                        throw new TypeError("Cannot call a class as a function")
                }(this, t)
            }
            return n(t, [{
                key: "phone",
                value: function() {
                    var t = i();
                    return !(!o.test(t) && !r.test(t.substr(0, 4)))
                }
            }, {
                key: "mobile",
                value: function() {
                    var t = i();
                    return !(!s.test(t) && !a.test(t.substr(0, 4)))
                }
            }, {
                key: "tablet",
                value: function() {
                    return this.mobile() && !this.phone()
                }
            }]),
            t
        }();
        e.default = new l
    }
    , function(t, e) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        e.default = function(t, e) {
            var i = window.pageYOffset
              , n = window.innerHeight;
            t.forEach((function(t, o) {
                !function(t, e, i) {
                    var n = t.node.getAttribute("data-aos-once");
                    e > t.position ? t.node.classList.add("aos-animate") : void 0 !== n && ("false" === n || !i && "true" !== n) && t.node.classList.remove("aos-animate")
                }(t, n + i, e)
            }
            ))
        }
    }
    , function(t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i(12));
        e.default = function(t, e) {
            return t.forEach((function(t, i) {
                t.node.classList.add("aos-init"),
                t.position = (0,
                n.default)(t.node, e.offset)
            }
            )),
            t
        }
    }
    , function(t, e, i) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }(i(13));
        e.default = function(t, e) {
            var i = 0
              , o = 0
              , r = window.innerHeight
              , s = {
                offset: t.getAttribute("data-aos-offset"),
                anchor: t.getAttribute("data-aos-anchor"),
                anchorPlacement: t.getAttribute("data-aos-anchor-placement")
            };
            switch (s.offset && !isNaN(s.offset) && (o = parseInt(s.offset)),
            s.anchor && document.querySelectorAll(s.anchor) && (t = document.querySelectorAll(s.anchor)[0]),
            i = (0,
            n.default)(t).top,
            s.anchorPlacement) {
            case "top-bottom":
                break;
            case "center-bottom":
                i += t.offsetHeight / 2;
                break;
            case "bottom-bottom":
                i += t.offsetHeight;
                break;
            case "top-center":
                i += r / 2;
                break;
            case "bottom-center":
                i += r / 2 + t.offsetHeight;
                break;
            case "center-center":
                i += r / 2 + t.offsetHeight / 2;
                break;
            case "top-top":
                i += r;
                break;
            case "bottom-top":
                i += t.offsetHeight + r;
                break;
            case "center-top":
                i += t.offsetHeight / 2 + r
            }
            return s.anchorPlacement || s.offset || isNaN(e) || (o = e),
            i + o
        }
    }
    , function(t, e) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        e.default = function(t) {
            for (var e = 0, i = 0; t && !isNaN(t.offsetLeft) && !isNaN(t.offsetTop); )
                e += t.offsetLeft - ("BODY" != t.tagName ? t.scrollLeft : 0),
                i += t.offsetTop - ("BODY" != t.tagName ? t.scrollTop : 0),
                t = t.offsetParent;
            return {
                top: i,
                left: e
            }
        }
    }
    , function(t, e) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        e.default = function(t) {
            t = t || document.querySelectorAll("[data-aos]");
            var e = [];
            return [].forEach.call(t, (function(t, i) {
                e.push({
                    node: t
                })
            }
            )),
            e
        }
    }
    ])
}
)),
function(t) {
    var e = !1;
    if ("function" == typeof define && define.amd && (define(t),
    e = !0),
    "object" == typeof exports && (module.exports = t(),
    e = !0),
    !e) {
        var i = window.Cookies
          , n = window.Cookies = t();
        n.noConflict = function() {
            return window.Cookies = i,
            n
        }
    }
}((function() {
    function t() {
        for (var t = 0, e = {}; t < arguments.length; t++) {
            var i = arguments[t];
            for (var n in i)
                e[n] = i[n]
        }
        return e
    }
    return function e(i) {
        function n(e, o, r) {
            var s;
            if ("undefined" != typeof document) {
                if (arguments.length > 1) {
                    if ("number" == typeof (r = t({
                        path: "/"
                    }, n.defaults, r)).expires) {
                        var a = new Date;
                        a.setMilliseconds(a.getMilliseconds() + 864e5 * r.expires),
                        r.expires = a
                    }
                    r.expires = r.expires ? r.expires.toUTCString() : "";
                    try {
                        s = JSON.stringify(o),
                        /^[\{\[]/.test(s) && (o = s)
                    } catch (t) {}
                    o = i.write ? i.write(o, e) : encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent),
                    e = (e = (e = encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)).replace(/[\(\)]/g, escape);
                    var l = "";
                    for (var c in r)
                        r[c] && (l += "; " + c,
                        !0 !== r[c] && (l += "=" + r[c]));
                    return document.cookie = e + "=" + o + l
                }
                e || (s = {});
                for (var u = document.cookie ? document.cookie.split("; ") : [], d = /(%[0-9A-Z]{2})+/g, f = 0; f < u.length; f++) {
                    var h = u[f].split("=")
                      , p = h.slice(1).join("=");
                    this.json || '"' !== p.charAt(0) || (p = p.slice(1, -1));
                    try {
                        var m = h[0].replace(d, decodeURIComponent);
                        if (p = i.read ? i.read(p, m) : i(p, m) || p.replace(d, decodeURIComponent),
                        this.json)
                            try {
                                p = JSON.parse(p)
                            } catch (t) {}
                        if (e === m) {
                            s = p;
                            break
                        }
                        e || (s[m] = p)
                    } catch (t) {}
                }
                return s
            }
        }
        return n.set = n,
        n.get = function(t) {
            return n.call(n, t)
        }
        ,
        n.getJSON = function() {
            return n.apply({
                json: !0
            }, [].slice.call(arguments))
        }
        ,
        n.defaults = {},
        n.remove = function(e, i) {
            n(e, "", t(i, {
                expires: -1
            }))
        }
        ,
        n.withConverter = e,
        n
    }((function() {}
    ))
}
)),
/*!
 * Flickity PACKAGED v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */
function(t, e) {
    "function" == typeof define && define.amd ? define("ev-emitter/ev-emitter", e) : "object" == typeof module && module.exports ? module.exports = e() : t.EvEmitter = e()
}("undefined" != typeof window ? window : this, (function() {
    function t() {}
    var e = t.prototype;
    return e.on = function(t, e) {
        if (t && e) {
            var i = this._events = this._events || {}
              , n = i[t] = i[t] || [];
            return -1 == n.indexOf(e) && n.push(e),
            this
        }
    }
    ,
    e.once = function(t, e) {
        if (t && e) {
            this.on(t, e);
            var i = this._onceEvents = this._onceEvents || {};
            return (i[t] = i[t] || {})[e] = !0,
            this
        }
    }
    ,
    e.off = function(t, e) {
        var i = this._events && this._events[t];
        if (i && i.length) {
            var n = i.indexOf(e);
            return -1 != n && i.splice(n, 1),
            this
        }
    }
    ,
    e.emitEvent = function(t, e) {
        var i = this._events && this._events[t];
        if (i && i.length) {
            i = i.slice(0),
            e = e || [];
            for (var n = this._onceEvents && this._onceEvents[t], o = 0; o < i.length; o++) {
                var r = i[o];
                n && n[r] && (this.off(t, r),
                delete n[r]),
                r.apply(this, e)
            }
            return this
        }
    }
    ,
    e.allOff = function() {
        delete this._events,
        delete this._onceEvents
    }
    ,
    t
}
)),
/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */
function(t, e) {
    "function" == typeof define && define.amd ? define("get-size/get-size", e) : "object" == typeof module && module.exports ? module.exports = e() : t.getSize = e()
}(window, (function() {
    "use strict";
    function t(t) {
        var e = parseFloat(t);
        return -1 == t.indexOf("%") && !isNaN(e) && e
    }
    var e = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"]
      , i = e.length;
    function n(t) {
        return getComputedStyle(t)
    }
    var o, r = !1;
    function s(a) {
        if (function() {
            if (!r) {
                r = !0;
                var e = document.createElement("div");
                e.style.width = "200px",
                e.style.padding = "1px 2px 3px 4px",
                e.style.borderStyle = "solid",
                e.style.borderWidth = "1px 2px 3px 4px",
                e.style.boxSizing = "border-box";
                var i = document.body || document.documentElement;
                i.appendChild(e);
                var a = n(e);
                o = 200 == Math.round(t(a.width)),
                s.isBoxSizeOuter = o,
                i.removeChild(e)
            }
        }(),
        "string" == typeof a && (a = document.querySelector(a)),
        a && "object" == typeof a && a.nodeType) {
            var l = n(a);
            if ("none" == l.display)
                return function() {
                    for (var t = {
                        width: 0,
                        height: 0,
                        innerWidth: 0,
                        innerHeight: 0,
                        outerWidth: 0,
                        outerHeight: 0
                    }, n = 0; n < i; n++) {
                        t[e[n]] = 0
                    }
                    return t
                }();
            var c = {};
            c.width = a.offsetWidth,
            c.height = a.offsetHeight;
            for (var u = c.isBorderBox = "border-box" == l.boxSizing, d = 0; d < i; d++) {
                var f = e[d]
                  , h = l[f]
                  , p = parseFloat(h);
                c[f] = isNaN(p) ? 0 : p
            }
            var m = c.paddingLeft + c.paddingRight
              , g = c.paddingTop + c.paddingBottom
              , v = c.marginLeft + c.marginRight
              , y = c.marginTop + c.marginBottom
              , b = c.borderLeftWidth + c.borderRightWidth
              , x = c.borderTopWidth + c.borderBottomWidth
              , w = u && o
              , S = t(l.width);
            !1 !== S && (c.width = S + (w ? 0 : m + b));
            var C = t(l.height);
            return !1 !== C && (c.height = C + (w ? 0 : g + x)),
            c.innerWidth = c.width - (m + b),
            c.innerHeight = c.height - (g + x),
            c.outerWidth = c.width + v,
            c.outerHeight = c.height + y,
            c
        }
    }
    return s
}
)),
function(t, e) {
    "use strict";
    "function" == typeof define && define.amd ? define("desandro-matches-selector/matches-selector", e) : "object" == typeof module && module.exports ? module.exports = e() : t.matchesSelector = e()
}(window, (function() {
    "use strict";
    var t = function() {
        var t = window.Element.prototype;
        if (t.matches)
            return "matches";
        if (t.matchesSelector)
            return "matchesSelector";
        for (var e = ["webkit", "moz", "ms", "o"], i = 0; i < e.length; i++) {
            var n = e[i] + "MatchesSelector";
            if (t[n])
                return n
        }
    }();
    return function(e, i) {
        return e[t](i)
    }
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("fizzy-ui-utils/utils", ["desandro-matches-selector/matches-selector"], (function(i) {
        return e(t, i)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("desandro-matches-selector")) : t.fizzyUIUtils = e(t, t.matchesSelector)
}(window, (function(t, e) {
    var i = {
        extend: function(t, e) {
            for (var i in e)
                t[i] = e[i];
            return t
        },
        modulo: function(t, e) {
            return (t % e + e) % e
        }
    }
      , n = Array.prototype.slice;
    return i.makeArray = function(t) {
        return Array.isArray(t) ? t : null == t ? [] : "object" == typeof t && "number" == typeof t.length ? n.call(t) : [t]
    }
    ,
    i.removeFrom = function(t, e) {
        var i = t.indexOf(e);
        -1 != i && t.splice(i, 1)
    }
    ,
    i.getParent = function(t, i) {
        for (; t.parentNode && t != document.body; )
            if (t = t.parentNode,
            e(t, i))
                return t
    }
    ,
    i.getQueryElement = function(t) {
        return "string" == typeof t ? document.querySelector(t) : t
    }
    ,
    i.handleEvent = function(t) {
        var e = "on" + t.type;
        this[e] && this[e](t)
    }
    ,
    i.filterFindElements = function(t, n) {
        t = i.makeArray(t);
        var o = [];
        return t.forEach((function(t) {
            if (t instanceof HTMLElement)
                if (n) {
                    e(t, n) && o.push(t);
                    for (var i = t.querySelectorAll(n), r = 0; r < i.length; r++)
                        o.push(i[r])
                } else
                    o.push(t)
        }
        )),
        o
    }
    ,
    i.debounceMethod = function(t, e, i) {
        i = i || 100;
        var n = t.prototype[e]
          , o = e + "Timeout";
        t.prototype[e] = function() {
            var t = this[o];
            clearTimeout(t);
            var e = arguments
              , r = this;
            this[o] = setTimeout((function() {
                n.apply(r, e),
                delete r[o]
            }
            ), i)
        }
    }
    ,
    i.docReady = function(t) {
        var e = document.readyState;
        "complete" == e || "interactive" == e ? setTimeout(t) : document.addEventListener("DOMContentLoaded", t)
    }
    ,
    i.toDashed = function(t) {
        return t.replace(/(.)([A-Z])/g, (function(t, e, i) {
            return e + "-" + i
        }
        )).toLowerCase()
    }
    ,
    i.htmlInit = function(t, e) {
        i.docReady((function() {
            var n = i.toDashed(e)
              , o = "data-" + n
              , r = document.querySelectorAll("[" + o + "]")
              , s = document.querySelectorAll(".js-" + n)
              , a = i.makeArray(r).concat(i.makeArray(s))
              , l = o + "-options";
            a.forEach((function(e) {
                var i, n = e.getAttribute(o) || e.getAttribute(l);
                try {
                    i = n && JSON.parse(n)
                } catch (t) {
                    return
                }
                new t(e,i)
            }
            ))
        }
        ))
    }
    ,
    i
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/cell", ["get-size/get-size"], (function(i) {
        return e(t, i)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("get-size")) : (t.Flickity = t.Flickity || {},
    t.Flickity.Cell = e(t, t.getSize))
}(window, (function(t, e) {
    function i(t, e) {
        this.element = t,
        this.parent = e,
        this.create()
    }
    var n = i.prototype;
    return n.create = function() {
        this.element.style.position = "absolute",
        this.element.setAttribute("aria-hidden", "true"),
        this.x = 0,
        this.shift = 0,
        this.element.style[this.parent.originSide] = 0
    }
    ,
    n.destroy = function() {
        this.unselect(),
        this.element.style.position = "";
        var t = this.parent.originSide;
        this.element.style[t] = "",
        this.element.style.transform = "",
        this.element.removeAttribute("aria-hidden")
    }
    ,
    n.getSize = function() {
        this.size = e(this.element)
    }
    ,
    n.setPosition = function(t) {
        this.x = t,
        this.updateTarget(),
        this.renderPosition(t)
    }
    ,
    n.updateTarget = n.setDefaultTarget = function() {
        var t = "left" == this.parent.originSide ? "marginLeft" : "marginRight";
        this.target = this.x + this.size[t] + this.size.width * this.parent.cellAlign
    }
    ,
    n.renderPosition = function(t) {
        var e = "left" === this.parent.originSide ? 1 : -1
          , i = this.parent.options.percentPosition ? t * e * (this.parent.size.innerWidth / this.size.width) : t * e;
        this.element.style.transform = "translateX(" + this.parent.getPositionValue(i) + ")"
    }
    ,
    n.select = function() {
        this.element.classList.add("is-selected"),
        this.element.removeAttribute("aria-hidden")
    }
    ,
    n.unselect = function() {
        this.element.classList.remove("is-selected"),
        this.element.setAttribute("aria-hidden", "true")
    }
    ,
    n.wrapShift = function(t) {
        this.shift = t,
        this.renderPosition(this.x + this.parent.slideableWidth * t)
    }
    ,
    n.remove = function() {
        this.element.parentNode.removeChild(this.element)
    }
    ,
    i
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/slide", e) : "object" == typeof module && module.exports ? module.exports = e() : (t.Flickity = t.Flickity || {},
    t.Flickity.Slide = e())
}(window, (function() {
    "use strict";
    function t(t) {
        this.parent = t,
        this.isOriginLeft = "left" == t.originSide,
        this.cells = [],
        this.outerWidth = 0,
        this.height = 0
    }
    var e = t.prototype;
    return e.addCell = function(t) {
        if (this.cells.push(t),
        this.outerWidth += t.size.outerWidth,
        this.height = Math.max(t.size.outerHeight, this.height),
        1 == this.cells.length) {
            this.x = t.x;
            var e = this.isOriginLeft ? "marginLeft" : "marginRight";
            this.firstMargin = t.size[e]
        }
    }
    ,
    e.updateTarget = function() {
        var t = this.isOriginLeft ? "marginRight" : "marginLeft"
          , e = this.getLastCell()
          , i = e ? e.size[t] : 0
          , n = this.outerWidth - (this.firstMargin + i);
        this.target = this.x + this.firstMargin + n * this.parent.cellAlign
    }
    ,
    e.getLastCell = function() {
        return this.cells[this.cells.length - 1]
    }
    ,
    e.select = function() {
        this.cells.forEach((function(t) {
            t.select()
        }
        ))
    }
    ,
    e.unselect = function() {
        this.cells.forEach((function(t) {
            t.unselect()
        }
        ))
    }
    ,
    e.getCellElements = function() {
        return this.cells.map((function(t) {
            return t.element
        }
        ))
    }
    ,
    t
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/animate", ["fizzy-ui-utils/utils"], (function(i) {
        return e(t, i)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("fizzy-ui-utils")) : (t.Flickity = t.Flickity || {},
    t.Flickity.animatePrototype = e(t, t.fizzyUIUtils))
}(window, (function(t, e) {
    var i = {
        startAnimation: function() {
            this.isAnimating || (this.isAnimating = !0,
            this.restingFrames = 0,
            this.animate())
        },
        animate: function() {
            this.applyDragForce(),
            this.applySelectedAttraction();
            var t = this.x;
            if (this.integratePhysics(),
            this.positionSlider(),
            this.settle(t),
            this.isAnimating) {
                var e = this;
                requestAnimationFrame((function() {
                    e.animate()
                }
                ))
            }
        },
        positionSlider: function() {
            var t = this.x;
            this.options.wrapAround && this.cells.length > 1 && (t = e.modulo(t, this.slideableWidth),
            t -= this.slideableWidth,
            this.shiftWrapCells(t)),
            this.setTranslateX(t, this.isAnimating),
            this.dispatchScrollEvent()
        },
        setTranslateX: function(t, e) {
            t += this.cursorPosition,
            t = this.options.rightToLeft ? -t : t;
            var i = this.getPositionValue(t);
            this.slider.style.transform = e ? "translate3d(" + i + ",0,0)" : "translateX(" + i + ")"
        },
        dispatchScrollEvent: function() {
            var t = this.slides[0];
            if (t) {
                var e = -this.x - t.target
                  , i = e / this.slidesWidth;
                this.dispatchEvent("scroll", null, [i, e])
            }
        },
        positionSliderAtSelected: function() {
            this.cells.length && (this.x = -this.selectedSlide.target,
            this.velocity = 0,
            this.positionSlider())
        },
        getPositionValue: function(t) {
            return this.options.percentPosition ? .01 * Math.round(t / this.size.innerWidth * 1e4) + "%" : Math.round(t) + "px"
        },
        settle: function(t) {
            !this.isPointerDown && Math.round(100 * this.x) == Math.round(100 * t) && this.restingFrames++,
            this.restingFrames > 2 && (this.isAnimating = !1,
            delete this.isFreeScrolling,
            this.positionSlider(),
            this.dispatchEvent("settle", null, [this.selectedIndex]))
        },
        shiftWrapCells: function(t) {
            var e = this.cursorPosition + t;
            this._shiftCells(this.beforeShiftCells, e, -1);
            var i = this.size.innerWidth - (t + this.slideableWidth + this.cursorPosition);
            this._shiftCells(this.afterShiftCells, i, 1)
        },
        _shiftCells: function(t, e, i) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n]
                  , r = e > 0 ? i : 0;
                o.wrapShift(r),
                e -= o.size.outerWidth
            }
        },
        _unshiftCells: function(t) {
            if (t && t.length)
                for (var e = 0; e < t.length; e++)
                    t[e].wrapShift(0)
        },
        integratePhysics: function() {
            this.x += this.velocity,
            this.velocity *= this.getFrictionFactor()
        },
        applyForce: function(t) {
            this.velocity += t
        },
        getFrictionFactor: function() {
            return 1 - this.options[this.isFreeScrolling ? "freeScrollFriction" : "friction"]
        },
        getRestingPosition: function() {
            return this.x + this.velocity / (1 - this.getFrictionFactor())
        },
        applyDragForce: function() {
            if (this.isDraggable && this.isPointerDown) {
                var t = this.dragX - this.x - this.velocity;
                this.applyForce(t)
            }
        },
        applySelectedAttraction: function() {
            if (!(this.isDraggable && this.isPointerDown) && !this.isFreeScrolling && this.slides.length) {
                var t = (-1 * this.selectedSlide.target - this.x) * this.options.selectedAttraction;
                this.applyForce(t)
            }
        }
    };
    return i
}
)),
function(t, e) {
    if ("function" == typeof define && define.amd)
        define("flickity/js/flickity", ["ev-emitter/ev-emitter", "get-size/get-size", "fizzy-ui-utils/utils", "./cell", "./slide", "./animate"], (function(i, n, o, r, s, a) {
            return e(t, i, n, o, r, s, a)
        }
        ));
    else if ("object" == typeof module && module.exports)
        module.exports = e(t, require("ev-emitter"), require("get-size"), require("fizzy-ui-utils"), require("./cell"), require("./slide"), require("./animate"));
    else {
        var i = t.Flickity;
        t.Flickity = e(t, t.EvEmitter, t.getSize, t.fizzyUIUtils, i.Cell, i.Slide, i.animatePrototype)
    }
}(window, (function(t, e, i, n, o, r, s) {
    t.getComputedStyle;
    function a(t, e) {
        for (t = n.makeArray(t); t.length; )
            e.appendChild(t.shift())
    }
    var l = 0
      , c = {};
    function u(t, e) {
        var i = n.getQueryElement(t);
        if (i) {
            if (this.element = i,
            this.element.flickityGUID) {
                var o = c[this.element.flickityGUID];
                return o && o.option(e),
                o
            }
            this.options = n.extend({}, this.constructor.defaults),
            this.option(e),
            this._create()
        }
    }
    u.defaults = {
        accessibility: !0,
        adaptiveHeight: !1,
        cellAlign: "center",
        freeScrollFriction: .075,
        friction: .28,
        initialIndex: 0,
        percentPosition: !0,
        resize: !0,
        selectedAttraction: .025,
        setGallerySize: !0,
        wrapAround: !1
    },
    u.createMethods = [];
    var d = u.prototype;
    n.extend(d, e.prototype),
    d._create = function() {
        var t = this.guid = ++l;
        for (var e in this.element.flickityGUID = t,
        c[t] = this,
        this.selectedIndex = 0,
        this.restingFrames = 0,
        this.x = 0,
        this.velocity = 0,
        this.originSide = this.options.rightToLeft ? "right" : "left",
        this.viewport = document.createElement("div"),
        this.viewport.className = "flickity-viewport",
        this._createSlider(),
        this.options.on) {
            var i = this.options.on[e];
            this.on(e, i)
        }
        u.createMethods.forEach((function(t) {
            this[t]()
        }
        ), this),
        this.activate()
    }
    ,
    d.option = function(t) {
        n.extend(this.options, t)
    }
    ,
    d.activate = function() {
        this.isActive || (this.isActive = !0,
        this.element.classList.add("flickity-enabled"),
        this.options.rightToLeft && this.element.classList.add("flickity-rtl"),
        this.getSize(),
        a(this._filterFindCellElements(this.element.children), this.slider),
        this.viewport.appendChild(this.slider),
        this.element.appendChild(this.viewport),
        this.reloadCells(),
        this.options.accessibility && (this.element.tabIndex = 0,
        this.element.addEventListener("keydown", this)),
        this.emitEvent("activate"),
        this.selectInitialIndex(),
        this.isInitActivated = !0,
        this.dispatchEvent("ready", null, [this.element]))
    }
    ,
    d._createSlider = function() {
        var t = document.createElement("div");
        t.className = "flickity-slider",
        t.style[this.originSide] = 0,
        this.slider = t
    }
    ,
    d._filterFindCellElements = function(t) {
        return n.filterFindElements(t, this.options.cellSelector)
    }
    ,
    d.reloadCells = function() {
        this.cells = this._makeCells(this.slider.children),
        this.positionCells(),
        this._getWrapShiftCells(),
        this.setGallerySize()
    }
    ,
    d._makeCells = function(t) {
        return this._filterFindCellElements(t).map((function(t) {
            return new o(t,this)
        }
        ), this)
    }
    ,
    d.getLastCell = function() {
        return this.cells[this.cells.length - 1]
    }
    ,
    d.getLastSlide = function() {
        return this.slides[this.slides.length - 1]
    }
    ,
    d.positionCells = function() {
        this._sizeCells(this.cells),
        this._positionCells(0)
    }
    ,
    d._positionCells = function(t) {
        t = t || 0,
        this.maxCellHeight = t && this.maxCellHeight || 0;
        var e = 0;
        if (t > 0) {
            var i = this.cells[t - 1];
            e = i.x + i.size.outerWidth
        }
        for (var n = this.cells.length, o = t; o < n; o++) {
            var r = this.cells[o];
            r.setPosition(e),
            e += r.size.outerWidth,
            this.maxCellHeight = Math.max(r.size.outerHeight, this.maxCellHeight)
        }
        this.slideableWidth = e,
        this.updateSlides(),
        this._containSlides(),
        this.slidesWidth = n ? this.getLastSlide().target - this.slides[0].target : 0
    }
    ,
    d._sizeCells = function(t) {
        t.forEach((function(t) {
            t.getSize()
        }
        ))
    }
    ,
    d.updateSlides = function() {
        if (this.slides = [],
        this.cells.length) {
            var t = new r(this);
            this.slides.push(t);
            var e = "left" == this.originSide ? "marginRight" : "marginLeft"
              , i = this._getCanCellFit();
            this.cells.forEach((function(n, o) {
                if (t.cells.length) {
                    var s = t.outerWidth - t.firstMargin + (n.size.outerWidth - n.size[e]);
                    i.call(this, o, s) || (t.updateTarget(),
                    t = new r(this),
                    this.slides.push(t)),
                    t.addCell(n)
                } else
                    t.addCell(n)
            }
            ), this),
            t.updateTarget(),
            this.updateSelectedSlide()
        }
    }
    ,
    d._getCanCellFit = function() {
        var t = this.options.groupCells;
        if (!t)
            return function() {
                return !1
            }
            ;
        if ("number" == typeof t) {
            var e = parseInt(t, 10);
            return function(t) {
                return t % e != 0
            }
        }
        var i = "string" == typeof t && t.match(/^(\d+)%$/)
          , n = i ? parseInt(i[1], 10) / 100 : 1;
        return function(t, e) {
            return e <= (this.size.innerWidth + 1) * n
        }
    }
    ,
    d.reposition = function() {
        this.positionCells(),
        this.positionSliderAtSelected()
    }
    ,
    d.getSize = function() {
        this.size = i(this.element),
        this.setCellAlign(),
        this.cursorPosition = this.size.innerWidth * this.cellAlign
    }
    ;
    var f = {
        center: {
            left: .5,
            right: .5
        },
        left: {
            left: 0,
            right: 1
        },
        right: {
            right: 0,
            left: 1
        }
    };
    return d.setCellAlign = function() {
        var t = f[this.options.cellAlign];
        this.cellAlign = t ? t[this.originSide] : this.options.cellAlign
    }
    ,
    d.setGallerySize = function() {
        if (this.options.setGallerySize) {
            var t = this.options.adaptiveHeight && this.selectedSlide ? this.selectedSlide.height : this.maxCellHeight;
            this.viewport.style.height = t + "px"
        }
    }
    ,
    d._getWrapShiftCells = function() {
        if (this.options.wrapAround) {
            this._unshiftCells(this.beforeShiftCells),
            this._unshiftCells(this.afterShiftCells);
            var t = this.cursorPosition
              , e = this.cells.length - 1;
            this.beforeShiftCells = this._getGapCells(t, e, -1),
            t = this.size.innerWidth - this.cursorPosition,
            this.afterShiftCells = this._getGapCells(t, 0, 1)
        }
    }
    ,
    d._getGapCells = function(t, e, i) {
        for (var n = []; t > 0; ) {
            var o = this.cells[e];
            if (!o)
                break;
            n.push(o),
            e += i,
            t -= o.size.outerWidth
        }
        return n
    }
    ,
    d._containSlides = function() {
        if (this.options.contain && !this.options.wrapAround && this.cells.length) {
            var t = this.options.rightToLeft
              , e = t ? "marginRight" : "marginLeft"
              , i = t ? "marginLeft" : "marginRight"
              , n = this.slideableWidth - this.getLastCell().size[i]
              , o = n < this.size.innerWidth
              , r = this.cursorPosition + this.cells[0].size[e]
              , s = n - this.size.innerWidth * (1 - this.cellAlign);
            this.slides.forEach((function(t) {
                o ? t.target = n * this.cellAlign : (t.target = Math.max(t.target, r),
                t.target = Math.min(t.target, s))
            }
            ), this)
        }
    }
    ,
    d.dispatchEvent = function(t, e, i) {
        var n = e ? [e].concat(i) : i;
        this.emitEvent(t, n)
    }
    ,
    d.select = function(t, e, i) {
        if (this.isActive && (t = parseInt(t, 10),
        this._wrapSelect(t),
        (this.options.wrapAround || e) && (t = n.modulo(t, this.slides.length)),
        this.slides[t])) {
            var o = this.selectedIndex;
            this.selectedIndex = t,
            this.updateSelectedSlide(),
            i ? this.positionSliderAtSelected() : this.startAnimation(),
            this.options.adaptiveHeight && this.setGallerySize(),
            this.dispatchEvent("select", null, [t]),
            t != o && this.dispatchEvent("change", null, [t]),
            this.dispatchEvent("cellSelect")
        }
    }
    ,
    d._wrapSelect = function(t) {
        var e = this.slides.length;
        if (!(this.options.wrapAround && e > 1))
            return t;
        var i = n.modulo(t, e)
          , o = Math.abs(i - this.selectedIndex)
          , r = Math.abs(i + e - this.selectedIndex)
          , s = Math.abs(i - e - this.selectedIndex);
        !this.isDragSelect && r < o ? t += e : !this.isDragSelect && s < o && (t -= e),
        t < 0 ? this.x -= this.slideableWidth : t >= e && (this.x += this.slideableWidth)
    }
    ,
    d.previous = function(t, e) {
        this.select(this.selectedIndex - 1, t, e)
    }
    ,
    d.next = function(t, e) {
        this.select(this.selectedIndex + 1, t, e)
    }
    ,
    d.updateSelectedSlide = function() {
        var t = this.slides[this.selectedIndex];
        t && (this.unselectSelectedSlide(),
        this.selectedSlide = t,
        t.select(),
        this.selectedCells = t.cells,
        this.selectedElements = t.getCellElements(),
        this.selectedCell = t.cells[0],
        this.selectedElement = this.selectedElements[0])
    }
    ,
    d.unselectSelectedSlide = function() {
        this.selectedSlide && this.selectedSlide.unselect()
    }
    ,
    d.selectInitialIndex = function() {
        var t = this.options.initialIndex;
        if (this.isInitActivated)
            this.select(this.selectedIndex, !1, !0);
        else {
            if (t && "string" == typeof t)
                if (this.queryCell(t))
                    return void this.selectCell(t, !1, !0);
            var e = 0;
            t && this.slides[t] && (e = t),
            this.select(e, !1, !0)
        }
    }
    ,
    d.selectCell = function(t, e, i) {
        var n = this.queryCell(t);
        if (n) {
            var o = this.getCellSlideIndex(n);
            this.select(o, e, i)
        }
    }
    ,
    d.getCellSlideIndex = function(t) {
        for (var e = 0; e < this.slides.length; e++) {
            if (-1 != this.slides[e].cells.indexOf(t))
                return e
        }
    }
    ,
    d.getCell = function(t) {
        for (var e = 0; e < this.cells.length; e++) {
            var i = this.cells[e];
            if (i.element == t)
                return i
        }
    }
    ,
    d.getCells = function(t) {
        t = n.makeArray(t);
        var e = [];
        return t.forEach((function(t) {
            var i = this.getCell(t);
            i && e.push(i)
        }
        ), this),
        e
    }
    ,
    d.getCellElements = function() {
        return this.cells.map((function(t) {
            return t.element
        }
        ))
    }
    ,
    d.getParentCell = function(t) {
        var e = this.getCell(t);
        return e || (t = n.getParent(t, ".flickity-slider > *"),
        this.getCell(t))
    }
    ,
    d.getAdjacentCellElements = function(t, e) {
        if (!t)
            return this.selectedSlide.getCellElements();
        e = void 0 === e ? this.selectedIndex : e;
        var i = this.slides.length;
        if (1 + 2 * t >= i)
            return this.getCellElements();
        for (var o = [], r = e - t; r <= e + t; r++) {
            var s = this.options.wrapAround ? n.modulo(r, i) : r
              , a = this.slides[s];
            a && (o = o.concat(a.getCellElements()))
        }
        return o
    }
    ,
    d.queryCell = function(t) {
        if ("number" == typeof t)
            return this.cells[t];
        if ("string" == typeof t) {
            if (t.match(/^[#.]?[\d/]/))
                return;
            t = this.element.querySelector(t)
        }
        return this.getCell(t)
    }
    ,
    d.uiChange = function() {
        this.emitEvent("uiChange")
    }
    ,
    d.childUIPointerDown = function(t) {
        "touchstart" != t.type && t.preventDefault(),
        this.focus()
    }
    ,
    d.onresize = function() {
        this.resize()
    }
    ,
    n.debounceMethod(u, "onresize", 150),
    d.resize = function() {
        if (this.isActive && !this.isAnimating && !this.isDragging) {
            this.getSize(),
            this.options.wrapAround && (this.x = n.modulo(this.x, this.slideableWidth)),
            this.positionCells(),
            this._getWrapShiftCells(),
            this.setGallerySize(),
            this.emitEvent("resize");
            var t = this.selectedElements && this.selectedElements[0];
            this.selectCell(t, !1, !0)
        }
    }
    ,
    d.onkeydown = function(t) {
        var e = document.activeElement && document.activeElement != this.element;
        if (this.options.accessibility && !e) {
            var i = u.keyboardHandlers[t.keyCode];
            i && i.call(this)
        }
    }
    ,
    u.keyboardHandlers = {
        37: function() {
            var t = this.options.rightToLeft ? "next" : "previous";
            this.uiChange(),
            this[t]()
        },
        39: function() {
            var t = this.options.rightToLeft ? "previous" : "next";
            this.uiChange(),
            this[t]()
        }
    },
    d.focus = function() {
        var e = t.pageYOffset;
        this.element.focus({
            preventScroll: !0
        }),
        t.pageYOffset != e && t.scrollTo(t.pageXOffset, e)
    }
    ,
    d.deactivate = function() {
        this.isActive && (this.element.classList.remove("flickity-enabled"),
        this.element.classList.remove("flickity-rtl"),
        this.unselectSelectedSlide(),
        this.cells.forEach((function(t) {
            t.destroy()
        }
        )),
        this.element.removeChild(this.viewport),
        a(this.slider.children, this.element),
        this.options.accessibility && (this.element.removeAttribute("tabIndex"),
        this.element.removeEventListener("keydown", this)),
        this.isActive = !1,
        this.emitEvent("deactivate"))
    }
    ,
    d.destroy = function() {
        this.deactivate(),
        t.removeEventListener("resize", this),
        this.allOff(),
        this.emitEvent("destroy"),
        delete this.element.flickityGUID,
        delete c[this.guid]
    }
    ,
    n.extend(d, s),
    u.data = function(t) {
        var e = (t = n.getQueryElement(t)) && t.flickityGUID;
        return e && c[e]
    }
    ,
    n.htmlInit(u, "flickity"),
    u.Cell = o,
    u.Slide = r,
    u
}
)),
/*!
 * Unipointer v2.4.0
 * base class for doing one thing with pointer event
 * MIT license
 */
function(t, e) {
    "function" == typeof define && define.amd ? define("unipointer/unipointer", ["ev-emitter/ev-emitter"], (function(i) {
        return e(t, i)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("ev-emitter")) : t.Unipointer = e(t, t.EvEmitter)
}(window, (function(t, e) {
    function i() {}
    var n = i.prototype = Object.create(e.prototype);
    n.bindStartEvent = function(t) {
        this._bindStartEvent(t, !0)
    }
    ,
    n.unbindStartEvent = function(t) {
        this._bindStartEvent(t, !1)
    }
    ,
    n._bindStartEvent = function(e, i) {
        var n = (i = void 0 === i || i) ? "addEventListener" : "removeEventListener"
          , o = "mousedown";
        "ontouchstart"in t ? o = "touchstart" : t.PointerEvent && (o = "pointerdown"),
        e[n](o, this)
    }
    ,
    n.handleEvent = function(t) {
        var e = "on" + t.type;
        this[e] && this[e](t)
    }
    ,
    n.getTouch = function(t) {
        for (var e = 0; e < t.length; e++) {
            var i = t[e];
            if (i.identifier == this.pointerIdentifier)
                return i
        }
    }
    ,
    n.onmousedown = function(t) {
        var e = t.button;
        e && 0 !== e && 1 !== e || this._pointerDown(t, t)
    }
    ,
    n.ontouchstart = function(t) {
        this._pointerDown(t, t.changedTouches[0])
    }
    ,
    n.onpointerdown = function(t) {
        this._pointerDown(t, t)
    }
    ,
    n._pointerDown = function(t, e) {
        t.button || this.isPointerDown || (this.isPointerDown = !0,
        this.pointerIdentifier = void 0 !== e.pointerId ? e.pointerId : e.identifier,
        this.pointerDown(t, e))
    }
    ,
    n.pointerDown = function(t, e) {
        this._bindPostStartEvents(t),
        this.emitEvent("pointerDown", [t, e])
    }
    ;
    var o = {
        mousedown: ["mousemove", "mouseup"],
        touchstart: ["touchmove", "touchend", "touchcancel"],
        pointerdown: ["pointermove", "pointerup", "pointercancel"]
    };
    return n._bindPostStartEvents = function(e) {
        if (e) {
            var i = o[e.type];
            i.forEach((function(e) {
                t.addEventListener(e, this)
            }
            ), this),
            this._boundPointerEvents = i
        }
    }
    ,
    n._unbindPostStartEvents = function() {
        this._boundPointerEvents && (this._boundPointerEvents.forEach((function(e) {
            t.removeEventListener(e, this)
        }
        ), this),
        delete this._boundPointerEvents)
    }
    ,
    n.onmousemove = function(t) {
        this._pointerMove(t, t)
    }
    ,
    n.onpointermove = function(t) {
        t.pointerId == this.pointerIdentifier && this._pointerMove(t, t)
    }
    ,
    n.ontouchmove = function(t) {
        var e = this.getTouch(t.changedTouches);
        e && this._pointerMove(t, e)
    }
    ,
    n._pointerMove = function(t, e) {
        this.pointerMove(t, e)
    }
    ,
    n.pointerMove = function(t, e) {
        this.emitEvent("pointerMove", [t, e])
    }
    ,
    n.onmouseup = function(t) {
        this._pointerUp(t, t)
    }
    ,
    n.onpointerup = function(t) {
        t.pointerId == this.pointerIdentifier && this._pointerUp(t, t)
    }
    ,
    n.ontouchend = function(t) {
        var e = this.getTouch(t.changedTouches);
        e && this._pointerUp(t, e)
    }
    ,
    n._pointerUp = function(t, e) {
        this._pointerDone(),
        this.pointerUp(t, e)
    }
    ,
    n.pointerUp = function(t, e) {
        this.emitEvent("pointerUp", [t, e])
    }
    ,
    n._pointerDone = function() {
        this._pointerReset(),
        this._unbindPostStartEvents(),
        this.pointerDone()
    }
    ,
    n._pointerReset = function() {
        this.isPointerDown = !1,
        delete this.pointerIdentifier
    }
    ,
    n.pointerDone = function() {}
    ,
    n.onpointercancel = function(t) {
        t.pointerId == this.pointerIdentifier && this._pointerCancel(t, t)
    }
    ,
    n.ontouchcancel = function(t) {
        var e = this.getTouch(t.changedTouches);
        e && this._pointerCancel(t, e)
    }
    ,
    n._pointerCancel = function(t, e) {
        this._pointerDone(),
        this.pointerCancel(t, e)
    }
    ,
    n.pointerCancel = function(t, e) {
        this.emitEvent("pointerCancel", [t, e])
    }
    ,
    i.getPointerPoint = function(t) {
        return {
            x: t.pageX,
            y: t.pageY
        }
    }
    ,
    i
}
)),
/*!
 * Unidragger v2.4.0
 * Draggable base class
 * MIT license
 */
function(t, e) {
    "function" == typeof define && define.amd ? define("unidragger/unidragger", ["unipointer/unipointer"], (function(i) {
        return e(t, i)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("unipointer")) : t.Unidragger = e(t, t.Unipointer)
}(window, (function(t, e) {
    function i() {}
    var n = i.prototype = Object.create(e.prototype);
    n.bindHandles = function() {
        this._bindHandles(!0)
    }
    ,
    n.unbindHandles = function() {
        this._bindHandles(!1)
    }
    ,
    n._bindHandles = function(e) {
        for (var i = (e = void 0 === e || e) ? "addEventListener" : "removeEventListener", n = e ? this._touchActionValue : "", o = 0; o < this.handles.length; o++) {
            var r = this.handles[o];
            this._bindStartEvent(r, e),
            r[i]("click", this),
            t.PointerEvent && (r.style.touchAction = n)
        }
    }
    ,
    n._touchActionValue = "none",
    n.pointerDown = function(t, e) {
        this.okayPointerDown(t) && (this.pointerDownPointer = {
            pageX: e.pageX,
            pageY: e.pageY
        },
        t.preventDefault(),
        this.pointerDownBlur(),
        this._bindPostStartEvents(t),
        this.emitEvent("pointerDown", [t, e]))
    }
    ;
    var o = {
        TEXTAREA: !0,
        INPUT: !0,
        SELECT: !0,
        OPTION: !0
    }
      , r = {
        radio: !0,
        checkbox: !0,
        button: !0,
        submit: !0,
        image: !0,
        file: !0
    };
    return n.okayPointerDown = function(t) {
        var e = o[t.target.nodeName]
          , i = r[t.target.type]
          , n = !e || i;
        return n || this._pointerReset(),
        n
    }
    ,
    n.pointerDownBlur = function() {
        var t = document.activeElement;
        t && t.blur && t != document.body && t.blur()
    }
    ,
    n.pointerMove = function(t, e) {
        var i = this._dragPointerMove(t, e);
        this.emitEvent("pointerMove", [t, e, i]),
        this._dragMove(t, e, i)
    }
    ,
    n._dragPointerMove = function(t, e) {
        var i = {
            x: e.pageX - this.pointerDownPointer.pageX,
            y: e.pageY - this.pointerDownPointer.pageY
        };
        return !this.isDragging && this.hasDragStarted(i) && this._dragStart(t, e),
        i
    }
    ,
    n.hasDragStarted = function(t) {
        return Math.abs(t.x) > 3 || Math.abs(t.y) > 3
    }
    ,
    n.pointerUp = function(t, e) {
        this.emitEvent("pointerUp", [t, e]),
        this._dragPointerUp(t, e)
    }
    ,
    n._dragPointerUp = function(t, e) {
        this.isDragging ? this._dragEnd(t, e) : this._staticClick(t, e)
    }
    ,
    n._dragStart = function(t, e) {
        this.isDragging = !0,
        this.isPreventingClicks = !0,
        this.dragStart(t, e)
    }
    ,
    n.dragStart = function(t, e) {
        this.emitEvent("dragStart", [t, e])
    }
    ,
    n._dragMove = function(t, e, i) {
        this.isDragging && this.dragMove(t, e, i)
    }
    ,
    n.dragMove = function(t, e, i) {
        t.preventDefault(),
        this.emitEvent("dragMove", [t, e, i])
    }
    ,
    n._dragEnd = function(t, e) {
        this.isDragging = !1,
        setTimeout(function() {
            delete this.isPreventingClicks
        }
        .bind(this)),
        this.dragEnd(t, e)
    }
    ,
    n.dragEnd = function(t, e) {
        this.emitEvent("dragEnd", [t, e])
    }
    ,
    n.onclick = function(t) {
        this.isPreventingClicks && t.preventDefault()
    }
    ,
    n._staticClick = function(t, e) {
        this.isIgnoringMouseUp && "mouseup" == t.type || (this.staticClick(t, e),
        "mouseup" != t.type && (this.isIgnoringMouseUp = !0,
        setTimeout(function() {
            delete this.isIgnoringMouseUp
        }
        .bind(this), 400)))
    }
    ,
    n.staticClick = function(t, e) {
        this.emitEvent("staticClick", [t, e])
    }
    ,
    i.getPointerPoint = e.getPointerPoint,
    i
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/drag", ["./flickity", "unidragger/unidragger", "fizzy-ui-utils/utils"], (function(i, n, o) {
        return e(t, i, n, o)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("./flickity"), require("unidragger"), require("fizzy-ui-utils")) : t.Flickity = e(t, t.Flickity, t.Unidragger, t.fizzyUIUtils)
}(window, (function(t, e, i, n) {
    n.extend(e.defaults, {
        draggable: ">1",
        dragThreshold: 3
    }),
    e.createMethods.push("_createDrag");
    var o = e.prototype;
    n.extend(o, i.prototype),
    o._touchActionValue = "pan-y",
    o._createDrag = function() {
        this.on("activate", this.onActivateDrag),
        this.on("uiChange", this._uiChangeDrag),
        this.on("deactivate", this.onDeactivateDrag),
        this.on("cellChange", this.updateDraggable)
    }
    ,
    o.onActivateDrag = function() {
        this.handles = [this.viewport],
        this.bindHandles(),
        this.updateDraggable()
    }
    ,
    o.onDeactivateDrag = function() {
        this.unbindHandles(),
        this.element.classList.remove("is-draggable")
    }
    ,
    o.updateDraggable = function() {
        ">1" == this.options.draggable ? this.isDraggable = this.slides.length > 1 : this.isDraggable = this.options.draggable,
        this.isDraggable ? this.element.classList.add("is-draggable") : this.element.classList.remove("is-draggable")
    }
    ,
    o.bindDrag = function() {
        this.options.draggable = !0,
        this.updateDraggable()
    }
    ,
    o.unbindDrag = function() {
        this.options.draggable = !1,
        this.updateDraggable()
    }
    ,
    o._uiChangeDrag = function() {
        delete this.isFreeScrolling
    }
    ,
    o.pointerDown = function(e, i) {
        this.isDraggable ? this.okayPointerDown(e) && (this._pointerDownPreventDefault(e),
        this.pointerDownFocus(e),
        document.activeElement != this.element && this.pointerDownBlur(),
        this.dragX = this.x,
        this.viewport.classList.add("is-pointer-down"),
        this.pointerDownScroll = s(),
        t.addEventListener("scroll", this),
        this._pointerDownDefault(e, i)) : this._pointerDownDefault(e, i)
    }
    ,
    o._pointerDownDefault = function(t, e) {
        this.pointerDownPointer = {
            pageX: e.pageX,
            pageY: e.pageY
        },
        this._bindPostStartEvents(t),
        this.dispatchEvent("pointerDown", t, [e])
    }
    ;
    var r = {
        INPUT: !0,
        TEXTAREA: !0,
        SELECT: !0
    };
    function s() {
        return {
            x: t.pageXOffset,
            y: t.pageYOffset
        }
    }
    return o.pointerDownFocus = function(t) {
        r[t.target.nodeName] || this.focus()
    }
    ,
    o._pointerDownPreventDefault = function(t) {
        var e = "touchstart" == t.type
          , i = "touch" == t.pointerType
          , n = r[t.target.nodeName];
        e || i || n || t.preventDefault()
    }
    ,
    o.hasDragStarted = function(t) {
        return Math.abs(t.x) > this.options.dragThreshold
    }
    ,
    o.pointerUp = function(t, e) {
        delete this.isTouchScrolling,
        this.viewport.classList.remove("is-pointer-down"),
        this.dispatchEvent("pointerUp", t, [e]),
        this._dragPointerUp(t, e)
    }
    ,
    o.pointerDone = function() {
        t.removeEventListener("scroll", this),
        delete this.pointerDownScroll
    }
    ,
    o.dragStart = function(e, i) {
        this.isDraggable && (this.dragStartPosition = this.x,
        this.startAnimation(),
        t.removeEventListener("scroll", this),
        this.dispatchEvent("dragStart", e, [i]))
    }
    ,
    o.pointerMove = function(t, e) {
        var i = this._dragPointerMove(t, e);
        this.dispatchEvent("pointerMove", t, [e, i]),
        this._dragMove(t, e, i)
    }
    ,
    o.dragMove = function(t, e, i) {
        if (this.isDraggable) {
            t.preventDefault(),
            this.previousDragX = this.dragX;
            var n = this.options.rightToLeft ? -1 : 1;
            this.options.wrapAround && (i.x %= this.slideableWidth);
            var o = this.dragStartPosition + i.x * n;
            if (!this.options.wrapAround && this.slides.length) {
                var r = Math.max(-this.slides[0].target, this.dragStartPosition);
                o = o > r ? .5 * (o + r) : o;
                var s = Math.min(-this.getLastSlide().target, this.dragStartPosition);
                o = o < s ? .5 * (o + s) : o
            }
            this.dragX = o,
            this.dragMoveTime = new Date,
            this.dispatchEvent("dragMove", t, [e, i])
        }
    }
    ,
    o.dragEnd = function(t, e) {
        if (this.isDraggable) {
            this.options.freeScroll && (this.isFreeScrolling = !0);
            var i = this.dragEndRestingSelect();
            if (this.options.freeScroll && !this.options.wrapAround) {
                var n = this.getRestingPosition();
                this.isFreeScrolling = -n > this.slides[0].target && -n < this.getLastSlide().target
            } else
                this.options.freeScroll || i != this.selectedIndex || (i += this.dragEndBoostSelect());
            delete this.previousDragX,
            this.isDragSelect = this.options.wrapAround,
            this.select(i),
            delete this.isDragSelect,
            this.dispatchEvent("dragEnd", t, [e])
        }
    }
    ,
    o.dragEndRestingSelect = function() {
        var t = this.getRestingPosition()
          , e = Math.abs(this.getSlideDistance(-t, this.selectedIndex))
          , i = this._getClosestResting(t, e, 1)
          , n = this._getClosestResting(t, e, -1);
        return i.distance < n.distance ? i.index : n.index
    }
    ,
    o._getClosestResting = function(t, e, i) {
        for (var n = this.selectedIndex, o = 1 / 0, r = this.options.contain && !this.options.wrapAround ? function(t, e) {
            return t <= e
        }
        : function(t, e) {
            return t < e
        }
        ; r(e, o) && (n += i,
        o = e,
        null !== (e = this.getSlideDistance(-t, n))); )
            e = Math.abs(e);
        return {
            distance: o,
            index: n - i
        }
    }
    ,
    o.getSlideDistance = function(t, e) {
        var i = this.slides.length
          , o = this.options.wrapAround && i > 1
          , r = o ? n.modulo(e, i) : e
          , s = this.slides[r];
        if (!s)
            return null;
        var a = o ? this.slideableWidth * Math.floor(e / i) : 0;
        return t - (s.target + a)
    }
    ,
    o.dragEndBoostSelect = function() {
        if (void 0 === this.previousDragX || !this.dragMoveTime || new Date - this.dragMoveTime > 100)
            return 0;
        var t = this.getSlideDistance(-this.dragX, this.selectedIndex)
          , e = this.previousDragX - this.dragX;
        return t > 0 && e > 0 ? 1 : t < 0 && e < 0 ? -1 : 0
    }
    ,
    o.staticClick = function(t, e) {
        var i = this.getParentCell(t.target)
          , n = i && i.element
          , o = i && this.cells.indexOf(i);
        this.dispatchEvent("staticClick", t, [e, n, o])
    }
    ,
    o.onscroll = function() {
        var t = s()
          , e = this.pointerDownScroll.x - t.x
          , i = this.pointerDownScroll.y - t.y;
        (Math.abs(e) > 3 || Math.abs(i) > 3) && this._pointerDone()
    }
    ,
    e
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/prev-next-button", ["./flickity", "unipointer/unipointer", "fizzy-ui-utils/utils"], (function(i, n, o) {
        return e(t, i, n, o)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("./flickity"), require("unipointer"), require("fizzy-ui-utils")) : e(t, t.Flickity, t.Unipointer, t.fizzyUIUtils)
}(window, (function(t, e, i, n) {
    "use strict";
    var o = "http://www.w3.org/2000/svg";
    function r(t, e) {
        this.direction = t,
        this.parent = e,
        this._create()
    }
    r.prototype = Object.create(i.prototype),
    r.prototype._create = function() {
        this.isEnabled = !0,
        this.isPrevious = -1 == this.direction;
        var t = this.parent.options.rightToLeft ? 1 : -1;
        this.isLeft = this.direction == t;
        var e = this.element = document.createElement("button");
        e.className = "flickity-button flickity-prev-next-button",
        e.className += this.isPrevious ? " flickity-previous" : " flickity-next",
        e.setAttribute("type", "button"),
        this.disable(),
        e.setAttribute("aria-label", this.isPrevious ? "Previous" : "Next");
        var i = this.createSVG();
        e.appendChild(i),
        this.parent.on("select", this.update.bind(this)),
        this.on("pointerDown", this.parent.childUIPointerDown.bind(this.parent))
    }
    ,
    r.prototype.activate = function() {
        this.bindStartEvent(this.element),
        this.element.addEventListener("click", this),
        this.parent.element.appendChild(this.element)
    }
    ,
    r.prototype.deactivate = function() {
        this.parent.element.removeChild(this.element),
        this.unbindStartEvent(this.element),
        this.element.removeEventListener("click", this)
    }
    ,
    r.prototype.createSVG = function() {
        var t = document.createElementNS(o, "svg");
        t.setAttribute("class", "flickity-button-icon"),
        t.setAttribute("viewBox", "0 0 100 100");
        var e = document.createElementNS(o, "path")
          , i = function(t) {
            if ("string" == typeof t)
                return t;
            return "M " + t.x0 + ",50 L " + t.x1 + "," + (t.y1 + 50) + " L " + t.x2 + "," + (t.y2 + 50) + " L " + t.x3 + ",50  L " + t.x2 + "," + (50 - t.y2) + " L " + t.x1 + "," + (50 - t.y1) + " Z"
        }(this.parent.options.arrowShape);
        return e.setAttribute("d", i),
        e.setAttribute("class", "arrow"),
        this.isLeft || e.setAttribute("transform", "translate(100, 100) rotate(180) "),
        t.appendChild(e),
        t
    }
    ,
    r.prototype.handleEvent = n.handleEvent,
    r.prototype.onclick = function() {
        if (this.isEnabled) {
            this.parent.uiChange();
            var t = this.isPrevious ? "previous" : "next";
            this.parent[t]()
        }
    }
    ,
    r.prototype.enable = function() {
        this.isEnabled || (this.element.disabled = !1,
        this.isEnabled = !0)
    }
    ,
    r.prototype.disable = function() {
        this.isEnabled && (this.element.disabled = !0,
        this.isEnabled = !1)
    }
    ,
    r.prototype.update = function() {
        var t = this.parent.slides;
        if (this.parent.options.wrapAround && t.length > 1)
            this.enable();
        else {
            var e = t.length ? t.length - 1 : 0
              , i = this.isPrevious ? 0 : e;
            this[this.parent.selectedIndex == i ? "disable" : "enable"]()
        }
    }
    ,
    r.prototype.destroy = function() {
        this.deactivate(),
        this.allOff()
    }
    ,
    n.extend(e.defaults, {
        prevNextButtons: !0,
        arrowShape: {
            x0: 10,
            x1: 60,
            y1: 50,
            x2: 70,
            y2: 40,
            x3: 30
        }
    }),
    e.createMethods.push("_createPrevNextButtons");
    var s = e.prototype;
    return s._createPrevNextButtons = function() {
        this.options.prevNextButtons && (this.prevButton = new r(-1,this),
        this.nextButton = new r(1,this),
        this.on("activate", this.activatePrevNextButtons))
    }
    ,
    s.activatePrevNextButtons = function() {
        this.prevButton.activate(),
        this.nextButton.activate(),
        this.on("deactivate", this.deactivatePrevNextButtons)
    }
    ,
    s.deactivatePrevNextButtons = function() {
        this.prevButton.deactivate(),
        this.nextButton.deactivate(),
        this.off("deactivate", this.deactivatePrevNextButtons)
    }
    ,
    e.PrevNextButton = r,
    e
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/page-dots", ["./flickity", "unipointer/unipointer", "fizzy-ui-utils/utils"], (function(i, n, o) {
        return e(t, i, n, o)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("./flickity"), require("unipointer"), require("fizzy-ui-utils")) : e(t, t.Flickity, t.Unipointer, t.fizzyUIUtils)
}(window, (function(t, e, i, n) {
    function o(t) {
        this.parent = t,
        this._create()
    }
    o.prototype = Object.create(i.prototype),
    o.prototype._create = function() {
        this.holder = document.createElement("ol"),
        this.holder.className = "flickity-page-dots",
        this.dots = [],
        this.handleClick = this.onClick.bind(this),
        this.on("pointerDown", this.parent.childUIPointerDown.bind(this.parent))
    }
    ,
    o.prototype.activate = function() {
        this.setDots(),
        this.holder.addEventListener("click", this.handleClick),
        this.bindStartEvent(this.holder),
        this.parent.element.appendChild(this.holder)
    }
    ,
    o.prototype.deactivate = function() {
        this.holder.removeEventListener("click", this.handleClick),
        this.unbindStartEvent(this.holder),
        this.parent.element.removeChild(this.holder)
    }
    ,
    o.prototype.setDots = function() {
        var t = this.parent.slides.length - this.dots.length;
        t > 0 ? this.addDots(t) : t < 0 && this.removeDots(-t)
    }
    ,
    o.prototype.addDots = function(t) {
        for (var e = document.createDocumentFragment(), i = [], n = this.dots.length, o = n + t, r = n; r < o; r++) {
            var s = document.createElement("li");
            s.className = "dot",
            s.setAttribute("aria-label", "Page dot " + (r + 1)),
            e.appendChild(s),
            i.push(s)
        }
        this.holder.appendChild(e),
        this.dots = this.dots.concat(i)
    }
    ,
    o.prototype.removeDots = function(t) {
        this.dots.splice(this.dots.length - t, t).forEach((function(t) {
            this.holder.removeChild(t)
        }
        ), this)
    }
    ,
    o.prototype.updateSelected = function() {
        this.selectedDot && (this.selectedDot.className = "dot",
        this.selectedDot.removeAttribute("aria-current")),
        this.dots.length && (this.selectedDot = this.dots[this.parent.selectedIndex],
        this.selectedDot.className = "dot is-selected",
        this.selectedDot.setAttribute("aria-current", "step"))
    }
    ,
    o.prototype.onTap = o.prototype.onClick = function(t) {
        var e = t.target;
        if ("LI" == e.nodeName) {
            this.parent.uiChange();
            var i = this.dots.indexOf(e);
            this.parent.select(i)
        }
    }
    ,
    o.prototype.destroy = function() {
        this.deactivate(),
        this.allOff()
    }
    ,
    e.PageDots = o,
    n.extend(e.defaults, {
        pageDots: !0
    }),
    e.createMethods.push("_createPageDots");
    var r = e.prototype;
    return r._createPageDots = function() {
        this.options.pageDots && (this.pageDots = new o(this),
        this.on("activate", this.activatePageDots),
        this.on("select", this.updateSelectedPageDots),
        this.on("cellChange", this.updatePageDots),
        this.on("resize", this.updatePageDots),
        this.on("deactivate", this.deactivatePageDots))
    }
    ,
    r.activatePageDots = function() {
        this.pageDots.activate()
    }
    ,
    r.updateSelectedPageDots = function() {
        this.pageDots.updateSelected()
    }
    ,
    r.updatePageDots = function() {
        this.pageDots.setDots()
    }
    ,
    r.deactivatePageDots = function() {
        this.pageDots.deactivate()
    }
    ,
    e.PageDots = o,
    e
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/player", ["ev-emitter/ev-emitter", "fizzy-ui-utils/utils", "./flickity"], (function(t, i, n) {
        return e(t, i, n)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(require("ev-emitter"), require("fizzy-ui-utils"), require("./flickity")) : e(t.EvEmitter, t.fizzyUIUtils, t.Flickity)
}(window, (function(t, e, i) {
    function n(t) {
        this.parent = t,
        this.state = "stopped",
        this.onVisibilityChange = this.visibilityChange.bind(this),
        this.onVisibilityPlay = this.visibilityPlay.bind(this)
    }
    n.prototype = Object.create(t.prototype),
    n.prototype.play = function() {
        "playing" != this.state && (document.hidden ? document.addEventListener("visibilitychange", this.onVisibilityPlay) : (this.state = "playing",
        document.addEventListener("visibilitychange", this.onVisibilityChange),
        this.tick()))
    }
    ,
    n.prototype.tick = function() {
        if ("playing" == this.state) {
            var t = this.parent.options.autoPlay;
            t = "number" == typeof t ? t : 3e3;
            var e = this;
            this.clear(),
            this.timeout = setTimeout((function() {
                e.parent.next(!0),
                e.tick()
            }
            ), t)
        }
    }
    ,
    n.prototype.stop = function() {
        this.state = "stopped",
        this.clear(),
        document.removeEventListener("visibilitychange", this.onVisibilityChange)
    }
    ,
    n.prototype.clear = function() {
        clearTimeout(this.timeout)
    }
    ,
    n.prototype.pause = function() {
        "playing" == this.state && (this.state = "paused",
        this.clear())
    }
    ,
    n.prototype.unpause = function() {
        "paused" == this.state && this.play()
    }
    ,
    n.prototype.visibilityChange = function() {
        this[document.hidden ? "pause" : "unpause"]()
    }
    ,
    n.prototype.visibilityPlay = function() {
        this.play(),
        document.removeEventListener("visibilitychange", this.onVisibilityPlay)
    }
    ,
    e.extend(i.defaults, {
        pauseAutoPlayOnHover: !0
    }),
    i.createMethods.push("_createPlayer");
    var o = i.prototype;
    return o._createPlayer = function() {
        this.player = new n(this),
        this.on("activate", this.activatePlayer),
        this.on("uiChange", this.stopPlayer),
        this.on("pointerDown", this.stopPlayer),
        this.on("deactivate", this.deactivatePlayer)
    }
    ,
    o.activatePlayer = function() {
        this.options.autoPlay && (this.player.play(),
        this.element.addEventListener("mouseenter", this))
    }
    ,
    o.playPlayer = function() {
        this.player.play()
    }
    ,
    o.stopPlayer = function() {
        this.player.stop()
    }
    ,
    o.pausePlayer = function() {
        this.player.pause()
    }
    ,
    o.unpausePlayer = function() {
        this.player.unpause()
    }
    ,
    o.deactivatePlayer = function() {
        this.player.stop(),
        this.element.removeEventListener("mouseenter", this)
    }
    ,
    o.onmouseenter = function() {
        this.options.pauseAutoPlayOnHover && (this.player.pause(),
        this.element.addEventListener("mouseleave", this))
    }
    ,
    o.onmouseleave = function() {
        this.player.unpause(),
        this.element.removeEventListener("mouseleave", this)
    }
    ,
    i.Player = n,
    i
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/add-remove-cell", ["./flickity", "fizzy-ui-utils/utils"], (function(i, n) {
        return e(t, i, n)
    }
    )) : "object" == typeof module && module.exports ? module.exports = e(t, require("./flickity"), require("fizzy-ui-utils")) : e(t, t.Flickity, t.fizzyUIUtils)
}(window, (function(t, e, i) {
    var n = e.prototype;
    return n.insert = function(t, e) {
        var i = this._makeCells(t);
        if (i && i.length) {
            var n = this.cells.length;
            e = void 0 === e ? n : e;
            var o = function(t) {
                var e = document.createDocumentFragment();
                return t.forEach((function(t) {
                    e.appendChild(t.element)
                }
                )),
                e
            }(i)
              , r = e == n;
            if (r)
                this.slider.appendChild(o);
            else {
                var s = this.cells[e].element;
                this.slider.insertBefore(o, s)
            }
            if (0 === e)
                this.cells = i.concat(this.cells);
            else if (r)
                this.cells = this.cells.concat(i);
            else {
                var a = this.cells.splice(e, n - e);
                this.cells = this.cells.concat(i).concat(a)
            }
            this._sizeCells(i),
            this.cellChange(e, !0)
        }
    }
    ,
    n.append = function(t) {
        this.insert(t, this.cells.length)
    }
    ,
    n.prepend = function(t) {
        this.insert(t, 0)
    }
    ,
    n.remove = function(t) {
        var e = this.getCells(t);
        if (e && e.length) {
            var n = this.cells.length - 1;
            e.forEach((function(t) {
                t.remove();
                var e = this.cells.indexOf(t);
                n = Math.min(e, n),
                i.removeFrom(this.cells, t)
            }
            ), this),
            this.cellChange(n, !0)
        }
    }
    ,
    n.cellSizeChange = function(t) {
        var e = this.getCell(t);
        if (e) {
            e.getSize();
            var i = this.cells.indexOf(e);
            this.cellChange(i)
        }
    }
    ,
    n.cellChange = function(t, e) {
        var i = this.selectedElement;
        this._positionCells(t),
        this._getWrapShiftCells(),
        this.setGallerySize();
        var n = this.getCell(i);
        n && (this.selectedIndex = this.getCellSlideIndex(n)),
        this.selectedIndex = Math.min(this.slides.length - 1, this.selectedIndex),
        this.emitEvent("cellChange", [t]),
        this.select(this.selectedIndex),
        e && this.positionSliderAtSelected()
    }
    ,
    e
}
)),
/*!
 * Flickity v2.3.0
 * Touch, responsive, flickable carousels
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * https://flickity.metafizzy.co
 * Copyright 2015-2021 Metafizzy
 */
function(t, e) {
    "function" == typeof define && define.amd ? define("flickity/js/index", ["./flickity", "./drag", "./prev-next-button", "./page-dots", "./player", "./add-remove-cell"], e) : "object" == typeof module && module.exports && (module.exports = e(require("./flickity"), require("./drag"), require("./prev-next-button"), require("./page-dots"), require("./player"), require("./add-remove-cell")))
}(window, (function(t) {
    return t
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define(["flickity/js/index", "fizzy-ui-utils/utils"], e) : "object" == typeof module && module.exports ? module.exports = e(require("flickity"), require("fizzy-ui-utils")) : e(t.Flickity, t.fizzyUIUtils)
}(this, (function(t, e) {
    var i = t.Slide
      , n = i.prototype.updateTarget;
    i.prototype.updateTarget = function() {
        if (n.apply(this, arguments),
        this.parent.options.fade) {
            var t = this.target - this.x
              , e = this.cells[0].x;
            this.cells.forEach((function(i) {
                var n = i.x - e - t;
                i.renderPosition(n)
            }
            ))
        }
    }
    ;
    var o = t.prototype;
    t.createMethods.push("_createFade"),
    o._createFade = function() {
        this.fadeIndex = this.selectedIndex,
        this.prevSelectedIndex = this.selectedIndex,
        this.on("select", this.onSelectFade),
        this.on("dragEnd", this.onDragEndFade),
        this.on("settle", this.onSettleFade),
        this.on("activate", this.onActivateFade),
        this.on("deactivate", this.onDeactivateFade)
    }
    ;
    var r = o.updateSlides;
    o.updateSlides = function() {
        r.apply(this, arguments),
        this.options.fade
    }
    ,
    o.onSelectFade = function() {
        this.fadeIndex = Math.min(this.prevSelectedIndex, this.slides.length - 1),
        this.prevSelectedIndex = this.selectedIndex
    }
    ,
    o.onSettleFade = function() {
        if (delete this.didDragEnd,
        this.options.fade)
            this.slides[this.fadeIndex]
    }
    ,
    o.onDragEndFade = function() {
        this.didDragEnd = !0
    }
    ,
    o.onActivateFade = function() {
        this.options.fade && this.element.classList.add("is-fade")
    }
    ,
    o.onDeactivateFade = function() {
        this.options.fade && this.element.classList.remove("is-fade")
    }
    ;
    var s = o.positionSlider;
    o.positionSlider = function() {
        this.options.fade ? (this.fadeSlides(),
        this.dispatchScrollEvent()) : s.apply(this, arguments)
    }
    ;
    var a = o.positionSliderAtSelected;
    o.positionSliderAtSelected = function() {
        this.options.fade && this.setTranslateX(0),
        a.apply(this, arguments)
    }
    ,
    o.fadeSlides = function() {
        if (!(this.slides.length < 2)) {
            var t = this.getFadeIndexes()
              , e = this.slides[t.a]
              , i = this.slides[t.b]
              , n = this.wrapDifference(e.target, i.target)
              , o = this.wrapDifference(e.target, -this.x);
            o /= n;
            var r = t.a;
            this.isDragging && (r = o > .5 ? t.a : t.b);
            null != this.fadeHideIndex && this.fadeHideIndex != r && this.fadeHideIndex != t.a && (this.fadeHideIndex,
            t.b);
            this.fadeHideIndex = r
        }
    }
    ,
    o.getFadeIndexes = function() {
        return this.isDragging || this.didDragEnd ? this.options.wrapAround ? this.getFadeDragWrapIndexes() : this.getFadeDragLimitIndexes() : {
            a: this.fadeIndex,
            b: this.selectedIndex
        }
    }
    ,
    o.getFadeDragWrapIndexes = function() {
        var t = this.slides.map((function(t, e) {
            return this.getSlideDistance(-this.x, e)
        }
        ), this)
          , i = t.map((function(t) {
            return Math.abs(t)
        }
        ))
          , n = Math.min.apply(Math, i)
          , o = i.indexOf(n)
          , r = t[o]
          , s = this.slides.length
          , a = r >= 0 ? 1 : -1;
        return {
            a: o,
            b: e.modulo(o + a, s)
        }
    }
    ,
    o.getFadeDragLimitIndexes = function() {
        for (var t = 0, e = 0; e < this.slides.length - 1; e++) {
            var i = this.slides[e];
            if (-this.x < i.target)
                break;
            t = e
        }
        return {
            a: t,
            b: t + 1
        }
    }
    ,
    o.wrapDifference = function(t, e) {
        var i = e - t;
        if (!this.options.wrapAround)
            return i;
        var n = i + this.slideableWidth
          , o = i - this.slideableWidth;
        return Math.abs(n) < Math.abs(i) && (i = n),
        Math.abs(o) < Math.abs(i) && (i = o),
        i
    }
    ;
    var l = o._getWrapShiftCells;
    o._getWrapShiftCells = function() {
        this.options.fade || l.apply(this, arguments)
    }
    ;
    var c = o.shiftWrapCells;
    return o.shiftWrapCells = function() {
        this.options.fade || c.apply(this, arguments)
    }
    ,
    t
}
)),
/*! PhotoSwipe - v4.1.3 - 2019-01-08
* http://photoswipe.com
* Copyright (c) 2019 Dmitry Semenov; */
function(t, e) {
    "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? module.exports = e() : t.PhotoSwipe = e()
}(this, (function() {
    "use strict";
    return function(t, e, i, n) {
        var o = {
            features: null,
            bind: function(t, e, i, n) {
                var o = (n ? "remove" : "add") + "EventListener";
                e = e.split(" ");
                for (var r = 0; r < e.length; r++)
                    e[r] && t[o](e[r], i, !1)
            },
            isArray: function(t) {
                return t instanceof Array
            },
            createEl: function(t, e) {
                var i = document.createElement(e || "div");
                return t && (i.className = t),
                i
            },
            getScrollY: function() {
                var t = window.pageYOffset;
                return void 0 !== t ? t : document.documentElement.scrollTop
            },
            unbind: function(t, e, i) {
                o.bind(t, e, i, !0)
            },
            removeClass: function(t, e) {
                var i = new RegExp("(\\s|^)" + e + "(\\s|$)");
                t.className = t.className.replace(i, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "")
            },
            addClass: function(t, e) {
                o.hasClass(t, e) || (t.className += (t.className ? " " : "") + e)
            },
            hasClass: function(t, e) {
                return t.className && new RegExp("(^|\\s)" + e + "(\\s|$)").test(t.className)
            },
            getChildByClass: function(t, e) {
                for (var i = t.firstChild; i; ) {
                    if (o.hasClass(i, e))
                        return i;
                    i = i.nextSibling
                }
            },
            arraySearch: function(t, e, i) {
                for (var n = t.length; n--; )
                    if (t[n][i] === e)
                        return n;
                return -1
            },
            extend: function(t, e, i) {
                for (var n in e)
                    if (e.hasOwnProperty(n)) {
                        if (i && t.hasOwnProperty(n))
                            continue;
                        t[n] = e[n]
                    }
            },
            easing: {
                sine: {
                    out: function(t) {
                        return Math.sin(t * (Math.PI / 2))
                    },
                    inOut: function(t) {
                        return -(Math.cos(Math.PI * t) - 1) / 2
                    }
                },
                cubic: {
                    out: function(t) {
                        return --t * t * t + 1
                    }
                }
            },
            detectFeatures: function() {
                if (o.features)
                    return o.features;
                var t = o.createEl().style
                  , e = ""
                  , i = {};
                if (i.touch = "ontouchstart"in window,
                window.requestAnimationFrame && (i.raf = window.requestAnimationFrame,
                i.caf = window.cancelAnimationFrame),
                i.pointerEvent = !!window.PointerEvent || navigator.msPointerEnabled,
                !i.pointerEvent) {
                    var n = navigator.userAgent;
                    if (/iP(hone|od)/.test(navigator.platform)) {
                        var r = navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
                        r && r.length > 0 && (r = parseInt(r[1], 10)) >= 1 && r < 8 && (i.isOldIOSPhone = !0)
                    }
                    var s = n.match(/Android\s([0-9\.]*)/)
                      , a = s ? s[1] : 0;
                    (a = parseFloat(a)) >= 1 && (a < 4.4 && (i.isOldAndroid = !0),
                    i.androidVersion = a),
                    i.isMobileOpera = /opera mini|opera mobi/i.test(n)
                }
                for (var l, c, u = ["transform", "perspective", "animationName"], d = ["", "webkit", "Moz", "ms", "O"], f = 0; f < 4; f++) {
                    e = d[f];
                    for (var h = 0; h < 3; h++)
                        l = u[h],
                        c = e + (e ? l.charAt(0).toUpperCase() + l.slice(1) : l),
                        !i[l] && c in t && (i[l] = c);
                    e && !i.raf && (e = e.toLowerCase(),
                    i.raf = window[e + "RequestAnimationFrame"],
                    i.raf && (i.caf = window[e + "CancelAnimationFrame"] || window[e + "CancelRequestAnimationFrame"]))
                }
                if (!i.raf) {
                    var p = 0;
                    i.raf = function(t) {
                        var e = (new Date).getTime()
                          , i = Math.max(0, 16 - (e - p))
                          , n = window.setTimeout((function() {
                            t(e + i)
                        }
                        ), i);
                        return p = e + i,
                        n
                    }
                    ,
                    i.caf = function(t) {
                        clearTimeout(t)
                    }
                }
                return i.svg = !!document.createElementNS && !!document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect,
                o.features = i,
                i
            }
        };
        o.detectFeatures();
        var r = this
          , s = {
            allowPanToNext: !0,
            spacing: .12,
            bgOpacity: 1,
            mouseUsed: !1,
            loop: !0,
            pinchToClose: !0,
            closeOnScroll: !0,
            closeOnVerticalDrag: !0,
            verticalDragRange: .75,
            hideAnimationDuration: 333,
            showAnimationDuration: 333,
            showHideOpacity: !1,
            focus: !0,
            escKey: !0,
            arrowKeys: !0,
            mainScrollEndFriction: .35,
            panEndFriction: .35,
            isClickableElement: function(t) {
                return "A" === t.tagName
            },
            getDoubleTapZoom: function(t, e) {
                return t || e.initialZoomLevel < .7 ? 1 : 1.33
            },
            maxSpreadZoom: 1.33,
            modal: !0,
            scaleMode: "fit"
        };
        o.extend(s, n);
        var a, l, c, u, d, f, h, p, m, g, v, y, b, x, w, S, C, E, z, D, k, P, A, _, T, M, I, L, N, O, F, U, R, j, W, H, V, q, B, Z, X, G, Y, K, $, J, Q, tt, et, it, nt, ot, rt, st, at, lt = {
            x: 0,
            y: 0
        }, ct = {
            x: 0,
            y: 0
        }, ut = {
            x: 0,
            y: 0
        }, dt = {}, ft = 0, ht = {}, pt = {
            x: 0,
            y: 0
        }, mt = 0, gt = !0, vt = [], yt = {}, bt = !1, xt = function(t, e) {
            o.extend(r, e.publicMethods),
            vt.push(t)
        }, wt = function(t) {
            var e = je();
            return t > e - 1 ? t - e : t < 0 ? e + t : t
        }, St = {}, Ct = function(t, e) {
            return St[t] || (St[t] = []),
            St[t].push(e)
        }, Et = function(t) {
            var e = St[t];
            if (e) {
                var i = Array.prototype.slice.call(arguments);
                i.shift();
                for (var n = 0; n < e.length; n++)
                    e[n].apply(r, i)
            }
        }, zt = function() {
            return (new Date).getTime()
        }, Dt = function(t) {
            rt = t,
            r.bg.style.opacity = t * s.bgOpacity
        }, kt = function(t, e, i, n, o) {
            (!bt || o && o !== r.currItem) && (n /= o ? o.fitRatio : r.currItem.fitRatio),
            t[P] = y + e + "px, " + i + "px" + b + " scale(" + n + ")"
        }, Pt = function(t) {
            tt && (t && (g > r.currItem.fitRatio ? bt || (Ye(r.currItem, !1, !0),
            bt = !0) : bt && (Ye(r.currItem),
            bt = !1)),
            kt(tt, ut.x, ut.y, g))
        }, At = function(t) {
            t.container && kt(t.container.style, t.initialPosition.x, t.initialPosition.y, t.initialZoomLevel, t)
        }, _t = function(t, e) {
            e[P] = y + t + "px, 0px" + b
        }, Tt = function(t, e) {
            if (!s.loop && e) {
                var i = u + (pt.x * ft - t) / pt.x
                  , n = Math.round(t - ce.x);
                (i < 0 && n > 0 || i >= je() - 1 && n < 0) && (t = ce.x + n * s.mainScrollEndFriction)
            }
            ce.x = t,
            _t(t, d)
        }, Mt = function(t, e) {
            var i = ue[t] - ht[t];
            return ct[t] + lt[t] + i - i * (e / v)
        }, It = function(t, e) {
            t.x = e.x,
            t.y = e.y,
            e.id && (t.id = e.id)
        }, Lt = function(t) {
            t.x = Math.round(t.x),
            t.y = Math.round(t.y)
        }, Nt = null, Ot = function() {
            Nt && (o.unbind(document, "mousemove", Ot),
            o.addClass(t, "pswp--has_mouse"),
            s.mouseUsed = !0,
            Et("mouseUsed")),
            Nt = setTimeout((function() {
                Nt = null
            }
            ), 100)
        }, Ft = function(t, e) {
            var i = Be(r.currItem, dt, t);
            return e && (Q = i),
            i
        }, Ut = function(t) {
            return t || (t = r.currItem),
            t.initialZoomLevel
        }, Rt = function(t) {
            return t || (t = r.currItem),
            t.w > 0 ? s.maxSpreadZoom : 1
        }, jt = function(t, e, i, n) {
            return n === r.currItem.initialZoomLevel ? (i[t] = r.currItem.initialPosition[t],
            !0) : (i[t] = Mt(t, n),
            i[t] > e.min[t] ? (i[t] = e.min[t],
            !0) : i[t] < e.max[t] && (i[t] = e.max[t],
            !0))
        }, Wt = function(t) {
            var e = "";
            s.escKey && 27 === t.keyCode ? e = "close" : s.arrowKeys && (37 === t.keyCode ? e = "prev" : 39 === t.keyCode && (e = "next")),
            e && (t.ctrlKey || t.altKey || t.shiftKey || t.metaKey || (t.preventDefault ? t.preventDefault() : t.returnValue = !1,
            r[e]()))
        }, Ht = function(t) {
            t && (X || Z || et || H) && (t.preventDefault(),
            t.stopPropagation())
        }, Vt = function() {
            r.setScrollOffset(0, o.getScrollY())
        }, qt = {}, Bt = 0, Zt = function(t) {
            qt[t] && (qt[t].raf && M(qt[t].raf),
            Bt--,
            delete qt[t])
        }, Xt = function(t) {
            qt[t] && Zt(t),
            qt[t] || (Bt++,
            qt[t] = {})
        }, Gt = function() {
            for (var t in qt)
                qt.hasOwnProperty(t) && Zt(t)
        }, Yt = function(t, e, i, n, o, r, s) {
            var a, l = zt();
            Xt(t);
            var c = function() {
                if (qt[t]) {
                    if ((a = zt() - l) >= n)
                        return Zt(t),
                        r(i),
                        void (s && s());
                    r((i - e) * o(a / n) + e),
                    qt[t].raf = T(c)
                }
            };
            c()
        }, Kt = {
            shout: Et,
            listen: Ct,
            viewportSize: dt,
            options: s,
            isMainScrollAnimating: function() {
                return et
            },
            getZoomLevel: function() {
                return g
            },
            getCurrentIndex: function() {
                return u
            },
            isDragging: function() {
                return q
            },
            isZooming: function() {
                return $
            },
            setScrollOffset: function(t, e) {
                ht.x = t,
                N = ht.y = e,
                Et("updateScrollOffset", ht)
            },
            applyZoomPan: function(t, e, i, n) {
                ut.x = e,
                ut.y = i,
                g = t,
                Pt(n)
            },
            init: function() {
                if (!a && !l) {
                    var i;
                    r.framework = o,
                    r.template = t,
                    r.bg = o.getChildByClass(t, "pswp__bg"),
                    I = t.className,
                    a = !0,
                    O = o.detectFeatures(),
                    T = O.raf,
                    M = O.caf,
                    P = O.transform,
                    r.scrollWrap = o.getChildByClass(t, "pswp__scroll-wrap"),
                    r.container = o.getChildByClass(r.scrollWrap, "pswp__container"),
                    d = r.container.style,
                    r.itemHolders = S = [{
                        el: r.container.children[0],
                        wrap: 0,
                        index: -1
                    }, {
                        el: r.container.children[1],
                        wrap: 0,
                        index: -1
                    }, {
                        el: r.container.children[2],
                        wrap: 0,
                        index: -1
                    }],
                    S[0].el.style.display = S[2].el.style.display = "none",
                    function() {
                        if (P) {
                            var e = O.perspective && !_;
                            return y = "translate" + (e ? "3d(" : "("),
                            void (b = O.perspective ? ", 0px)" : ")")
                        }
                        P = "left",
                        o.addClass(t, "pswp--ie"),
                        _t = function(t, e) {
                            e.left = t + "px"
                        }
                        ,
                        At = function(t) {
                            var e = t.fitRatio > 1 ? 1 : t.fitRatio
                              , i = t.container.style
                              , n = e * t.w
                              , o = e * t.h;
                            i.width = n + "px",
                            i.height = o + "px",
                            i.left = t.initialPosition.x + "px",
                            i.top = t.initialPosition.y + "px"
                        }
                        ,
                        Pt = function() {
                            if (tt) {
                                var t = tt
                                  , e = r.currItem
                                  , i = e.fitRatio > 1 ? 1 : e.fitRatio
                                  , n = i * e.w
                                  , o = i * e.h;
                                t.width = n + "px",
                                t.height = o + "px",
                                t.left = ut.x + "px",
                                t.top = ut.y + "px"
                            }
                        }
                    }(),
                    m = {
                        resize: r.updateSize,
                        orientationchange: function() {
                            clearTimeout(F),
                            F = setTimeout((function() {
                                dt.x !== r.scrollWrap.clientWidth && r.updateSize()
                            }
                            ), 500)
                        },
                        scroll: Vt,
                        keydown: Wt,
                        click: Ht
                    };
                    var n = O.isOldIOSPhone || O.isOldAndroid || O.isMobileOpera;
                    for (O.animationName && O.transform && !n || (s.showAnimationDuration = s.hideAnimationDuration = 0),
                    i = 0; i < vt.length; i++)
                        r["init" + vt[i]]();
                    if (e)
                        (r.ui = new e(r,o)).init();
                    Et("firstUpdate"),
                    u = u || s.index || 0,
                    (isNaN(u) || u < 0 || u >= je()) && (u = 0),
                    r.currItem = Re(u),
                    (O.isOldIOSPhone || O.isOldAndroid) && (gt = !1),
                    t.setAttribute("aria-hidden", "false"),
                    s.modal && (gt ? t.style.position = "fixed" : (t.style.position = "absolute",
                    t.style.top = o.getScrollY() + "px")),
                    void 0 === N && (Et("initialLayout"),
                    N = L = o.getScrollY());
                    var c = "pswp--open ";
                    for (s.mainClass && (c += s.mainClass + " "),
                    s.showHideOpacity && (c += "pswp--animate_opacity "),
                    c += _ ? "pswp--touch" : "pswp--notouch",
                    c += O.animationName ? " pswp--css_animation" : "",
                    c += O.svg ? " pswp--svg" : "",
                    o.addClass(t, c),
                    r.updateSize(),
                    f = -1,
                    mt = null,
                    i = 0; i < 3; i++)
                        _t((i + f) * pt.x, S[i].el.style);
                    o.bind(r.scrollWrap, p, r),
                    Ct("initialZoomInEnd", (function() {
                        r.setContent(S[0], u - 1),
                        r.setContent(S[2], u + 1),
                        S[0].el.style.display = S[2].el.style.display = "block",
                        s.focus && t.focus(),
                        o.bind(document, "keydown", r),
                        O.transform && o.bind(r.scrollWrap, "click", r),
                        s.mouseUsed || o.bind(document, "mousemove", Ot),
                        o.bind(window, "resize scroll orientationchange", r),
                        Et("bindEvents")
                    }
                    )),
                    r.setContent(S[1], u),
                    r.updateCurrItem(),
                    Et("afterInit"),
                    gt || (x = setInterval((function() {
                        Bt || q || $ || g !== r.currItem.initialZoomLevel || r.updateSize()
                    }
                    ), 1e3)),
                    o.addClass(t, "pswp--visible")
                }
            },
            close: function() {
                a && (a = !1,
                l = !0,
                Et("close"),
                o.unbind(window, "resize scroll orientationchange", r),
                o.unbind(window, "scroll", m.scroll),
                o.unbind(document, "keydown", r),
                o.unbind(document, "mousemove", Ot),
                O.transform && o.unbind(r.scrollWrap, "click", r),
                q && o.unbind(window, h, r),
                clearTimeout(F),
                Et("unbindEvents"),
                We(r.currItem, null, !0, r.destroy))
            },
            destroy: function() {
                Et("destroy"),
                Ne && clearTimeout(Ne),
                t.setAttribute("aria-hidden", "true"),
                t.className = I,
                x && clearInterval(x),
                o.unbind(r.scrollWrap, p, r),
                o.unbind(window, "scroll", r),
                he(),
                Gt(),
                St = null
            },
            panTo: function(t, e, i) {
                i || (t > Q.min.x ? t = Q.min.x : t < Q.max.x && (t = Q.max.x),
                e > Q.min.y ? e = Q.min.y : e < Q.max.y && (e = Q.max.y)),
                ut.x = t,
                ut.y = e,
                Pt()
            },
            handleEvent: function(t) {
                t = t || window.event,
                m[t.type] && m[t.type](t)
            },
            goTo: function(t) {
                var e = (t = wt(t)) - u;
                mt = e,
                u = t,
                r.currItem = Re(u),
                ft -= e,
                Tt(pt.x * ft),
                Gt(),
                et = !1,
                r.updateCurrItem()
            },
            next: function() {
                r.goTo(u + 1)
            },
            prev: function() {
                r.goTo(u - 1)
            },
            updateCurrZoomItem: function(t) {
                if (t && Et("beforeChange", 0),
                S[1].el.children.length) {
                    var e = S[1].el.children[0];
                    tt = o.hasClass(e, "pswp__zoom-wrap") ? e.style : null
                } else
                    tt = null;
                Q = r.currItem.bounds,
                v = g = r.currItem.initialZoomLevel,
                ut.x = Q.center.x,
                ut.y = Q.center.y,
                t && Et("afterChange")
            },
            invalidateCurrItems: function() {
                w = !0;
                for (var t = 0; t < 3; t++)
                    S[t].item && (S[t].item.needsUpdate = !0)
            },
            updateCurrItem: function(t) {
                if (0 !== mt) {
                    var e, i = Math.abs(mt);
                    if (!(t && i < 2)) {
                        r.currItem = Re(u),
                        bt = !1,
                        Et("beforeChange", mt),
                        i >= 3 && (f += mt + (mt > 0 ? -3 : 3),
                        i = 3);
                        for (var n = 0; n < i; n++)
                            mt > 0 ? (e = S.shift(),
                            S[2] = e,
                            f++,
                            _t((f + 2) * pt.x, e.el.style),
                            r.setContent(e, u - i + n + 1 + 1)) : (e = S.pop(),
                            S.unshift(e),
                            f--,
                            _t(f * pt.x, e.el.style),
                            r.setContent(e, u + i - n - 1 - 1));
                        if (tt && 1 === Math.abs(mt)) {
                            var o = Re(C);
                            o.initialZoomLevel !== g && (Be(o, dt),
                            Ye(o),
                            At(o))
                        }
                        mt = 0,
                        r.updateCurrZoomItem(),
                        C = u,
                        Et("afterChange")
                    }
                }
            },
            updateSize: function(e) {
                if (!gt && s.modal) {
                    var i = o.getScrollY();
                    if (N !== i && (t.style.top = i + "px",
                    N = i),
                    !e && yt.x === window.innerWidth && yt.y === window.innerHeight)
                        return;
                    yt.x = window.innerWidth,
                    yt.y = window.innerHeight,
                    t.style.height = yt.y + "px"
                }
                if (dt.x = r.scrollWrap.clientWidth,
                dt.y = r.scrollWrap.clientHeight,
                Vt(),
                pt.x = dt.x + Math.round(dt.x * s.spacing),
                pt.y = dt.y,
                Tt(pt.x * ft),
                Et("beforeResize"),
                void 0 !== f) {
                    for (var n, a, l, c = 0; c < 3; c++)
                        n = S[c],
                        _t((c + f) * pt.x, n.el.style),
                        l = u + c - 1,
                        s.loop && je() > 2 && (l = wt(l)),
                        (a = Re(l)) && (w || a.needsUpdate || !a.bounds) ? (r.cleanSlide(a),
                        r.setContent(n, l),
                        1 === c && (r.currItem = a,
                        r.updateCurrZoomItem(!0)),
                        a.needsUpdate = !1) : -1 === n.index && l >= 0 && r.setContent(n, l),
                        a && a.container && (Be(a, dt),
                        Ye(a),
                        At(a));
                    w = !1
                }
                v = g = r.currItem.initialZoomLevel,
                (Q = r.currItem.bounds) && (ut.x = Q.center.x,
                ut.y = Q.center.y,
                Pt(!0)),
                Et("resize")
            },
            zoomTo: function(t, e, i, n, r) {
                e && (v = g,
                ue.x = Math.abs(e.x) - ut.x,
                ue.y = Math.abs(e.y) - ut.y,
                It(ct, ut));
                var s = Ft(t, !1)
                  , a = {};
                jt("x", s, a, t),
                jt("y", s, a, t);
                var l = g
                  , c = ut.x
                  , u = ut.y;
                Lt(a);
                var d = function(e) {
                    1 === e ? (g = t,
                    ut.x = a.x,
                    ut.y = a.y) : (g = (t - l) * e + l,
                    ut.x = (a.x - c) * e + c,
                    ut.y = (a.y - u) * e + u),
                    r && r(e),
                    Pt(1 === e)
                };
                i ? Yt("customZoomTo", 0, 1, i, n || o.easing.sine.inOut, d) : d(1)
            }
        }, $t = {}, Jt = {}, Qt = {}, te = {}, ee = {}, ie = [], ne = {}, oe = [], re = {}, se = 0, ae = {
            x: 0,
            y: 0
        }, le = 0, ce = {
            x: 0,
            y: 0
        }, ue = {
            x: 0,
            y: 0
        }, de = {
            x: 0,
            y: 0
        }, fe = function(t, e) {
            return re.x = Math.abs(t.x - e.x),
            re.y = Math.abs(t.y - e.y),
            Math.sqrt(re.x * re.x + re.y * re.y)
        }, he = function() {
            G && (M(G),
            G = null)
        }, pe = function() {
            q && (G = T(pe),
            Pe())
        }, me = function(t, e) {
            return !(!t || t === document) && (!(t.getAttribute("class") && t.getAttribute("class").indexOf("pswp__scroll-wrap") > -1) && (e(t) ? t : me(t.parentNode, e)))
        }, ge = {}, ve = function(t, e) {
            return ge.prevent = !me(t.target, s.isClickableElement),
            Et("preventDragEvent", t, e, ge),
            ge.prevent
        }, ye = function(t, e) {
            return e.x = t.pageX,
            e.y = t.pageY,
            e.id = t.identifier,
            e
        }, be = function(t, e, i) {
            i.x = .5 * (t.x + e.x),
            i.y = .5 * (t.y + e.y)
        }, xe = function() {
            var t = ut.y - r.currItem.initialPosition.y;
            return 1 - Math.abs(t / (dt.y / 2))
        }, we = {}, Se = {}, Ce = [], Ee = function(t) {
            for (; Ce.length > 0; )
                Ce.pop();
            return A ? (at = 0,
            ie.forEach((function(t) {
                0 === at ? Ce[0] = t : 1 === at && (Ce[1] = t),
                at++
            }
            ))) : t.type.indexOf("touch") > -1 ? t.touches && t.touches.length > 0 && (Ce[0] = ye(t.touches[0], we),
            t.touches.length > 1 && (Ce[1] = ye(t.touches[1], Se))) : (we.x = t.pageX,
            we.y = t.pageY,
            we.id = "",
            Ce[0] = we),
            Ce
        }, ze = function(t, e) {
            var i, n, o, a, l = ut[t] + e[t], c = e[t] > 0, u = ce.x + e.x, d = ce.x - ne.x;
            if (i = l > Q.min[t] || l < Q.max[t] ? s.panEndFriction : 1,
            l = ut[t] + e[t] * i,
            (s.allowPanToNext || g === r.currItem.initialZoomLevel) && (tt ? "h" !== it || "x" !== t || Z || (c ? (l > Q.min[t] && (i = s.panEndFriction,
            Q.min[t] - l,
            n = Q.min[t] - ct[t]),
            (n <= 0 || d < 0) && je() > 1 ? (a = u,
            d < 0 && u > ne.x && (a = ne.x)) : Q.min.x !== Q.max.x && (o = l)) : (l < Q.max[t] && (i = s.panEndFriction,
            l - Q.max[t],
            n = ct[t] - Q.max[t]),
            (n <= 0 || d > 0) && je() > 1 ? (a = u,
            d > 0 && u < ne.x && (a = ne.x)) : Q.min.x !== Q.max.x && (o = l))) : a = u,
            "x" === t))
                return void 0 !== a && (Tt(a, !0),
                Y = a !== ne.x),
                Q.min.x !== Q.max.x && (void 0 !== o ? ut.x = o : Y || (ut.x += e.x * i)),
                void 0 !== a;
            et || Y || g > r.currItem.fitRatio && (ut[t] += e[t] * i)
        }, De = function(t) {
            if (!("mousedown" === t.type && t.button > 0))
                if (Ue)
                    t.preventDefault();
                else if (!V || "mousedown" !== t.type) {
                    if (ve(t, !0) && t.preventDefault(),
                    Et("pointerDown"),
                    A) {
                        var e = o.arraySearch(ie, t.pointerId, "id");
                        e < 0 && (e = ie.length),
                        ie[e] = {
                            x: t.pageX,
                            y: t.pageY,
                            id: t.pointerId
                        }
                    }
                    var i = Ee(t)
                      , n = i.length;
                    K = null,
                    Gt(),
                    q && 1 !== n || (q = nt = !0,
                    o.bind(window, h, r),
                    W = st = ot = H = Y = X = B = Z = !1,
                    it = null,
                    Et("firstTouchStart", i),
                    It(ct, ut),
                    lt.x = lt.y = 0,
                    It(te, i[0]),
                    It(ee, te),
                    ne.x = pt.x * ft,
                    oe = [{
                        x: te.x,
                        y: te.y
                    }],
                    R = U = zt(),
                    Ft(g, !0),
                    he(),
                    pe()),
                    !$ && n > 1 && !et && !Y && (v = g,
                    Z = !1,
                    $ = B = !0,
                    lt.y = lt.x = 0,
                    It(ct, ut),
                    It($t, i[0]),
                    It(Jt, i[1]),
                    be($t, Jt, de),
                    ue.x = Math.abs(de.x) - ut.x,
                    ue.y = Math.abs(de.y) - ut.y,
                    J = fe($t, Jt))
                }
        }, ke = function(t) {
            if (t.preventDefault(),
            A) {
                var e = o.arraySearch(ie, t.pointerId, "id");
                if (e > -1) {
                    var i = ie[e];
                    i.x = t.pageX,
                    i.y = t.pageY
                }
            }
            if (q) {
                var n = Ee(t);
                if (it || X || $)
                    K = n;
                else if (ce.x !== pt.x * ft)
                    it = "h";
                else {
                    var r = Math.abs(n[0].x - te.x) - Math.abs(n[0].y - te.y);
                    Math.abs(r) >= 10 && (it = r > 0 ? "h" : "v",
                    K = n)
                }
            }
        }, Pe = function() {
            if (K) {
                var t = K.length;
                if (0 !== t)
                    if (It($t, K[0]),
                    Qt.x = $t.x - te.x,
                    Qt.y = $t.y - te.y,
                    $ && t > 1) {
                        if (te.x = $t.x,
                        te.y = $t.y,
                        !Qt.x && !Qt.y && function(t, e) {
                            return t.x === e.x && t.y === e.y
                        }(K[1], Jt))
                            return;
                        It(Jt, K[1]),
                        Z || (Z = !0,
                        Et("zoomGestureStarted"));
                        var e = fe($t, Jt)
                          , i = Ie(e);
                        i > r.currItem.initialZoomLevel + r.currItem.initialZoomLevel / 15 && (st = !0);
                        var n = 1
                          , o = Ut()
                          , a = Rt();
                        if (i < o)
                            if (s.pinchToClose && !st && v <= r.currItem.initialZoomLevel) {
                                var l = 1 - (o - i) / (o / 1.2);
                                Dt(l),
                                Et("onPinchClose", l),
                                ot = !0
                            } else
                                (n = (o - i) / o) > 1 && (n = 1),
                                i = o - n * (o / 3);
                        else
                            i > a && ((n = (i - a) / (6 * o)) > 1 && (n = 1),
                            i = a + n * o);
                        n < 0 && (n = 0),
                        e,
                        be($t, Jt, ae),
                        lt.x += ae.x - de.x,
                        lt.y += ae.y - de.y,
                        It(de, ae),
                        ut.x = Mt("x", i),
                        ut.y = Mt("y", i),
                        W = i > g,
                        g = i,
                        Pt()
                    } else {
                        if (!it)
                            return;
                        if (nt && (nt = !1,
                        Math.abs(Qt.x) >= 10 && (Qt.x -= K[0].x - ee.x),
                        Math.abs(Qt.y) >= 10 && (Qt.y -= K[0].y - ee.y)),
                        te.x = $t.x,
                        te.y = $t.y,
                        0 === Qt.x && 0 === Qt.y)
                            return;
                        if ("v" === it && s.closeOnVerticalDrag && "fit" === s.scaleMode && g === r.currItem.initialZoomLevel) {
                            lt.y += Qt.y,
                            ut.y += Qt.y;
                            var c = xe();
                            return H = !0,
                            Et("onVerticalDrag", c),
                            Dt(c),
                            void Pt()
                        }
                        !function(t, e, i) {
                            if (t - R > 50) {
                                var n = oe.length > 2 ? oe.shift() : {};
                                n.x = e,
                                n.y = i,
                                oe.push(n),
                                R = t
                            }
                        }(zt(), $t.x, $t.y),
                        X = !0,
                        Q = r.currItem.bounds,
                        ze("x", Qt) || (ze("y", Qt),
                        Lt(ut),
                        Pt())
                    }
            }
        }, Ae = function(t) {
            if (O.isOldAndroid) {
                if (V && "mouseup" === t.type)
                    return;
                t.type.indexOf("touch") > -1 && (clearTimeout(V),
                V = setTimeout((function() {
                    V = 0
                }
                ), 600))
            }
            var e;
            if (Et("pointerUp"),
            ve(t, !1) && t.preventDefault(),
            A) {
                var i = o.arraySearch(ie, t.pointerId, "id");
                if (i > -1)
                    if (e = ie.splice(i, 1)[0],
                    navigator.msPointerEnabled) {
                        e.type = {
                            4: "mouse",
                            2: "touch",
                            3: "pen"
                        }[t.pointerType],
                        e.type || (e.type = t.pointerType || "mouse")
                    } else
                        e.type = t.pointerType || "mouse"
            }
            var n, a = Ee(t), l = a.length;
            if ("mouseup" === t.type && (l = 0),
            2 === l)
                return K = null,
                !0;
            1 === l && It(ee, a[0]),
            0 !== l || it || et || (e || ("mouseup" === t.type ? e = {
                x: t.pageX,
                y: t.pageY,
                type: "mouse"
            } : t.changedTouches && t.changedTouches[0] && (e = {
                x: t.changedTouches[0].pageX,
                y: t.changedTouches[0].pageY,
                type: "touch"
            })),
            Et("touchRelease", t, e));
            var c = -1;
            if (0 === l && (q = !1,
            o.unbind(window, h, r),
            he(),
            $ ? c = 0 : -1 !== le && (c = zt() - le)),
            le = 1 === l ? zt() : -1,
            n = -1 !== c && c < 150 ? "zoom" : "swipe",
            $ && l < 2 && ($ = !1,
            1 === l && (n = "zoomPointerUp"),
            Et("zoomGestureEnded")),
            K = null,
            X || Z || et || H)
                if (Gt(),
                j || (j = _e()),
                j.calculateSwipeSpeed("x"),
                H) {
                    if (xe() < s.verticalDragRange)
                        r.close();
                    else {
                        var u = ut.y
                          , d = rt;
                        Yt("verticalDrag", 0, 1, 300, o.easing.cubic.out, (function(t) {
                            ut.y = (r.currItem.initialPosition.y - u) * t + u,
                            Dt((1 - d) * t + d),
                            Pt()
                        }
                        )),
                        Et("onVerticalDrag", 1)
                    }
                } else {
                    if ((Y || et) && 0 === l) {
                        if (Me(n, j))
                            return;
                        n = "zoomPointerUp"
                    }
                    et || ("swipe" === n ? !Y && g > r.currItem.fitRatio && Te(j) : Le())
                }
        }, _e = function() {
            var t, e, i = {
                lastFlickOffset: {},
                lastFlickDist: {},
                lastFlickSpeed: {},
                slowDownRatio: {},
                slowDownRatioReverse: {},
                speedDecelerationRatio: {},
                speedDecelerationRatioAbs: {},
                distanceOffset: {},
                backAnimDestination: {},
                backAnimStarted: {},
                calculateSwipeSpeed: function(n) {
                    oe.length > 1 ? (t = zt() - R + 50,
                    e = oe[oe.length - 2][n]) : (t = zt() - U,
                    e = ee[n]),
                    i.lastFlickOffset[n] = te[n] - e,
                    i.lastFlickDist[n] = Math.abs(i.lastFlickOffset[n]),
                    i.lastFlickDist[n] > 20 ? i.lastFlickSpeed[n] = i.lastFlickOffset[n] / t : i.lastFlickSpeed[n] = 0,
                    Math.abs(i.lastFlickSpeed[n]) < .1 && (i.lastFlickSpeed[n] = 0),
                    i.slowDownRatio[n] = .95,
                    i.slowDownRatioReverse[n] = 1 - i.slowDownRatio[n],
                    i.speedDecelerationRatio[n] = 1
                },
                calculateOverBoundsAnimOffset: function(t, e) {
                    i.backAnimStarted[t] || (ut[t] > Q.min[t] ? i.backAnimDestination[t] = Q.min[t] : ut[t] < Q.max[t] && (i.backAnimDestination[t] = Q.max[t]),
                    void 0 !== i.backAnimDestination[t] && (i.slowDownRatio[t] = .7,
                    i.slowDownRatioReverse[t] = 1 - i.slowDownRatio[t],
                    i.speedDecelerationRatioAbs[t] < .05 && (i.lastFlickSpeed[t] = 0,
                    i.backAnimStarted[t] = !0,
                    Yt("bounceZoomPan" + t, ut[t], i.backAnimDestination[t], e || 300, o.easing.sine.out, (function(e) {
                        ut[t] = e,
                        Pt()
                    }
                    )))))
                },
                calculateAnimOffset: function(t) {
                    i.backAnimStarted[t] || (i.speedDecelerationRatio[t] = i.speedDecelerationRatio[t] * (i.slowDownRatio[t] + i.slowDownRatioReverse[t] - i.slowDownRatioReverse[t] * i.timeDiff / 10),
                    i.speedDecelerationRatioAbs[t] = Math.abs(i.lastFlickSpeed[t] * i.speedDecelerationRatio[t]),
                    i.distanceOffset[t] = i.lastFlickSpeed[t] * i.speedDecelerationRatio[t] * i.timeDiff,
                    ut[t] += i.distanceOffset[t])
                },
                panAnimLoop: function() {
                    if (qt.zoomPan && (qt.zoomPan.raf = T(i.panAnimLoop),
                    i.now = zt(),
                    i.timeDiff = i.now - i.lastNow,
                    i.lastNow = i.now,
                    i.calculateAnimOffset("x"),
                    i.calculateAnimOffset("y"),
                    Pt(),
                    i.calculateOverBoundsAnimOffset("x"),
                    i.calculateOverBoundsAnimOffset("y"),
                    i.speedDecelerationRatioAbs.x < .05 && i.speedDecelerationRatioAbs.y < .05))
                        return ut.x = Math.round(ut.x),
                        ut.y = Math.round(ut.y),
                        Pt(),
                        void Zt("zoomPan")
                }
            };
            return i
        }, Te = function(t) {
            if (t.calculateSwipeSpeed("y"),
            Q = r.currItem.bounds,
            t.backAnimDestination = {},
            t.backAnimStarted = {},
            Math.abs(t.lastFlickSpeed.x) <= .05 && Math.abs(t.lastFlickSpeed.y) <= .05)
                return t.speedDecelerationRatioAbs.x = t.speedDecelerationRatioAbs.y = 0,
                t.calculateOverBoundsAnimOffset("x"),
                t.calculateOverBoundsAnimOffset("y"),
                !0;
            Xt("zoomPan"),
            t.lastNow = zt(),
            t.panAnimLoop()
        }, Me = function(t, e) {
            var i, n, a;
            if (et || (se = u),
            "swipe" === t) {
                var l = te.x - ee.x
                  , c = e.lastFlickDist.x < 10;
                l > 30 && (c || e.lastFlickOffset.x > 20) ? n = -1 : l < -30 && (c || e.lastFlickOffset.x < -20) && (n = 1)
            }
            n && ((u += n) < 0 ? (u = s.loop ? je() - 1 : 0,
            a = !0) : u >= je() && (u = s.loop ? 0 : je() - 1,
            a = !0),
            a && !s.loop || (mt += n,
            ft -= n,
            i = !0));
            var d, f = pt.x * ft, h = Math.abs(f - ce.x);
            return i || f > ce.x == e.lastFlickSpeed.x > 0 ? (d = Math.abs(e.lastFlickSpeed.x) > 0 ? h / Math.abs(e.lastFlickSpeed.x) : 333,
            d = Math.min(d, 400),
            d = Math.max(d, 250)) : d = 333,
            se === u && (i = !1),
            et = !0,
            Et("mainScrollAnimStart"),
            Yt("mainScroll", ce.x, f, d, o.easing.cubic.out, Tt, (function() {
                Gt(),
                et = !1,
                se = -1,
                (i || se !== u) && r.updateCurrItem(),
                Et("mainScrollAnimComplete")
            }
            )),
            i && r.updateCurrItem(!0),
            i
        }, Ie = function(t) {
            return 1 / J * t * v
        }, Le = function() {
            var t = g
              , e = Ut()
              , i = Rt();
            g < e ? t = e : g > i && (t = i);
            var n, s = rt;
            return ot && !W && !st && g < e ? (r.close(),
            !0) : (ot && (n = function(t) {
                Dt((1 - s) * t + s)
            }
            ),
            r.zoomTo(t, 0, 200, o.easing.cubic.out, n),
            !0)
        };
        xt("Gestures", {
            publicMethods: {
                initGestures: function() {
                    var t = function(t, e, i, n, o) {
                        E = t + e,
                        z = t + i,
                        D = t + n,
                        k = o ? t + o : ""
                    };
                    (A = O.pointerEvent) && O.touch && (O.touch = !1),
                    A ? navigator.msPointerEnabled ? t("MSPointer", "Down", "Move", "Up", "Cancel") : t("pointer", "down", "move", "up", "cancel") : O.touch ? (t("touch", "start", "move", "end", "cancel"),
                    _ = !0) : t("mouse", "down", "move", "up"),
                    h = z + " " + D + " " + k,
                    p = E,
                    A && !_ && (_ = navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1),
                    r.likelyTouchDevice = _,
                    m[E] = De,
                    m[z] = ke,
                    m[D] = Ae,
                    k && (m[k] = m[D]),
                    O.touch && (p += " mousedown",
                    h += " mousemove mouseup",
                    m.mousedown = m[E],
                    m.mousemove = m[z],
                    m.mouseup = m[D]),
                    _ || (s.allowPanToNext = !1)
                }
            }
        });
        var Ne, Oe, Fe, Ue, Re, je, We = function(e, i, n, a) {
            var l;
            Ne && clearTimeout(Ne),
            Ue = !0,
            Fe = !0,
            e.initialLayout ? (l = e.initialLayout,
            e.initialLayout = null) : l = s.getThumbBoundsFn && s.getThumbBoundsFn(u);
            var d = n ? s.hideAnimationDuration : s.showAnimationDuration
              , f = function() {
                Zt("initialZoom"),
                n ? (r.template.removeAttribute("style"),
                r.bg.removeAttribute("style")) : (Dt(1),
                i && (i.style.display = "block"),
                o.addClass(t, "pswp--animated-in"),
                Et("initialZoom" + (n ? "OutEnd" : "InEnd"))),
                a && a(),
                Ue = !1
            };
            if (!d || !l || void 0 === l.x)
                return Et("initialZoom" + (n ? "Out" : "In")),
                g = e.initialZoomLevel,
                It(ut, e.initialPosition),
                Pt(),
                t.style.opacity = n ? 0 : 1,
                Dt(1),
                void (d ? setTimeout((function() {
                    f()
                }
                ), d) : f());
            var h, p;
            h = c,
            p = !r.currItem.src || r.currItem.loadError || s.showHideOpacity,
            e.miniImg && (e.miniImg.style.webkitBackfaceVisibility = "hidden"),
            n || (g = l.w / e.w,
            ut.x = l.x,
            ut.y = l.y - L,
            r[p ? "template" : "bg"].style.opacity = .001,
            Pt()),
            Xt("initialZoom"),
            n && !h && o.removeClass(t, "pswp--animated-in"),
            p && (n ? o[(h ? "remove" : "add") + "Class"](t, "pswp--animate_opacity") : setTimeout((function() {
                o.addClass(t, "pswp--animate_opacity")
            }
            ), 30)),
            Ne = setTimeout((function() {
                if (Et("initialZoom" + (n ? "Out" : "In")),
                n) {
                    var i = l.w / e.w
                      , r = {
                        x: ut.x,
                        y: ut.y
                    }
                      , s = g
                      , a = rt
                      , c = function(e) {
                        1 === e ? (g = i,
                        ut.x = l.x,
                        ut.y = l.y - N) : (g = (i - s) * e + s,
                        ut.x = (l.x - r.x) * e + r.x,
                        ut.y = (l.y - N - r.y) * e + r.y),
                        Pt(),
                        p ? t.style.opacity = 1 - e : Dt(a - e * a)
                    };
                    h ? Yt("initialZoom", 0, 1, d, o.easing.cubic.out, c, f) : (c(1),
                    Ne = setTimeout(f, d + 20))
                } else
                    g = e.initialZoomLevel,
                    It(ut, e.initialPosition),
                    Pt(),
                    Dt(1),
                    p ? t.style.opacity = 1 : Dt(1),
                    Ne = setTimeout(f, d + 20)
            }
            ), n ? 25 : 90)
        }, He = {}, Ve = [], qe = {
            index: 0,
            errorMsg: '<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',
            forceProgressiveLoading: !1,
            preload: [1, 1],
            getNumItemsFn: function() {
                return Oe.length
            }
        }, Be = function(t, e, i) {
            if (t.src && !t.loadError) {
                var n = !i;
                if (n && (t.vGap || (t.vGap = {
                    top: 0,
                    bottom: 0
                }),
                Et("parseVerticalMargin", t)),
                He.x = e.x,
                He.y = e.y - t.vGap.top - t.vGap.bottom,
                n) {
                    var o = He.x / t.w
                      , r = He.y / t.h;
                    t.fitRatio = o < r ? o : r;
                    var a = s.scaleMode;
                    "orig" === a ? i = 1 : "fit" === a ? i = t.fitRatio : "zoom" === a && (i = Math.max(t.initialZoomLevel || 1, t.fitRatio)),
                    i > 1 && (i = 1),
                    t.initialZoomLevel = i,
                    t.bounds || (t.bounds = {
                        center: {
                            x: 0,
                            y: 0
                        },
                        max: {
                            x: 0,
                            y: 0
                        },
                        min: {
                            x: 0,
                            y: 0
                        }
                    })
                }
                if (!i)
                    return;
                return function(t, e, i) {
                    var n = t.bounds;
                    n.center.x = Math.round((He.x - e) / 2),
                    n.center.y = Math.round((He.y - i) / 2) + t.vGap.top,
                    n.max.x = e > He.x ? Math.round(He.x - e) : n.center.x,
                    n.max.y = i > He.y ? Math.round(He.y - i) + t.vGap.top : n.center.y,
                    n.min.x = e > He.x ? 0 : n.center.x,
                    n.min.y = i > He.y ? t.vGap.top : n.center.y
                }(t, t.w * i, t.h * i),
                n && i === t.initialZoomLevel && (t.initialPosition = t.bounds.center),
                t.bounds
            }
            return t.w = t.h = 0,
            t.initialZoomLevel = t.fitRatio = 1,
            t.bounds = {
                center: {
                    x: 0,
                    y: 0
                },
                max: {
                    x: 0,
                    y: 0
                },
                min: {
                    x: 0,
                    y: 0
                }
            },
            t.initialPosition = t.bounds.center,
            t.bounds
        }, Ze = function(t, e, i, n, o, s) {
            e.loadError || n && (e.imageAppended = !0,
            Ye(e, n, e === r.currItem && bt),
            i.appendChild(n),
            s && setTimeout((function() {
                e && e.loaded && e.placeholder && (e.placeholder.style.display = "none",
                e.placeholder = null)
            }
            ), 500))
        }, Xe = function(t) {
            t.loading = !0,
            t.loaded = !1;
            var e = t.img = o.createEl("pswp__img", "img")
              , i = function() {
                t.loading = !1,
                t.loaded = !0,
                t.loadComplete ? t.loadComplete(t) : t.img = null,
                e.onload = e.onerror = null,
                e = null
            };
            return e.onload = i,
            e.onerror = function() {
                t.loadError = !0,
                i()
            }
            ,
            e.src = t.src,
            e
        }, Ge = function(t, e) {
            if (t.src && t.loadError && t.container)
                return e && (t.container.innerHTML = ""),
                t.container.innerHTML = s.errorMsg.replace("%url%", t.src),
                !0
        }, Ye = function(t, e, i) {
            if (t.src) {
                e || (e = t.container.lastChild);
                var n = i ? t.w : Math.round(t.w * t.fitRatio)
                  , o = i ? t.h : Math.round(t.h * t.fitRatio);
                t.placeholder && !t.loaded && (t.placeholder.style.width = n + "px",
                t.placeholder.style.height = o + "px"),
                e.style.width = n + "px",
                e.style.height = o + "px"
            }
        }, Ke = function() {
            if (Ve.length) {
                for (var t, e = 0; e < Ve.length; e++)
                    (t = Ve[e]).holder.index === t.index && Ze(t.index, t.item, t.baseDiv, t.img, 0, t.clearPlaceholder);
                Ve = []
            }
        };
        xt("Controller", {
            publicMethods: {
                lazyLoadItem: function(t) {
                    t = wt(t);
                    var e = Re(t);
                    e && (!e.loaded && !e.loading || w) && (Et("gettingData", t, e),
                    e.src && Xe(e))
                },
                initController: function() {
                    o.extend(s, qe, !0),
                    r.items = Oe = i,
                    Re = r.getItemAt,
                    je = s.getNumItemsFn,
                    s.loop,
                    je() < 3 && (s.loop = !1),
                    Ct("beforeChange", (function(t) {
                        var e, i = s.preload, n = null === t || t >= 0, o = Math.min(i[0], je()), a = Math.min(i[1], je());
                        for (e = 1; e <= (n ? a : o); e++)
                            r.lazyLoadItem(u + e);
                        for (e = 1; e <= (n ? o : a); e++)
                            r.lazyLoadItem(u - e)
                    }
                    )),
                    Ct("initialLayout", (function() {
                        r.currItem.initialLayout = s.getThumbBoundsFn && s.getThumbBoundsFn(u)
                    }
                    )),
                    Ct("mainScrollAnimComplete", Ke),
                    Ct("initialZoomInEnd", Ke),
                    Ct("destroy", (function() {
                        for (var t, e = 0; e < Oe.length; e++)
                            (t = Oe[e]).container && (t.container = null),
                            t.placeholder && (t.placeholder = null),
                            t.img && (t.img = null),
                            t.preloader && (t.preloader = null),
                            t.loadError && (t.loaded = t.loadError = !1);
                        Ve = null
                    }
                    ))
                },
                getItemAt: function(t) {
                    return t >= 0 && (void 0 !== Oe[t] && Oe[t])
                },
                allowProgressiveImg: function() {
                    return s.forceProgressiveLoading || !_ || s.mouseUsed || screen.width > 1200
                },
                setContent: function(t, e) {
                    s.loop && (e = wt(e));
                    var i = r.getItemAt(t.index);
                    i && (i.container = null);
                    var n, l = r.getItemAt(e);
                    if (l) {
                        Et("gettingData", e, l),
                        t.index = e,
                        t.item = l;
                        var c = l.container = o.createEl("pswp__zoom-wrap");
                        if (!l.src && l.html && (l.html.tagName ? c.appendChild(l.html) : c.innerHTML = l.html),
                        Ge(l),
                        Be(l, dt),
                        !l.src || l.loadError || l.loaded)
                            l.src && !l.loadError && ((n = o.createEl("pswp__img", "img")).style.opacity = 1,
                            n.src = l.src,
                            Ye(l, n),
                            Ze(0, l, c, n));
                        else {
                            if (l.loadComplete = function(i) {
                                if (a) {
                                    if (t && t.index === e) {
                                        if (Ge(i, !0))
                                            return i.loadComplete = i.img = null,
                                            Be(i, dt),
                                            At(i),
                                            void (t.index === u && r.updateCurrZoomItem());
                                        i.imageAppended ? !Ue && i.placeholder && (i.placeholder.style.display = "none",
                                        i.placeholder = null) : O.transform && (et || Ue) ? Ve.push({
                                            item: i,
                                            baseDiv: c,
                                            img: i.img,
                                            index: e,
                                            holder: t,
                                            clearPlaceholder: !0
                                        }) : Ze(0, i, c, i.img, 0, !0)
                                    }
                                    i.loadComplete = null,
                                    i.img = null,
                                    Et("imageLoadComplete", e, i)
                                }
                            }
                            ,
                            o.features.transform) {
                                var d = "pswp__img pswp__img--placeholder";
                                d += l.msrc ? "" : " pswp__img--placeholder--blank";
                                var f = o.createEl(d, l.msrc ? "img" : "");
                                l.msrc && (f.src = l.msrc),
                                Ye(l, f),
                                c.appendChild(f),
                                l.placeholder = f
                            }
                            l.loading || Xe(l),
                            r.allowProgressiveImg() && (!Fe && O.transform ? Ve.push({
                                item: l,
                                baseDiv: c,
                                img: l.img,
                                index: e,
                                holder: t
                            }) : Ze(0, l, c, l.img, 0, !0))
                        }
                        Fe || e !== u ? At(l) : (tt = c.style,
                        We(l, n || l.img)),
                        t.el.innerHTML = "",
                        t.el.appendChild(c)
                    } else
                        t.el.innerHTML = ""
                },
                cleanSlide: function(t) {
                    t.img && (t.img.onload = t.img.onerror = null),
                    t.loaded = t.loading = t.img = t.imageAppended = !1
                }
            }
        });
        var $e, Je, Qe = {}, ti = function(t, e, i) {
            var n = document.createEvent("CustomEvent")
              , o = {
                origEvent: t,
                target: t.target,
                releasePoint: e,
                pointerType: i || "touch"
            };
            n.initCustomEvent("pswpTap", !0, !0, o),
            t.target.dispatchEvent(n)
        };
        xt("Tap", {
            publicMethods: {
                initTap: function() {
                    Ct("firstTouchStart", r.onTapStart),
                    Ct("touchRelease", r.onTapRelease),
                    Ct("destroy", (function() {
                        Qe = {},
                        $e = null
                    }
                    ))
                },
                onTapStart: function(t) {
                    t.length > 1 && (clearTimeout($e),
                    $e = null)
                },
                onTapRelease: function(t, e) {
                    var i, n;
                    if (e && (!X && !B && !Bt)) {
                        var r = e;
                        if ($e && (clearTimeout($e),
                        $e = null,
                        i = r,
                        n = Qe,
                        Math.abs(i.x - n.x) < 25 && Math.abs(i.y - n.y) < 25))
                            return void Et("doubleTap", r);
                        if ("mouse" === e.type)
                            return void ti(t, e, "mouse");
                        if ("BUTTON" === t.target.tagName.toUpperCase() || o.hasClass(t.target, "pswp__single-tap"))
                            return void ti(t, e);
                        It(Qe, r),
                        $e = setTimeout((function() {
                            ti(t, e),
                            $e = null
                        }
                        ), 300)
                    }
                }
            }
        }),
        xt("DesktopZoom", {
            publicMethods: {
                initDesktopZoom: function() {
                    _ ? Ct("mouseUsed", (function() {
                        r.setupDesktopZoom()
                    }
                    )) : r.setupDesktopZoom(!0)
                },
                setupDesktopZoom: function(e) {
                    Je = {};
                    var i = "wheel mousewheel DOMMouseScroll";
                    Ct("bindEvents", (function() {
                        o.bind(t, i, r.handleMouseWheel)
                    }
                    )),
                    Ct("unbindEvents", (function() {
                        Je && o.unbind(t, i, r.handleMouseWheel)
                    }
                    )),
                    r.mouseZoomedIn = !1;
                    var n, s = function() {
                        r.mouseZoomedIn && (o.removeClass(t, "pswp--zoomed-in"),
                        r.mouseZoomedIn = !1),
                        g < 1 ? o.addClass(t, "pswp--zoom-allowed") : o.removeClass(t, "pswp--zoom-allowed"),
                        a()
                    }, a = function() {
                        n && (o.removeClass(t, "pswp--dragging"),
                        n = !1)
                    };
                    Ct("resize", s),
                    Ct("afterChange", s),
                    Ct("pointerDown", (function() {
                        r.mouseZoomedIn && (n = !0,
                        o.addClass(t, "pswp--dragging"))
                    }
                    )),
                    Ct("pointerUp", a),
                    e || s()
                },
                handleMouseWheel: function(t) {
                    if (g <= r.currItem.fitRatio)
                        return s.modal && (!s.closeOnScroll || Bt || q ? t.preventDefault() : P && Math.abs(t.deltaY) > 2 && (c = !0,
                        r.close())),
                        !0;
                    if (t.stopPropagation(),
                    Je.x = 0,
                    "deltaX"in t)
                        1 === t.deltaMode ? (Je.x = 18 * t.deltaX,
                        Je.y = 18 * t.deltaY) : (Je.x = t.deltaX,
                        Je.y = t.deltaY);
                    else if ("wheelDelta"in t)
                        t.wheelDeltaX && (Je.x = -.16 * t.wheelDeltaX),
                        t.wheelDeltaY ? Je.y = -.16 * t.wheelDeltaY : Je.y = -.16 * t.wheelDelta;
                    else {
                        if (!("detail"in t))
                            return;
                        Je.y = t.detail
                    }
                    Ft(g, !0);
                    var e = ut.x - Je.x
                      , i = ut.y - Je.y;
                    (s.modal || e <= Q.min.x && e >= Q.max.x && i <= Q.min.y && i >= Q.max.y) && t.preventDefault(),
                    r.panTo(e, i)
                },
                toggleDesktopZoom: function(e) {
                    e = e || {
                        x: dt.x / 2 + ht.x,
                        y: dt.y / 2 + ht.y
                    };
                    var i = s.getDoubleTapZoom(!0, r.currItem)
                      , n = g === i;
                    r.mouseZoomedIn = !n,
                    r.zoomTo(n ? r.currItem.initialZoomLevel : i, e, 333),
                    o[(n ? "remove" : "add") + "Class"](t, "pswp--zoomed-in")
                }
            }
        }),
        o.extend(r, Kt)
    }
}
)),
function(t, e) {
    "function" == typeof define && define.amd ? define(e) : "object" == typeof exports ? module.exports = e() : t.PhotoSwipeUI_Default = e()
}(this, (function() {
    "use strict";
    return function(t, e) {
        var i, n, o, r, s, a, l, c, u, d, f, h, p, m, g, v, y, b, x = this, w = !1, S = !0, C = !0, E = {
            barsSize: {
                top: 44,
                bottom: "auto"
            },
            closeElClasses: ["item", "caption", "zoom-wrap", "ui", "top-bar"],
            timeToIdle: 4e3,
            timeToIdleOutside: 1e3,
            loadingIndicatorDelay: 1e3,
            addCaptionHTMLFn: function(t, e) {
                return t.title ? (e.children[0].innerHTML = t.title,
                !0) : (e.children[0].innerHTML = "",
                !1)
            },
            closeEl: !0,
            captionEl: !0,
            fullscreenEl: !0,
            zoomEl: !0,
            shareEl: !0,
            counterEl: !0,
            arrowEl: !0,
            preloaderEl: !0,
            tapToClose: !1,
            tapToToggleControls: !0,
            clickToCloseNonZoomable: !0,
            shareButtons: [{
                id: "facebook",
                label: "Share on Facebook",
                url: "https://www.facebook.com/sharer/sharer.php?u={{url}}"
            }, {
                id: "twitter",
                label: "Tweet",
                url: "https://twitter.com/intent/tweet?text={{text}}&url={{url}}"
            }, {
                id: "pinterest",
                label: "Pin it",
                url: "http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"
            }, {
                id: "download",
                label: "Download image",
                url: "{{raw_image_url}}",
                download: !0
            }],
            getImageURLForShare: function() {
                return t.currItem.src || ""
            },
            getPageURLForShare: function() {
                return window.location.href
            },
            getTextForShare: function() {
                return t.currItem.title || ""
            },
            indexIndicatorSep: " / ",
            fitControlsWidth: 1200
        }, z = function(t) {
            if (v)
                return !0;
            t = t || window.event,
            g.timeToIdle && g.mouseUsed && !u && N();
            for (var i, n, o = (t.target || t.srcElement).getAttribute("class") || "", r = 0; r < R.length; r++)
                (i = R[r]).onTap && o.indexOf("pswp__" + i.name) > -1 && (i.onTap(),
                n = !0);
            if (n) {
                t.stopPropagation && t.stopPropagation(),
                v = !0;
                var s = e.features.isOldAndroid ? 600 : 30;
                setTimeout((function() {
                    v = !1
                }
                ), s)
            }
        }, D = function() {
            return !t.likelyTouchDevice || g.mouseUsed || screen.width > g.fitControlsWidth
        }, k = function(t, i, n) {
            e[(n ? "add" : "remove") + "Class"](t, "pswp__" + i)
        }, P = function() {
            var t = 1 === g.getNumItemsFn();
            t !== m && (k(n, "ui--one-slide", t),
            m = t)
        }, A = function() {
            k(l, "share-modal--hidden", C)
        }, _ = function() {
            return (C = !C) ? (e.removeClass(l, "pswp__share-modal--fade-in"),
            setTimeout((function() {
                C && A()
            }
            ), 300)) : (A(),
            setTimeout((function() {
                C || e.addClass(l, "pswp__share-modal--fade-in")
            }
            ), 30)),
            C || M(),
            !1
        }, T = function(e) {
            var i = (e = e || window.event).target || e.srcElement;
            return t.shout("shareLinkClick", e, i),
            !(!i.href || !i.hasAttribute("download") && (window.open(i.href, "pswp_share", "scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left=" + (window.screen ? Math.round(screen.width / 2 - 275) : 100)),
            C || _(),
            1))
        }, M = function() {
            for (var t, e, i, n, o = "", r = 0; r < g.shareButtons.length; r++)
                t = g.shareButtons[r],
                e = g.getImageURLForShare(t),
                i = g.getPageURLForShare(t),
                n = g.getTextForShare(t),
                o += '<a href="' + t.url.replace("{{url}}", encodeURIComponent(i)).replace("{{image_url}}", encodeURIComponent(e)).replace("{{raw_image_url}}", e).replace("{{text}}", encodeURIComponent(n)) + '" target="_blank" class="pswp__share--' + t.id + '"' + (t.download ? "download" : "") + ">" + t.label + "</a>",
                g.parseShareButtonOut && (o = g.parseShareButtonOut(t, o));
            l.children[0].innerHTML = o,
            l.children[0].onclick = T
        }, I = function(t) {
            for (var i = 0; i < g.closeElClasses.length; i++)
                if (e.hasClass(t, "pswp__" + g.closeElClasses[i]))
                    return !0
        }, L = 0, N = function() {
            clearTimeout(b),
            L = 0,
            u && x.setIdle(!1)
        }, O = function(t) {
            var e = (t = t || window.event).relatedTarget || t.toElement;
            e && "HTML" !== e.nodeName || (clearTimeout(b),
            b = setTimeout((function() {
                x.setIdle(!0)
            }
            ), g.timeToIdleOutside))
        }, F = function(t) {
            h !== t && (k(f, "preloader--active", !t),
            h = t)
        }, U = function(t) {
            var i = t.vGap;
            if (D()) {
                var s = g.barsSize;
                if (g.captionEl && "auto" === s.bottom)
                    if (r || ((r = e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),
                    n.insertBefore(r, o),
                    e.addClass(n, "pswp__ui--fit")),
                    g.addCaptionHTMLFn(t, r, !0)) {
                        var a = r.clientHeight;
                        i.bottom = parseInt(a, 10) || 44
                    } else
                        i.bottom = s.top;
                else
                    i.bottom = "auto" === s.bottom ? 0 : s.bottom;
                i.top = s.top
            } else
                i.top = i.bottom = 0
        }, R = [{
            name: "caption",
            option: "captionEl",
            onInit: function(t) {
                o = t
            }
        }, {
            name: "share-modal",
            option: "shareEl",
            onInit: function(t) {
                l = t
            },
            onTap: function() {
                _()
            }
        }, {
            name: "button--share",
            option: "shareEl",
            onInit: function(t) {
                a = t
            },
            onTap: function() {
                _()
            }
        }, {
            name: "button--zoom",
            option: "zoomEl",
            onTap: t.toggleDesktopZoom
        }, {
            name: "counter",
            option: "counterEl",
            onInit: function(t) {
                s = t
            }
        }, {
            name: "button--close",
            option: "closeEl",
            onTap: t.close
        }, {
            name: "button--arrow--left",
            option: "arrowEl",
            onTap: t.prev
        }, {
            name: "button--arrow--right",
            option: "arrowEl",
            onTap: t.next
        }, {
            name: "button--fs",
            option: "fullscreenEl",
            onTap: function() {
                i.isFullscreen() ? i.exit() : i.enter()
            }
        }, {
            name: "preloader",
            option: "preloaderEl",
            onInit: function(t) {
                f = t
            }
        }];
        x.init = function() {
            e.extend(t.options, E, !0),
            g = t.options,
            n = e.getChildByClass(t.scrollWrap, "pswp__ui"),
            d = t.listen,
            function() {
                var t;
                d("onVerticalDrag", (function(t) {
                    S && t < .95 ? x.hideControls() : !S && t >= .95 && x.showControls()
                }
                )),
                d("onPinchClose", (function(e) {
                    S && e < .9 ? (x.hideControls(),
                    t = !0) : t && !S && e > .9 && x.showControls()
                }
                )),
                d("zoomGestureEnded", (function() {
                    (t = !1) && !S && x.showControls()
                }
                ))
            }(),
            d("beforeChange", x.update),
            d("doubleTap", (function(e) {
                var i = t.currItem.initialZoomLevel;
                t.getZoomLevel() !== i ? t.zoomTo(i, e, 333) : t.zoomTo(g.getDoubleTapZoom(!1, t.currItem), e, 333)
            }
            )),
            d("preventDragEvent", (function(t, e, i) {
                var n = t.target || t.srcElement;
                n && n.getAttribute("class") && t.type.indexOf("mouse") > -1 && (n.getAttribute("class").indexOf("__caption") > 0 || /(SMALL|STRONG|EM)/i.test(n.tagName)) && (i.prevent = !1)
            }
            )),
            d("bindEvents", (function() {
                e.bind(n, "pswpTap click", z),
                e.bind(t.scrollWrap, "pswpTap", x.onGlobalTap),
                t.likelyTouchDevice || e.bind(t.scrollWrap, "mouseover", x.onMouseOver)
            }
            )),
            d("unbindEvents", (function() {
                C || _(),
                y && clearInterval(y),
                e.unbind(document, "mouseout", O),
                e.unbind(document, "mousemove", N),
                e.unbind(n, "pswpTap click", z),
                e.unbind(t.scrollWrap, "pswpTap", x.onGlobalTap),
                e.unbind(t.scrollWrap, "mouseover", x.onMouseOver),
                i && (e.unbind(document, i.eventK, x.updateFullscreen),
                i.isFullscreen() && (g.hideAnimationDuration = 0,
                i.exit()),
                i = null)
            }
            )),
            d("destroy", (function() {
                g.captionEl && (r && n.removeChild(r),
                e.removeClass(o, "pswp__caption--empty")),
                l && (l.children[0].onclick = null),
                e.removeClass(n, "pswp__ui--over-close"),
                e.addClass(n, "pswp__ui--hidden"),
                x.setIdle(!1)
            }
            )),
            g.showAnimationDuration || e.removeClass(n, "pswp__ui--hidden"),
            d("initialZoomIn", (function() {
                g.showAnimationDuration && e.removeClass(n, "pswp__ui--hidden")
            }
            )),
            d("initialZoomOut", (function() {
                e.addClass(n, "pswp__ui--hidden")
            }
            )),
            d("parseVerticalMargin", U),
            function() {
                var t, i, o, r = function(n) {
                    if (n)
                        for (var r = n.length, s = 0; s < r; s++) {
                            t = n[s],
                            i = t.className;
                            for (var a = 0; a < R.length; a++)
                                o = R[a],
                                i.indexOf("pswp__" + o.name) > -1 && (g[o.option] ? (e.removeClass(t, "pswp__element--disabled"),
                                o.onInit && o.onInit(t)) : e.addClass(t, "pswp__element--disabled"))
                        }
                };
                r(n.children);
                var s = e.getChildByClass(n, "pswp__top-bar");
                s && r(s.children)
            }(),
            g.shareEl && a && l && (C = !0),
            P(),
            g.timeToIdle && d("mouseUsed", (function() {
                e.bind(document, "mousemove", N),
                e.bind(document, "mouseout", O),
                y = setInterval((function() {
                    2 == ++L && x.setIdle(!0)
                }
                ), g.timeToIdle / 2)
            }
            )),
            g.fullscreenEl && !e.features.isOldAndroid && (i || (i = x.getFullscreenAPI()),
            i ? (e.bind(document, i.eventK, x.updateFullscreen),
            x.updateFullscreen(),
            e.addClass(t.template, "pswp--supports-fs")) : e.removeClass(t.template, "pswp--supports-fs")),
            g.preloaderEl && (F(!0),
            d("beforeChange", (function() {
                clearTimeout(p),
                p = setTimeout((function() {
                    t.currItem && t.currItem.loading ? (!t.allowProgressiveImg() || t.currItem.img && !t.currItem.img.naturalWidth) && F(!1) : F(!0)
                }
                ), g.loadingIndicatorDelay)
            }
            )),
            d("imageLoadComplete", (function(e, i) {
                t.currItem === i && F(!0)
            }
            )))
        }
        ,
        x.setIdle = function(t) {
            u = t,
            k(n, "ui--idle", t)
        }
        ,
        x.update = function() {
            S && t.currItem ? (x.updateIndexIndicator(),
            g.captionEl && (g.addCaptionHTMLFn(t.currItem, o),
            k(o, "caption--empty", !t.currItem.title)),
            w = !0) : w = !1,
            C || _(),
            P()
        }
        ,
        x.updateFullscreen = function(n) {
            n && setTimeout((function() {
                t.setScrollOffset(0, e.getScrollY())
            }
            ), 50),
            e[(i.isFullscreen() ? "add" : "remove") + "Class"](t.template, "pswp--fs")
        }
        ,
        x.updateIndexIndicator = function() {
            g.counterEl && (s.innerHTML = t.getCurrentIndex() + 1 + g.indexIndicatorSep + g.getNumItemsFn())
        }
        ,
        x.onGlobalTap = function(i) {
            var n = (i = i || window.event).target || i.srcElement;
            if (!v)
                if (i.detail && "mouse" === i.detail.pointerType) {
                    if (I(n))
                        return void t.close();
                    e.hasClass(n, "pswp__img") && (1 === t.getZoomLevel() && t.getZoomLevel() <= t.currItem.fitRatio ? g.clickToCloseNonZoomable && t.close() : t.toggleDesktopZoom(i.detail.releasePoint))
                } else if (g.tapToToggleControls && (S ? x.hideControls() : x.showControls()),
                g.tapToClose && (e.hasClass(n, "pswp__img") || I(n)))
                    return void t.close()
        }
        ,
        x.onMouseOver = function(t) {
            var e = (t = t || window.event).target || t.srcElement;
            k(n, "ui--over-close", I(e))
        }
        ,
        x.hideControls = function() {
            e.addClass(n, "pswp__ui--hidden"),
            S = !1
        }
        ,
        x.showControls = function() {
            S = !0,
            w || x.update(),
            e.removeClass(n, "pswp__ui--hidden")
        }
        ,
        x.supportsFullscreen = function() {
            var t = document;
            return !!(t.exitFullscreen || t.mozCancelFullScreen || t.webkitExitFullscreen || t.msExitFullscreen)
        }
        ,
        x.getFullscreenAPI = function() {
            var e, i = document.documentElement, n = "fullscreenchange";
            return i.requestFullscreen ? e = {
                enterK: "requestFullscreen",
                exitK: "exitFullscreen",
                elementK: "fullscreenElement",
                eventK: n
            } : i.mozRequestFullScreen ? e = {
                enterK: "mozRequestFullScreen",
                exitK: "mozCancelFullScreen",
                elementK: "mozFullScreenElement",
                eventK: "moz" + n
            } : i.webkitRequestFullscreen ? e = {
                enterK: "webkitRequestFullscreen",
                exitK: "webkitExitFullscreen",
                elementK: "webkitFullscreenElement",
                eventK: "webkit" + n
            } : i.msRequestFullscreen && (e = {
                enterK: "msRequestFullscreen",
                exitK: "msExitFullscreen",
                elementK: "msFullscreenElement",
                eventK: "MSFullscreenChange"
            }),
            e && (e.enter = function() {
                return c = g.closeOnScroll,
                g.closeOnScroll = !1,
                "webkitRequestFullscreen" !== this.enterK ? t.template[this.enterK]() : void t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)
            }
            ,
            e.exit = function() {
                return g.closeOnScroll = c,
                document[this.exitK]()
            }
            ,
            e.isFullscreen = function() {
                return document[this.elementK]
            }
            ),
            e
        }
    }
}
)),
/*!
 * noUiSlider v15.2.0
 * Lightweight JavaScript range slider library with full multi-touch support.
 * MIT license
 */
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e((t = "undefined" != typeof globalThis ? globalThis : t || self).noUiSlider = {})
}(this, (function(t) {
    "use strict";
    var e, i;
    function n(t) {
        return "object" == typeof t && "function" == typeof t.to
    }
    function o(t) {
        t.parentElement.removeChild(t)
    }
    function r(t) {
        return null != t
    }
    function s(t) {
        t.preventDefault()
    }
    function a(t) {
        return "number" == typeof t && !isNaN(t) && isFinite(t)
    }
    function l(t, e, i) {
        i > 0 && (f(t, e),
        setTimeout((function() {
            h(t, e)
        }
        ), i))
    }
    function c(t) {
        return Math.max(Math.min(t, 100), 0)
    }
    function u(t) {
        return Array.isArray(t) ? t : [t]
    }
    function d(t) {
        var e = (t = String(t)).split(".");
        return e.length > 1 ? e[1].length : 0
    }
    function f(t, e) {
        t.classList && !/\s/.test(e) ? t.classList.add(e) : t.className += " " + e
    }
    function h(t, e) {
        t.classList && !/\s/.test(e) ? t.classList.remove(e) : t.className = t.className.replace(new RegExp("(^|\\b)" + e.split(" ").join("|") + "(\\b|$)","gi"), " ")
    }
    function p(t) {
        var e = void 0 !== window.pageXOffset
          , i = "CSS1Compat" === (t.compatMode || "");
        return {
            x: e ? window.pageXOffset : i ? t.documentElement.scrollLeft : t.body.scrollLeft,
            y: e ? window.pageYOffset : i ? t.documentElement.scrollTop : t.body.scrollTop
        }
    }
    function m(t, e) {
        return 100 / (e - t)
    }
    function g(t, e, i) {
        return 100 * e / (t[i + 1] - t[i])
    }
    function v(t, e) {
        for (var i = 1; t >= e[i]; )
            i += 1;
        return i
    }
    function y(t, e, i) {
        if (i >= t.slice(-1)[0])
            return 100;
        var n = v(i, t)
          , o = t[n - 1]
          , r = t[n]
          , s = e[n - 1]
          , a = e[n];
        return s + function(t, e) {
            return g(t, t[0] < 0 ? e + Math.abs(t[0]) : e - t[0], 0)
        }([o, r], i) / m(s, a)
    }
    function b(t, e, i, n) {
        if (100 === n)
            return n;
        var o = v(n, t)
          , r = t[o - 1]
          , s = t[o];
        return i ? n - r > (s - r) / 2 ? s : r : e[o - 1] ? t[o - 1] + function(t, e) {
            return Math.round(t / e) * e
        }(n - t[o - 1], e[o - 1]) : n
    }
    t.PipsMode = void 0,
    (e = t.PipsMode || (t.PipsMode = {})).Range = "range",
    e.Steps = "steps",
    e.Positions = "positions",
    e.Count = "count",
    e.Values = "values",
    t.PipsType = void 0,
    (i = t.PipsType || (t.PipsType = {}))[i.None = -1] = "None",
    i[i.NoValue = 0] = "NoValue",
    i[i.LargeValue = 1] = "LargeValue",
    i[i.SmallValue = 2] = "SmallValue";
    var x = function() {
        function t(t, e, i) {
            var n;
            this.xPct = [],
            this.xVal = [],
            this.xSteps = [],
            this.xNumSteps = [],
            this.xHighestCompleteStep = [],
            this.xSteps = [i || !1],
            this.xNumSteps = [!1],
            this.snap = e;
            var o = [];
            for (Object.keys(t).forEach((function(e) {
                o.push([u(t[e]), e])
            }
            )),
            o.sort((function(t, e) {
                return t[0][0] - e[0][0]
            }
            )),
            n = 0; n < o.length; n++)
                this.handleEntryPoint(o[n][1], o[n][0]);
            for (this.xNumSteps = this.xSteps.slice(0),
            n = 0; n < this.xNumSteps.length; n++)
                this.handleStepPoint(n, this.xNumSteps[n])
        }
        return t.prototype.getDistance = function(t) {
            var e, i = [];
            for (e = 0; e < this.xNumSteps.length - 1; e++) {
                var n = this.xNumSteps[e];
                if (n && t / n % 1 != 0)
                    throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of " + this.xPct[e] + "% range must be divisible by step.");
                i[e] = g(this.xVal, t, e)
            }
            return i
        }
        ,
        t.prototype.getAbsoluteDistance = function(t, e, i) {
            var n, o = 0;
            if (t < this.xPct[this.xPct.length - 1])
                for (; t > this.xPct[o + 1]; )
                    o++;
            else
                t === this.xPct[this.xPct.length - 1] && (o = this.xPct.length - 2);
            i || t !== this.xPct[o + 1] || o++,
            null === e && (e = []);
            var r = 1
              , s = e[o]
              , a = 0
              , l = 0
              , c = 0
              , u = 0;
            for (n = i ? (t - this.xPct[o]) / (this.xPct[o + 1] - this.xPct[o]) : (this.xPct[o + 1] - t) / (this.xPct[o + 1] - this.xPct[o]); s > 0; )
                a = this.xPct[o + 1 + u] - this.xPct[o + u],
                e[o + u] * r + 100 - 100 * n > 100 ? (l = a * n,
                r = (s - 100 * n) / e[o + u],
                n = 1) : (l = e[o + u] * a / 100 * r,
                r = 0),
                i ? (c -= l,
                this.xPct.length + u >= 1 && u--) : (c += l,
                this.xPct.length - u >= 1 && u++),
                s = e[o + u] * r;
            return t + c
        }
        ,
        t.prototype.toStepping = function(t) {
            return t = y(this.xVal, this.xPct, t)
        }
        ,
        t.prototype.fromStepping = function(t) {
            return function(t, e, i) {
                if (i >= 100)
                    return t.slice(-1)[0];
                var n = v(i, e)
                  , o = t[n - 1]
                  , r = t[n]
                  , s = e[n - 1];
                return function(t, e) {
                    return e * (t[1] - t[0]) / 100 + t[0]
                }([o, r], (i - s) * m(s, e[n]))
            }(this.xVal, this.xPct, t)
        }
        ,
        t.prototype.getStep = function(t) {
            return t = b(this.xPct, this.xSteps, this.snap, t)
        }
        ,
        t.prototype.getDefaultStep = function(t, e, i) {
            var n = v(t, this.xPct);
            return (100 === t || e && t === this.xPct[n - 1]) && (n = Math.max(n - 1, 1)),
            (this.xVal[n] - this.xVal[n - 1]) / i
        }
        ,
        t.prototype.getNearbySteps = function(t) {
            var e = v(t, this.xPct);
            return {
                stepBefore: {
                    startValue: this.xVal[e - 2],
                    step: this.xNumSteps[e - 2],
                    highestStep: this.xHighestCompleteStep[e - 2]
                },
                thisStep: {
                    startValue: this.xVal[e - 1],
                    step: this.xNumSteps[e - 1],
                    highestStep: this.xHighestCompleteStep[e - 1]
                },
                stepAfter: {
                    startValue: this.xVal[e],
                    step: this.xNumSteps[e],
                    highestStep: this.xHighestCompleteStep[e]
                }
            }
        }
        ,
        t.prototype.countStepDecimals = function() {
            var t = this.xNumSteps.map(d);
            return Math.max.apply(null, t)
        }
        ,
        t.prototype.convert = function(t) {
            return this.getStep(this.toStepping(t))
        }
        ,
        t.prototype.handleEntryPoint = function(t, e) {
            var i;
            if (!a(i = "min" === t ? 0 : "max" === t ? 100 : parseFloat(t)) || !a(e[0]))
                throw new Error("noUiSlider: 'range' value isn't numeric.");
            this.xPct.push(i),
            this.xVal.push(e[0]);
            var n = Number(e[1]);
            i ? this.xSteps.push(!isNaN(n) && n) : isNaN(n) || (this.xSteps[0] = n),
            this.xHighestCompleteStep.push(0)
        }
        ,
        t.prototype.handleStepPoint = function(t, e) {
            if (e)
                if (this.xVal[t] !== this.xVal[t + 1]) {
                    this.xSteps[t] = g([this.xVal[t], this.xVal[t + 1]], e, 0) / m(this.xPct[t], this.xPct[t + 1]);
                    var i = (this.xVal[t + 1] - this.xVal[t]) / this.xNumSteps[t]
                      , n = Math.ceil(Number(i.toFixed(3)) - 1)
                      , o = this.xVal[t] + this.xNumSteps[t] * n;
                    this.xHighestCompleteStep[t] = o
                } else
                    this.xSteps[t] = this.xHighestCompleteStep[t] = this.xVal[t]
        }
        ,
        t
    }()
      , w = {
        to: function(t) {
            return void 0 === t ? "" : t.toFixed(2)
        },
        from: Number
    }
      , S = {
        target: "target",
        base: "base",
        origin: "origin",
        handle: "handle",
        handleLower: "handle-lower",
        handleUpper: "handle-upper",
        touchArea: "touch-area",
        horizontal: "horizontal",
        vertical: "vertical",
        background: "background",
        connect: "connect",
        connects: "connects",
        ltr: "ltr",
        rtl: "rtl",
        textDirectionLtr: "txt-dir-ltr",
        textDirectionRtl: "txt-dir-rtl",
        draggable: "draggable",
        drag: "state-drag",
        tap: "state-tap",
        active: "active",
        tooltip: "tooltip",
        pips: "pips",
        pipsHorizontal: "pips-horizontal",
        pipsVertical: "pips-vertical",
        marker: "marker",
        markerHorizontal: "marker-horizontal",
        markerVertical: "marker-vertical",
        markerNormal: "marker-normal",
        markerLarge: "marker-large",
        markerSub: "marker-sub",
        value: "value",
        valueHorizontal: "value-horizontal",
        valueVertical: "value-vertical",
        valueNormal: "value-normal",
        valueLarge: "value-large",
        valueSub: "value-sub"
    }
      , C = ".__tooltips"
      , E = ".__aria";
    function z(t, e) {
        if (!a(e))
            throw new Error("noUiSlider: 'step' is not numeric.");
        t.singleStep = e
    }
    function D(t, e) {
        if (!a(e))
            throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");
        t.keyboardPageMultiplier = e
    }
    function k(t, e) {
        if (!a(e))
            throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");
        t.keyboardDefaultStep = e
    }
    function P(t, e) {
        if ("object" != typeof e || Array.isArray(e))
            throw new Error("noUiSlider: 'range' is not an object.");
        if (void 0 === e.min || void 0 === e.max)
            throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");
        if (e.min === e.max)
            throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");
        t.spectrum = new x(e,t.snap || !1,t.singleStep)
    }
    function A(t, e) {
        if (e = u(e),
        !Array.isArray(e) || !e.length)
            throw new Error("noUiSlider: 'start' option is incorrect.");
        t.handles = e.length,
        t.start = e
    }
    function _(t, e) {
        if ("boolean" != typeof e)
            throw new Error("noUiSlider: 'snap' option must be a boolean.");
        t.snap = e
    }
    function T(t, e) {
        if ("boolean" != typeof e)
            throw new Error("noUiSlider: 'animate' option must be a boolean.");
        t.animate = e
    }
    function M(t, e) {
        if ("number" != typeof e)
            throw new Error("noUiSlider: 'animationDuration' option must be a number.");
        t.animationDuration = e
    }
    function I(t, e) {
        var i, n = [!1];
        if ("lower" === e ? e = [!0, !1] : "upper" === e && (e = [!1, !0]),
        !0 === e || !1 === e) {
            for (i = 1; i < t.handles; i++)
                n.push(e);
            n.push(!1)
        } else {
            if (!Array.isArray(e) || !e.length || e.length !== t.handles + 1)
                throw new Error("noUiSlider: 'connect' option doesn't match handle count.");
            n = e
        }
        t.connect = n
    }
    function L(t, e) {
        switch (e) {
        case "horizontal":
            t.ort = 0;
            break;
        case "vertical":
            t.ort = 1;
            break;
        default:
            throw new Error("noUiSlider: 'orientation' option is invalid.")
        }
    }
    function N(t, e) {
        if (!a(e))
            throw new Error("noUiSlider: 'margin' option must be numeric.");
        0 !== e && (t.margin = t.spectrum.getDistance(e))
    }
    function O(t, e) {
        if (!a(e))
            throw new Error("noUiSlider: 'limit' option must be numeric.");
        if (t.limit = t.spectrum.getDistance(e),
        !t.limit || t.handles < 2)
            throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")
    }
    function F(t, e) {
        var i;
        if (!a(e) && !Array.isArray(e))
            throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
        if (Array.isArray(e) && 2 !== e.length && !a(e[0]) && !a(e[1]))
            throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");
        if (0 !== e) {
            for (Array.isArray(e) || (e = [e, e]),
            t.padding = [t.spectrum.getDistance(e[0]), t.spectrum.getDistance(e[1])],
            i = 0; i < t.spectrum.xNumSteps.length - 1; i++)
                if (t.padding[0][i] < 0 || t.padding[1][i] < 0)
                    throw new Error("noUiSlider: 'padding' option must be a positive number(s).");
            var n = e[0] + e[1]
              , o = t.spectrum.xVal[0];
            if (n / (t.spectrum.xVal[t.spectrum.xVal.length - 1] - o) > 1)
                throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")
        }
    }
    function U(t, e) {
        switch (e) {
        case "ltr":
            t.dir = 0;
            break;
        case "rtl":
            t.dir = 1;
            break;
        default:
            throw new Error("noUiSlider: 'direction' option was not recognized.")
        }
    }
    function R(t, e) {
        if ("string" != typeof e)
            throw new Error("noUiSlider: 'behaviour' must be a string containing options.");
        var i = e.indexOf("tap") >= 0
          , n = e.indexOf("drag") >= 0
          , o = e.indexOf("fixed") >= 0
          , r = e.indexOf("snap") >= 0
          , s = e.indexOf("hover") >= 0
          , a = e.indexOf("unconstrained") >= 0;
        if (o) {
            if (2 !== t.handles)
                throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");
            N(t, t.start[1] - t.start[0])
        }
        if (a && (t.margin || t.limit))
            throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");
        t.events = {
            tap: i || r,
            drag: n,
            fixed: o,
            snap: r,
            hover: s,
            unconstrained: a
        }
    }
    function j(t, e) {
        if (!1 !== e)
            if (!0 === e || n(e)) {
                t.tooltips = [];
                for (var i = 0; i < t.handles; i++)
                    t.tooltips.push(e)
            } else {
                if ((e = u(e)).length !== t.handles)
                    throw new Error("noUiSlider: must pass a formatter for all handles.");
                e.forEach((function(t) {
                    if ("boolean" != typeof t && !n(t))
                        throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")
                }
                )),
                t.tooltips = e
            }
    }
    function W(t, e) {
        if (!n(e))
            throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");
        t.ariaFormat = e
    }
    function H(t, e) {
        if (!function(t) {
            return n(t) && "function" == typeof t.from
        }(e))
            throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");
        t.format = e
    }
    function V(t, e) {
        if ("boolean" != typeof e)
            throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");
        t.keyboardSupport = e
    }
    function q(t, e) {
        t.documentElement = e
    }
    function B(t, e) {
        if ("string" != typeof e && !1 !== e)
            throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");
        t.cssPrefix = e
    }
    function Z(t, e) {
        if ("object" != typeof e)
            throw new Error("noUiSlider: 'cssClasses' must be an object.");
        "string" == typeof t.cssPrefix ? (t.cssClasses = {},
        Object.keys(e).forEach((function(i) {
            t.cssClasses[i] = t.cssPrefix + e[i]
        }
        ))) : t.cssClasses = e
    }
    function X(t) {
        var e = {
            margin: null,
            limit: null,
            padding: null,
            animate: !0,
            animationDuration: 300,
            ariaFormat: w,
            format: w
        }
          , i = {
            step: {
                r: !1,
                t: z
            },
            keyboardPageMultiplier: {
                r: !1,
                t: D
            },
            keyboardDefaultStep: {
                r: !1,
                t: k
            },
            start: {
                r: !0,
                t: A
            },
            connect: {
                r: !0,
                t: I
            },
            direction: {
                r: !0,
                t: U
            },
            snap: {
                r: !1,
                t: _
            },
            animate: {
                r: !1,
                t: T
            },
            animationDuration: {
                r: !1,
                t: M
            },
            range: {
                r: !0,
                t: P
            },
            orientation: {
                r: !1,
                t: L
            },
            margin: {
                r: !1,
                t: N
            },
            limit: {
                r: !1,
                t: O
            },
            padding: {
                r: !1,
                t: F
            },
            behaviour: {
                r: !0,
                t: R
            },
            ariaFormat: {
                r: !1,
                t: W
            },
            format: {
                r: !1,
                t: H
            },
            tooltips: {
                r: !1,
                t: j
            },
            keyboardSupport: {
                r: !0,
                t: V
            },
            documentElement: {
                r: !1,
                t: q
            },
            cssPrefix: {
                r: !0,
                t: B
            },
            cssClasses: {
                r: !0,
                t: Z
            }
        }
          , n = {
            connect: !1,
            direction: "ltr",
            behaviour: "tap",
            orientation: "horizontal",
            keyboardSupport: !0,
            cssPrefix: "noUi-",
            cssClasses: S,
            keyboardPageMultiplier: 5,
            keyboardDefaultStep: 10
        };
        t.format && !t.ariaFormat && (t.ariaFormat = t.format),
        Object.keys(i).forEach((function(o) {
            if (r(t[o]) || void 0 !== n[o])
                i[o].t(e, r(t[o]) ? t[o] : n[o]);
            else if (i[o].r)
                throw new Error("noUiSlider: '" + o + "' is required.")
        }
        )),
        e.pips = t.pips;
        var o = document.createElement("div")
          , s = void 0 !== o.style.msTransform
          , a = void 0 !== o.style.transform;
        e.transformRule = a ? "transform" : s ? "msTransform" : "webkitTransform";
        return e.style = [["left", "top"], ["right", "bottom"]][e.dir][e.ort],
        e
    }
    function G(e, i, n) {
        var a, d, m, g, v, y, b, x = window.navigator.pointerEnabled ? {
            start: "pointerdown",
            move: "pointermove",
            end: "pointerup"
        } : window.navigator.msPointerEnabled ? {
            start: "MSPointerDown",
            move: "MSPointerMove",
            end: "MSPointerUp"
        } : {
            start: "mousedown touchstart",
            move: "mousemove touchmove",
            end: "mouseup touchend"
        }, w = window.CSS && CSS.supports && CSS.supports("touch-action", "none") && function() {
            var t = !1;
            try {
                var e = Object.defineProperty({}, "passive", {
                    get: function() {
                        t = !0
                    }
                });
                window.addEventListener("test", null, e)
            } catch (t) {}
            return t
        }(), S = e, z = i.spectrum, D = [], k = [], P = [], A = 0, _ = {}, T = e.ownerDocument, M = i.documentElement || T.documentElement, I = T.body, L = "rtl" === T.dir || 1 === i.ort ? 0 : 100;
        function N(t, e) {
            var i = T.createElement("div");
            return e && f(i, e),
            t.appendChild(i),
            i
        }
        function O(t, e) {
            var n = N(t, i.cssClasses.origin)
              , o = N(n, i.cssClasses.handle);
            return N(o, i.cssClasses.touchArea),
            o.setAttribute("data-handle", String(e)),
            i.keyboardSupport && (o.setAttribute("tabindex", "0"),
            o.addEventListener("keydown", (function(t) {
                return function(t, e) {
                    if (R() || j(e))
                        return !1;
                    var n = ["Left", "Right"]
                      , o = ["Down", "Up"]
                      , r = ["PageDown", "PageUp"]
                      , s = ["Home", "End"];
                    i.dir && !i.ort ? n.reverse() : i.ort && !i.dir && (o.reverse(),
                    r.reverse());
                    var a, l = t.key.replace("Arrow", ""), c = l === r[0], u = l === r[1], d = l === o[0] || l === n[0] || c, f = l === o[1] || l === n[1] || u, h = l === s[0], p = l === s[1];
                    if (!(d || f || h || p))
                        return !0;
                    if (t.preventDefault(),
                    f || d) {
                        var m = i.keyboardPageMultiplier
                          , g = d ? 0 : 1
                          , v = vt(e)[g];
                        if (null === v)
                            return !1;
                        !1 === v && (v = z.getDefaultStep(k[e], d, i.keyboardDefaultStep)),
                        (u || c) && (v *= m),
                        v = Math.max(v, 1e-7),
                        v *= d ? -1 : 1,
                        a = D[e] + v
                    } else
                        a = p ? i.spectrum.xVal[i.spectrum.xVal.length - 1] : i.spectrum.xVal[0];
                    return ft(e, z.toStepping(a), !0, !0),
                    st("slide", e),
                    st("update", e),
                    st("change", e),
                    st("set", e),
                    !1
                }(t, e)
            }
            ))),
            o.setAttribute("role", "slider"),
            o.setAttribute("aria-orientation", i.ort ? "vertical" : "horizontal"),
            0 === e ? f(o, i.cssClasses.handleLower) : e === i.handles - 1 && f(o, i.cssClasses.handleUpper),
            n
        }
        function F(t, e) {
            return !!e && N(t, i.cssClasses.connect)
        }
        function U(t, e) {
            return !(!i.tooltips || !i.tooltips[e]) && N(t.firstChild, i.cssClasses.tooltip)
        }
        function R() {
            return S.hasAttribute("disabled")
        }
        function j(t) {
            return d[t].hasAttribute("disabled")
        }
        function W() {
            v && (rt("update" + C),
            v.forEach((function(t) {
                t && o(t)
            }
            )),
            v = null)
        }
        function H() {
            W(),
            v = d.map(U),
            ot("update" + C, (function(t, e, n) {
                if (v && i.tooltips && !1 !== v[e]) {
                    var o = t[e];
                    !0 !== i.tooltips[e] && (o = i.tooltips[e].to(n[e])),
                    v[e].innerHTML = o
                }
            }
            ))
        }
        function V(t, e) {
            return t.map((function(t) {
                return z.fromStepping(e ? z.getStep(t) : t)
            }
            ))
        }
        function q(e) {
            var i, n = function(e) {
                if (e.mode === t.PipsMode.Range || e.mode === t.PipsMode.Steps)
                    return z.xVal;
                if (e.mode === t.PipsMode.Count) {
                    if (e.values < 2)
                        throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");
                    for (var i = e.values - 1, n = 100 / i, o = []; i--; )
                        o[i] = i * n;
                    return o.push(100),
                    V(o, e.stepped)
                }
                return e.mode === t.PipsMode.Positions ? V(e.values, e.stepped) : e.mode === t.PipsMode.Values ? e.stepped ? e.values.map((function(t) {
                    return z.fromStepping(z.getStep(z.toStepping(t)))
                }
                )) : e.values : []
            }(e), o = {}, r = z.xVal[0], s = z.xVal[z.xVal.length - 1], a = !1, l = !1, c = 0;
            return i = n.slice().sort((function(t, e) {
                return t - e
            }
            )),
            (n = i.filter((function(t) {
                return !this[t] && (this[t] = !0)
            }
            ), {}))[0] !== r && (n.unshift(r),
            a = !0),
            n[n.length - 1] !== s && (n.push(s),
            l = !0),
            n.forEach((function(i, r) {
                var s, u, d, f, h, p, m, g, v, y, b = i, x = n[r + 1], w = e.mode === t.PipsMode.Steps;
                for (w && (s = z.xNumSteps[r]),
                s || (s = x - b),
                void 0 === x && (x = b),
                s = Math.max(s, 1e-7),
                u = b; u <= x; u = Number((u + s).toFixed(7))) {
                    for (g = (h = (f = z.toStepping(u)) - c) / (e.density || 1),
                    y = h / (v = Math.round(g)),
                    d = 1; d <= v; d += 1)
                        o[(p = c + d * y).toFixed(5)] = [z.fromStepping(p), 0];
                    m = n.indexOf(u) > -1 ? t.PipsType.LargeValue : w ? t.PipsType.SmallValue : t.PipsType.NoValue,
                    !r && a && u !== x && (m = 0),
                    u === x && l || (o[f.toFixed(5)] = [u, m]),
                    c = f
                }
            }
            )),
            o
        }
        function B(e, n, o) {
            var r, s, a = T.createElement("div"), l = ((r = {})[t.PipsType.None] = "",
            r[t.PipsType.NoValue] = i.cssClasses.valueNormal,
            r[t.PipsType.LargeValue] = i.cssClasses.valueLarge,
            r[t.PipsType.SmallValue] = i.cssClasses.valueSub,
            r), c = ((s = {})[t.PipsType.None] = "",
            s[t.PipsType.NoValue] = i.cssClasses.markerNormal,
            s[t.PipsType.LargeValue] = i.cssClasses.markerLarge,
            s[t.PipsType.SmallValue] = i.cssClasses.markerSub,
            s), u = [i.cssClasses.valueHorizontal, i.cssClasses.valueVertical], d = [i.cssClasses.markerHorizontal, i.cssClasses.markerVertical];
            function h(t, e) {
                var n = e === i.cssClasses.value
                  , o = n ? l : c;
                return e + " " + (n ? u : d)[i.ort] + " " + o[t]
            }
            return f(a, i.cssClasses.pips),
            f(a, 0 === i.ort ? i.cssClasses.pipsHorizontal : i.cssClasses.pipsVertical),
            Object.keys(e).forEach((function(r) {
                !function(e, r, s) {
                    if ((s = n ? n(r, s) : s) !== t.PipsType.None) {
                        var l = N(a, !1);
                        l.className = h(s, i.cssClasses.marker),
                        l.style[i.style] = e + "%",
                        s > t.PipsType.NoValue && ((l = N(a, !1)).className = h(s, i.cssClasses.value),
                        l.setAttribute("data-value", String(r)),
                        l.style[i.style] = e + "%",
                        l.innerHTML = String(o.to(r)))
                    }
                }(r, e[r][0], e[r][1])
            }
            )),
            a
        }
        function Z() {
            g && (o(g),
            g = null)
        }
        function G(t) {
            Z();
            var e = q(t)
              , i = t.filter
              , n = t.format || {
                to: function(t) {
                    return String(Math.round(t))
                }
            };
            return g = S.appendChild(B(e, i, n))
        }
        function Y() {
            var t = a.getBoundingClientRect()
              , e = "offset" + ["Width", "Height"][i.ort];
            return 0 === i.ort ? t.width || a[e] : t.height || a[e]
        }
        function K(t, e, n, o) {
            var r = function(r) {
                var s, a, l = function(t, e, i) {
                    var n = 0 === t.type.indexOf("touch")
                      , o = 0 === t.type.indexOf("mouse")
                      , r = 0 === t.type.indexOf("pointer")
                      , s = 0
                      , a = 0;
                    0 === t.type.indexOf("MSPointer") && (r = !0);
                    if ("mousedown" === t.type && !t.buttons && !t.touches)
                        return !1;
                    if (n) {
                        var l = function(e) {
                            var n = e.target;
                            return n === i || i.contains(n) || t.composed && t.composedPath().shift() === i
                        };
                        if ("touchstart" === t.type) {
                            var c = Array.prototype.filter.call(t.touches, l);
                            if (c.length > 1)
                                return !1;
                            s = c[0].pageX,
                            a = c[0].pageY
                        } else {
                            var u = Array.prototype.find.call(t.changedTouches, l);
                            if (!u)
                                return !1;
                            s = u.pageX,
                            a = u.pageY
                        }
                    }
                    e = e || p(T),
                    (o || r) && (s = t.clientX + e.x,
                    a = t.clientY + e.y);
                    return t.pageOffset = e,
                    t.points = [s, a],
                    t.cursor = o || r,
                    t
                }(r, o.pageOffset, o.target || e);
                return !!l && (!(R() && !o.doNotReject) && (s = S,
                a = i.cssClasses.tap,
                !((s.classList ? s.classList.contains(a) : new RegExp("\\b" + a + "\\b").test(s.className)) && !o.doNotReject) && (!(t === x.start && void 0 !== l.buttons && l.buttons > 1) && ((!o.hover || !l.buttons) && (w || l.preventDefault(),
                l.calcPoint = l.points[i.ort],
                void n(l, o))))))
            }
              , s = [];
            return t.split(" ").forEach((function(t) {
                e.addEventListener(t, r, !!w && {
                    passive: !0
                }),
                s.push([t, r])
            }
            )),
            s
        }
        function $(t) {
            var e, n, o, r, s, l, u = 100 * (t - (e = a,
            n = i.ort,
            o = e.getBoundingClientRect(),
            r = e.ownerDocument,
            s = r.documentElement,
            l = p(r),
            /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (l.x = 0),
            n ? o.top + l.y - s.clientTop : o.left + l.x - s.clientLeft)) / Y();
            return u = c(u),
            i.dir ? 100 - u : u
        }
        function J(t, e) {
            "mouseout" === t.type && "HTML" === t.target.nodeName && null === t.relatedTarget && tt(t, e)
        }
        function Q(t, e) {
            if (-1 === navigator.appVersion.indexOf("MSIE 9") && 0 === t.buttons && 0 !== e.buttonsProperty)
                return tt(t, e);
            var n = (i.dir ? -1 : 1) * (t.calcPoint - e.startCalcPoint);
            ct(n > 0, 100 * n / e.baseSize, e.locations, e.handleNumbers, e.connect)
        }
        function tt(t, e) {
            e.handle && (h(e.handle, i.cssClasses.active),
            A -= 1),
            e.listeners.forEach((function(t) {
                M.removeEventListener(t[0], t[1])
            }
            )),
            0 === A && (h(S, i.cssClasses.drag),
            dt(),
            t.cursor && (I.style.cursor = "",
            I.removeEventListener("selectstart", s))),
            e.handleNumbers.forEach((function(t) {
                st("change", t),
                st("set", t),
                st("end", t)
            }
            ))
        }
        function et(t, e) {
            if (!e.handleNumbers.some(j)) {
                var n;
                if (1 === e.handleNumbers.length)
                    n = d[e.handleNumbers[0]].children[0],
                    A += 1,
                    f(n, i.cssClasses.active);
                t.stopPropagation();
                var o = []
                  , r = K(x.move, M, Q, {
                    target: t.target,
                    handle: n,
                    connect: e.connect,
                    listeners: o,
                    startCalcPoint: t.calcPoint,
                    baseSize: Y(),
                    pageOffset: t.pageOffset,
                    handleNumbers: e.handleNumbers,
                    buttonsProperty: t.buttons,
                    locations: k.slice()
                })
                  , a = K(x.end, M, tt, {
                    target: t.target,
                    handle: n,
                    listeners: o,
                    doNotReject: !0,
                    handleNumbers: e.handleNumbers
                })
                  , l = K("mouseout", M, J, {
                    target: t.target,
                    handle: n,
                    listeners: o,
                    doNotReject: !0,
                    handleNumbers: e.handleNumbers
                });
                o.push.apply(o, r.concat(a, l)),
                t.cursor && (I.style.cursor = getComputedStyle(t.target).cursor,
                d.length > 1 && f(S, i.cssClasses.drag),
                I.addEventListener("selectstart", s, !1)),
                e.handleNumbers.forEach((function(t) {
                    st("start", t)
                }
                ))
            }
        }
        function it(t) {
            t.stopPropagation();
            var e = $(t.calcPoint)
              , n = function(t) {
                var e = 100
                  , i = !1;
                return d.forEach((function(n, o) {
                    if (!j(o)) {
                        var r = k[o]
                          , s = Math.abs(r - t);
                        (s < e || s <= e && t > r || 100 === s && 100 === e) && (i = o,
                        e = s)
                    }
                }
                )),
                i
            }(e);
            !1 !== n && (i.events.snap || l(S, i.cssClasses.tap, i.animationDuration),
            ft(n, e, !0, !0),
            dt(),
            st("slide", n, !0),
            st("update", n, !0),
            st("change", n, !0),
            st("set", n, !0),
            i.events.snap && et(t, {
                handleNumbers: [n]
            }))
        }
        function nt(t) {
            var e = $(t.calcPoint)
              , i = z.getStep(e)
              , n = z.fromStepping(i);
            Object.keys(_).forEach((function(t) {
                "hover" === t.split(".")[0] && _[t].forEach((function(t) {
                    t.call(yt, n)
                }
                ))
            }
            ))
        }
        function ot(t, e) {
            _[t] = _[t] || [],
            _[t].push(e),
            "update" === t.split(".")[0] && d.forEach((function(t, e) {
                st("update", e)
            }
            ))
        }
        function rt(t) {
            var e = t && t.split(".")[0]
              , i = e ? t.substring(e.length) : t;
            Object.keys(_).forEach((function(t) {
                var n = t.split(".")[0]
                  , o = t.substring(n.length);
                e && e !== n || i && i !== o || function(t) {
                    return t === E || t === C
                }(o) && i !== o || delete _[t]
            }
            ))
        }
        function st(t, e, n) {
            Object.keys(_).forEach((function(o) {
                var r = o.split(".")[0];
                t === r && _[o].forEach((function(t) {
                    t.call(yt, D.map(i.format.to), e, D.slice(), n || !1, k.slice(), yt)
                }
                ))
            }
            ))
        }
        function at(t, e, n, o, r, s) {
            var a;
            return d.length > 1 && !i.events.unconstrained && (o && e > 0 && (a = z.getAbsoluteDistance(t[e - 1], i.margin, !1),
            n = Math.max(n, a)),
            r && e < d.length - 1 && (a = z.getAbsoluteDistance(t[e + 1], i.margin, !0),
            n = Math.min(n, a))),
            d.length > 1 && i.limit && (o && e > 0 && (a = z.getAbsoluteDistance(t[e - 1], i.limit, !1),
            n = Math.min(n, a)),
            r && e < d.length - 1 && (a = z.getAbsoluteDistance(t[e + 1], i.limit, !0),
            n = Math.max(n, a))),
            i.padding && (0 === e && (a = z.getAbsoluteDistance(0, i.padding[0], !1),
            n = Math.max(n, a)),
            e === d.length - 1 && (a = z.getAbsoluteDistance(100, i.padding[1], !0),
            n = Math.min(n, a))),
            !((n = c(n = z.getStep(n))) === t[e] && !s) && n
        }
        function lt(t, e) {
            var n = i.ort;
            return (n ? e : t) + ", " + (n ? t : e)
        }
        function ct(t, e, i, n, o) {
            var r = i.slice()
              , s = n[0]
              , a = [!t, t]
              , l = [t, !t];
            n = n.slice(),
            t && n.reverse(),
            n.length > 1 ? n.forEach((function(t, i) {
                var n = at(r, t, r[t] + e, a[i], l[i], !1);
                !1 === n ? e = 0 : (e = n - r[t],
                r[t] = n)
            }
            )) : a = l = [!0];
            var c = !1;
            n.forEach((function(t, n) {
                c = ft(t, i[t] + e, a[n], l[n]) || c
            }
            )),
            c && (n.forEach((function(t) {
                st("update", t),
                st("slide", t)
            }
            )),
            null != o && st("drag", s))
        }
        function ut(t, e) {
            return i.dir ? 100 - t - e : t
        }
        function dt() {
            P.forEach((function(t) {
                var e = k[t] > 50 ? -1 : 1
                  , i = 3 + (d.length + e * t);
                d[t].style.zIndex = String(i)
            }
            ))
        }
        function ft(t, e, n, o, r) {
            return r || (e = at(k, t, e, n, o, !1)),
            !1 !== e && (function(t, e) {
                k[t] = e,
                D[t] = z.fromStepping(e);
                var n = "translate(" + lt(10 * (ut(e, 0) - L) + "%", "0") + ")";
                d[t].style[i.transformRule] = n,
                ht(t),
                ht(t + 1)
            }(t, e),
            !0)
        }
        function ht(t) {
            if (m[t]) {
                var e = 0
                  , n = 100;
                0 !== t && (e = k[t - 1]),
                t !== m.length - 1 && (n = k[t]);
                var o = n - e
                  , r = "translate(" + lt(ut(e, o) + "%", "0") + ")"
                  , s = "scale(" + lt(o / 100, "1") + ")";
                m[t].style[i.transformRule] = r + " " + s
            }
        }
        function pt(t, e) {
            return null === t || !1 === t || void 0 === t ? k[e] : ("number" == typeof t && (t = String(t)),
            !1 !== (t = i.format.from(t)) && (t = z.toStepping(t)),
            !1 === t || isNaN(t) ? k[e] : t)
        }
        function mt(t, e, n) {
            var o = u(t)
              , r = void 0 === k[0];
            e = void 0 === e || e,
            i.animate && !r && l(S, i.cssClasses.tap, i.animationDuration),
            P.forEach((function(t) {
                ft(t, pt(o[t], t), !0, !1, n)
            }
            ));
            for (var s = 1 === P.length ? 0 : 1; s < P.length; ++s)
                P.forEach((function(t) {
                    ft(t, k[t], !0, !0, n)
                }
                ));
            dt(),
            P.forEach((function(t) {
                st("update", t),
                null !== o[t] && e && st("set", t)
            }
            ))
        }
        function gt(t) {
            if (void 0 === t && (t = !1),
            t)
                return 1 === D.length ? D[0] : D.slice(0);
            var e = D.map(i.format.to);
            return 1 === e.length ? e[0] : e
        }
        function vt(t) {
            var e = k[t]
              , n = z.getNearbySteps(e)
              , o = D[t]
              , r = n.thisStep.step
              , s = null;
            if (i.snap)
                return [o - n.stepBefore.startValue || null, n.stepAfter.startValue - o || null];
            !1 !== r && o + r > n.stepAfter.startValue && (r = n.stepAfter.startValue - o),
            s = o > n.thisStep.startValue ? n.thisStep.step : !1 !== n.stepBefore.step && o - n.stepBefore.highestStep,
            100 === e ? r = null : 0 === e && (s = null);
            var a = z.countStepDecimals();
            return null !== r && !1 !== r && (r = Number(r.toFixed(a))),
            null !== s && !1 !== s && (s = Number(s.toFixed(a))),
            [s, r]
        }
        f(y = S, i.cssClasses.target),
        0 === i.dir ? f(y, i.cssClasses.ltr) : f(y, i.cssClasses.rtl),
        0 === i.ort ? f(y, i.cssClasses.horizontal) : f(y, i.cssClasses.vertical),
        f(y, "rtl" === getComputedStyle(y).direction ? i.cssClasses.textDirectionRtl : i.cssClasses.textDirectionLtr),
        a = N(y, i.cssClasses.base),
        function(t, e) {
            var n = N(e, i.cssClasses.connects);
            d = [],
            (m = []).push(F(n, t[0]));
            for (var o = 0; o < i.handles; o++)
                d.push(O(e, o)),
                P[o] = o,
                m.push(F(n, t[o + 1]))
        }(i.connect, a),
        (b = i.events).fixed || d.forEach((function(t, e) {
            K(x.start, t.children[0], et, {
                handleNumbers: [e]
            })
        }
        )),
        b.tap && K(x.start, a, it, {}),
        b.hover && K(x.move, a, nt, {
            hover: !0
        }),
        b.drag && m.forEach((function(t, e) {
            if (!1 !== t && 0 !== e && e !== m.length - 1) {
                var n = d[e - 1]
                  , o = d[e]
                  , r = [t];
                f(t, i.cssClasses.draggable),
                b.fixed && (r.push(n.children[0]),
                r.push(o.children[0])),
                r.forEach((function(i) {
                    K(x.start, i, et, {
                        handles: [n, o],
                        handleNumbers: [e - 1, e],
                        connect: t
                    })
                }
                ))
            }
        }
        )),
        mt(i.start),
        i.pips && G(i.pips),
        i.tooltips && H(),
        rt("update" + E),
        ot("update" + E, (function(t, e, n, o, r) {
            P.forEach((function(t) {
                var e = d[t]
                  , o = at(k, t, 0, !0, !0, !0)
                  , s = at(k, t, 100, !0, !0, !0)
                  , a = r[t]
                  , l = String(i.ariaFormat.to(n[t]));
                o = z.fromStepping(o).toFixed(1),
                s = z.fromStepping(s).toFixed(1),
                a = z.fromStepping(a).toFixed(1),
                e.children[0].setAttribute("aria-valuemin", o),
                e.children[0].setAttribute("aria-valuemax", s),
                e.children[0].setAttribute("aria-valuenow", a),
                e.children[0].setAttribute("aria-valuetext", l)
            }
            ))
        }
        ));
        var yt = {
            destroy: function() {
                for (rt(E),
                rt(C),
                Object.keys(i.cssClasses).forEach((function(t) {
                    h(S, i.cssClasses[t])
                }
                )); S.firstChild; )
                    S.removeChild(S.firstChild);
                delete S.noUiSlider
            },
            steps: function() {
                return P.map(vt)
            },
            on: ot,
            off: rt,
            get: gt,
            set: mt,
            setHandle: function(t, e, i, n) {
                if (!((t = Number(t)) >= 0 && t < P.length))
                    throw new Error("noUiSlider: invalid handle number, got: " + t);
                ft(t, pt(e, t), !0, !0, n),
                st("update", t),
                i && st("set", t)
            },
            reset: function(t) {
                mt(i.start, t)
            },
            __moveHandles: function(t, e, i) {
                ct(t, e, k, i)
            },
            options: n,
            updateOptions: function(t, e) {
                var o = gt()
                  , s = ["margin", "limit", "padding", "range", "animate", "snap", "step", "format", "pips", "tooltips"];
                s.forEach((function(e) {
                    void 0 !== t[e] && (n[e] = t[e])
                }
                ));
                var a = X(n);
                s.forEach((function(e) {
                    void 0 !== t[e] && (i[e] = a[e])
                }
                )),
                z = a.spectrum,
                i.margin = a.margin,
                i.limit = a.limit,
                i.padding = a.padding,
                i.pips ? G(i.pips) : Z(),
                i.tooltips ? H() : W(),
                k = [],
                mt(r(t.start) ? t.start : o, e)
            },
            target: S,
            removePips: Z,
            removeTooltips: W,
            getTooltips: function() {
                return v
            },
            getOrigins: function() {
                return d
            },
            pips: G
        };
        return yt
    }
    function Y(t, e) {
        if (!t || !t.nodeName)
            throw new Error("noUiSlider: create requires a single element, got: " + t);
        if (t.noUiSlider)
            throw new Error("noUiSlider: Slider was already initialized.");
        var i = G(t, X(e), e);
        return t.noUiSlider = i,
        i
    }
    var K = {
        __spectrum: x,
        cssClasses: S,
        create: Y
    };
    t.create = Y,
    t.cssClasses = S,
    t.default = K,
    Object.defineProperty(t, "__esModule", {
        value: !0
    })
}
));
